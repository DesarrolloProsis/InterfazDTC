(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25e0053c"],{"00f9":function(t,s,a){"use strict";a.r(s);a("b0c0"),a("d81d"),a("4de4"),a("d3b7"),a("ddb0");var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"h-75",attrs:{disabled:t.modalLoading}},[s("div",{staticClass:"flex justify-center p-4"},[s("div",{staticClass:"grid gap-2 grid-cols-1"},[t.typeUser?t._e():s("h1",{staticClass:"text-4xl font-bold text-gray-800 text-center mb-8"},[t._v("Mi Perfil")]),t.typeUser?s("div",[s("HeaderGenerico",{attrs:{titulo:"Usuarios Bitacora",tipo:"USUARIO"},on:{"filtrar-usuario":t.guardar_palabra_busqueda}})],1):t._e(),t.typeUser?s("button",{staticClass:"w-full botonIconBuscar justify-center mb-1",on:{click:function(s){t.modalEditar=!0}}},[s("font-awesome-icon",{staticClass:"text-blue-800 h-7 w-5 mr-2",attrs:{icon:"fa-solid fa-plus"}}),s("span",{},[t._v("Agregar Nuevo Usuario")])],1):t._e(),this.typeUser?s("div",{staticClass:"overflow-x-auto bg-white rounded-lg shadow overflow-y-auto",staticStyle:{height:"630px"}},[s("table",{staticClass:"border-collapse table-auto w-full whitespace-no-wrap bg-white table-striped"},[t._m(0),s("tbody",{attrs:{id:"multiselectHamburguesa"}},[0==t.listaUsuarios.length&&1!=t.loadingTabla?[t._m(1)]:t._e(),t.loadingTabla?[t._m(2)]:t._e(),t.listaUsuarios.length>0?t._l(t.listaUsuarios,(function(a,e){return s("tr",{key:e,staticClass:"h-12 text-gray-900 text-sm sm:text-xs"},[s("td",{staticClass:"cuerpoTable text-center",class:{"opacity-50":!a.statusUser}},[t._v(t._s(a.name+" "+a.lastName1+" "+a.lastName2))]),s("td",{staticClass:"cuerpoTable text-center",class:{"opacity-50":!a.statusUser}},[t._v(t._s(a.roll))]),s("td",{staticClass:"cuerpoTable text-center",class:{"opacity-50":!a.statusUser}},[t._v(t._s(a.plazas))]),s("td",{staticClass:"cuerpoTable text-center break-all",class:{"opacity-50":!a.statusUser}},[t._v(t._s(a.mail))]),s("td",{staticClass:"cuerpoTable"},[s("multiselect",{attrs:{placeholder:"Seleccione una Accion",label:"title","track-by":"title",options:t.opticones_select_acciones(a),"option-height":200,"custom-label":t.customLabel,"show-labels":!1},on:{close:function(s){return t.acciones_mapper(a)}},scopedSlots:t._u([{key:"singleLabel",fn:function(a){return[s("div",{staticClass:"inline-flex"},[s("img",{staticClass:"mr-5",attrs:{src:a.option.img,width:"15",height:"15"}}),s("span",{staticClass:"option__title bg-red-300"},[t._v(t._s(a.option.title))])])]}},{key:"option",fn:function(a){return[s("div",{staticClass:"option__desc"},[s("span",{staticClass:"option__title inline-flex"},[s("font-awesome-icon",{staticClass:"text-blue-800 w-4 h-4 mr-2",attrs:{icon:a.option.img}}),t._v(" "+t._s(a.option.title))],1)])]}}],null,!0),model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1)])})):t._e()],2)])]):s("div",[s("Spinner",{attrs:{modalLoading:t.modalLoading}}),t._l(t.listaUsuarios,(function(a,e){return s("div",{key:e,staticClass:"overflow-x-auto w-auto font-titulo bg-white rounded-lg -mb-66 shadow overflow-y-auto grid grid-cols-2"},[t._m(3,!0),s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"text-center font-bold"},[t._v(t._s(a.name))])]),t._m(4,!0),s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"text-center font-bold"},[t._v(t._s(a.lastName1))])]),t._m(5,!0),s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"text-center font-bold"},[t._v(t._s(a.lastName2))])]),t._m(6,!0),s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"text-center font-bold"},[t._v(t._s(a.mail))])]),t._m(7,!0),s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"text-center font-bold"},[t._v(t._s(a.roll))])]),t._m(8,!0),s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"text-center font-bold"},[t._v(t._s(a.plazas))])]),s("div"),s("div")])}))],2)]),s("div",{staticClass:"sticky inset-0",class:{"modal-container":t.modal_password}},[t.modal_password?s("div",{staticClass:"rounded-lg justify-center border absolute inset-x-0 bg-white border-gray-400 w-69 sm:w-66 mx-auto my-48 px-12 py-10 shadow-2xl",class:{hidden:t.modalLoading}},[s("div",[s("h1",{staticClass:"text-4xl font-bold text-gray-800 text-center -mt-6"},[t._v("Cambiar contraseña")]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Contraseña Actual:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.datos.password,expression:"datos.password"}],staticClass:"w-full is_valid",attrs:{type:"password",placeholder:"Contraseña Actual",name:"Contraseña"},domProps:{value:t.datos.password},on:{input:function(s){s.target.composing||t.$set(t.datos,"password",s.target.value)}}})]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Nueva Contraseña:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.Password,expression:"User.Password"}],staticClass:"w-full is_valid",attrs:{type:"password",placeholder:"Nueva Contraseña",disabled:t.enviarPassword},domProps:{value:t.User.Password},on:{input:function(s){s.target.composing||t.$set(t.User,"Password",s.target.value)}}})]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Confirmar Contraseña:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.RePassword,expression:"User.RePassword"}],staticClass:"w-full is_valid",attrs:{type:"password",placeholder:"Confirmar Contraseña",disabled:t.enviarPassword},domProps:{value:t.User.RePassword},on:{input:function(s){s.target.composing||t.$set(t.User,"RePassword",s.target.value)}}})]),s("div",{staticClass:"mx-auto my-6 -mb-8"},[s("div",{staticClass:"mx-20 grid grid-cols-2"},[s("button",{staticClass:"botonIconSave m-1",class:{deshabilitado:t.modalLoading},attrs:{disabled:t.modalLoading},on:{click:t.cambiar_pass}},[s("font-awesome-icon",{staticClass:"text-blue-800 mr-2 h-8 w-6",attrs:{icon:"fa-solid fa-floppy-disk"}}),s("span",[t._v("Guardar")])],1),s("button",{staticClass:"botonIconBorrarCard m-1 grid grid-cols-2",class:{deshabilitado:t.modalLoading},attrs:{disabled:t.modalLoading},on:{click:function(s){t.modal_password=!1,t.datos.password="",t.User.RePassword="",t.User.Password=""}}},[s("font-awesome-icon",{staticClass:"text-red-600 mr-2 h-8 w-6",attrs:{icon:"fa-solid fa-trash"}}),s("span",{staticClass:"-ml-2"},[t._v("Cancelar")])],1)])])])]):t._e()]),s("div",{staticClass:"sticky inset-0",class:{"modal-container":t.modalEditar}},[t.modalEditar?s("div",{staticClass:"rounded-lg justify-center border absolute inset-x-0 bg-white border-gray-400 w-69 sm:w-66 mx-auto px-12 py-10 shadow-2xl mt-48"},[s("p",{staticClass:"text-gray-900 font-semibold text-md sm:text-md sm:text-center text-center"},[t._v("Agregar Usuario")]),s("div",{staticClass:"grid grid-cols-2 mt-2"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 sm:-ml-5"},[t._v("Nombre(s)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.objUsuarioNuevo.nombre,expression:"objUsuarioNuevo.nombre"}],staticClass:"w-full bg-white border-gray-400 sm:w-33 sm:-ml-4",attrs:{type:"text"},domProps:{value:t.objUsuarioNuevo.nombre},on:{input:function(s){s.target.composing||t.$set(t.objUsuarioNuevo,"nombre",s.target.value)}}}),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Apellido Paterno")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.objUsuarioNuevo.apellidoM,expression:"objUsuarioNuevo.apellidoM"}],staticClass:"w-full bg-white border-gray-400 mt-2 sm:w-33 sm:-ml-4",attrs:{type:"text"},domProps:{value:t.objUsuarioNuevo.apellidoM},on:{input:function(s){s.target.composing||t.$set(t.objUsuarioNuevo,"apellidoM",s.target.value)}}}),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Apellido Materno")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.objUsuarioNuevo.apellidoP,expression:"objUsuarioNuevo.apellidoP"}],staticClass:"w-full bg-white border-gray-400 mt-2 sm:w-33 sm:-ml-4",attrs:{type:"text"},domProps:{value:t.objUsuarioNuevo.apellidoP},on:{input:function(s){s.target.composing||t.$set(t.objUsuarioNuevo,"apellidoP",s.target.value)}}}),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Constraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.objUsuarioNuevo.password,expression:"objUsuarioNuevo.password"}],staticClass:"w-full bg-white border-gray-400 mt-2 sm:w-33 sm:-ml-4",attrs:{type:"text"},domProps:{value:t.objUsuarioNuevo.password},on:{input:function(s){s.target.composing||t.$set(t.objUsuarioNuevo,"password",s.target.value)}}}),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Tipo Usuario")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.objUsuarioNuevo.tipoUsuario,expression:"objUsuarioNuevo.tipoUsuario"}],staticClass:"w-full mt-2 sm:w-33 sm:-ml-4 is_valid",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.objUsuarioNuevo,"tipoUsuario",s.target.multiple?a:a[0])}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Selecionar...")]),t._l(t.listaTiposUsuario,(function(a,e){return s("option",{key:e},[t._v(t._s(a.nombre))])}))],2),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Tramo")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.tramoSeleccionado,expression:"tramoSeleccionado"}],staticClass:"w-full mt-2 sm:w-33 sm:-ml-4 is_valid",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.tramoSeleccionado=s.target.multiple?a:a[0]}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Selecionar...")]),s("option",{attrs:{value:"1"}},[t._v("México Acapulco")]),s("option",{attrs:{value:"2"}},[t._v("México Irapuato")]),s("option",{attrs:{value:"3"}},[t._v("México Queretaro")])]),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Plaza")]),s("multiselect",{staticClass:"shadow-md hover:border-gray-700 mt-2 sm:w-35 sm:-ml-5",attrs:{"custom-label":t.label_multi_select,"close-on-select":!1,"clear-on-select":!0,hideSelected:!1,placeholder:"Selecciona...",options:t.listaPlazas,"track-by":"squareCatalogId",multiple:!0},scopedSlots:t._u([{key:"selection",fn:function(a){var e=a.values,o=a.isOpen;return[e.length&&!o?s("span",{staticClass:"multiselect__single"},[t._v(t._s(e.length)+" Plaza")]):t._e()]}}],null,!1,983852411),model:{value:t.objUsuarioNuevo.plazas,callback:function(s){t.$set(t.objUsuarioNuevo,"plazas",s)},expression:"objUsuarioNuevo.plazas"}})],1),s("div",{staticClass:"mt-5 text-center ml-6"},[s("button",{staticClass:"botonIconBuscar font-boton sm:-ml-24",on:{click:t.guardar_nuevo_usuario}},[t._v("Guardar")]),s("button",{staticClass:"botonIconCancelar font-boton sm:-mr-20",on:{click:function(s){t.modalEditar=!1}}},[t._v("Cancelar")])])]):t._e()]),s("div",{staticClass:"sticky inset-0",class:{"modal-container":t.modalAddPlaza}},[t.modalAddPlaza?s("div",{staticClass:"rounded-lg justify-center border absolute inset-x-0 bg-white border-gray-400 w-69 sm:w-66 mx-auto px-6 py-10 shadow-2xl mt-48"},[s("p",{staticClass:"text-gray-900 font-semibold text-md sm:text-md sm:text-center text-center"},[t._v("Agregar Plazas")]),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Plazas Asignadas")]),s("p",[t._v(t._s(t.infoUser.plazas))]),s("div",{staticClass:"grid grid-cols-2 mt-2"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Plazas por Asignar")]),s("p"),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Tramo")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.tramoSeleccionado,expression:"tramoSeleccionado"}],staticClass:"w-full mt-2 sm:w-33 sm:-ml-4 is_valid",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.tramoSeleccionado=s.target.multiple?a:a[0]}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Selecionar...")]),s("option",{attrs:{value:"1"}},[t._v("México Acapulco")]),s("option",{attrs:{value:"2"}},[t._v("México Irapuato")]),s("option",{attrs:{value:"3"}},[t._v("México Queretaro")])]),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Plaza")]),s("multiselect",{staticClass:"shadow-md hover:border-gray-700 mt-2 sm:w-35 sm:-ml-5",attrs:{"custom-label":t.label_multi_select,"close-on-select":!1,"clear-on-select":!0,hideSelected:!1,placeholder:"Selecciona...",options:t.listaPlazas,"track-by":"squareCatalogId",multiple:!0},scopedSlots:t._u([{key:"selection",fn:function(a){var e=a.values,o=a.isOpen;return[e.length&&!o?s("span",{staticClass:"multiselect__single"},[t._v(t._s(e.length)+" Plaza")]):t._e()]}}],null,!1,983852411),model:{value:t.obj_editar_plaza.plazas,callback:function(s){t.$set(t.obj_editar_plaza,"plazas",s)},expression:"obj_editar_plaza.plazas"}})],1),s("div",{staticClass:"mt-5 text-center ml-6"},[s("button",{staticClass:"botonIconCrear font-boton sm:-ml-24",on:{click:function(s){return t.agregar_plazas(t.infoUser)}}},[t._v("Agregar")]),s("button",{staticClass:"botonIconCancelar font-boton sm:-mr-20",on:{click:function(s){t.modalAddPlaza=!1}}},[t._v("Cancelar")])])]):t._e()]),s("div",{staticClass:"sticky inset-0",class:{"modal-container":t.modalEliminarPlaza}},[t.modalEliminarPlaza?s("div",{staticClass:"rounded-lg justify-center border absolute inset-x-0 bg-white border-gray-400 w-69 sm:w-66 mx-auto px-6 py-10 shadow-2xl mt-48"},[s("p",{staticClass:"text-gray-900 font-semibold text-md sm:text-md sm:text-center text-center"},[t._v("Eliminar Plazas a "),s("span",[t._v(t._s(t.infoUser.name+" "+t.infoUser.lastName1+" "+t.infoUser.lastName2))])]),s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Plazas Asignadas")]),s("p",[t._v(t._s(t.infoUser.plazas))]),s("div",{staticClass:"grid grid-cols-2 mt-2"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700 mt-2 sm:-ml-5"},[t._v("Plaza")]),s("multiselect",{staticClass:"shadow-md hover:border-gray-700 mt-2 sm:w-35 sm:-ml-5",attrs:{"custom-label":t.label_multi_select,"close-on-select":!1,"clear-on-select":!0,hideSelected:!1,placeholder:"Selecciona...",options:t.plazasUserForDelete,"track-by":"squareCatalogId",multiple:!0},scopedSlots:t._u([{key:"selection",fn:function(a){var e=a.values,o=a.isOpen;return[e.length&&!o?s("span",{staticClass:"multiselect__single"},[t._v(t._s(e.length)+" Plaza")]):t._e()]}}],null,!1,983852411),model:{value:t.obj_borrar_plaza.plazas,callback:function(s){t.$set(t.obj_borrar_plaza,"plazas",s)},expression:"obj_borrar_plaza.plazas"}})],1),s("div",{staticClass:"mt-5 text-center ml-6"},[s("button",{staticClass:"botonIconCrear font-boton sm:-ml-24",on:{click:function(s){return t.eliminar_plaza(t.infoUser)}}},[t._v("Eliminar")]),s("button",{staticClass:"botonIconCancelar font-boton sm:-mr-20",on:{click:function(s){t.modalEliminarPlaza=!1}}},[t._v("Cancelar")])])]):t._e()]),s("div",{staticClass:"sticky inset-0",class:{"modal-container":t.modal}},[s("div",{staticClass:"flex absolute justify-center inset-x-0 mt-34"},[t.modal?s("div",{staticClass:"rounded-lg border border-gray-400 bg-white px-12 py-10 shadow-2xl"},[s("div",{staticClass:"justify-end flex -mr-10 -mt-6"},[s("button",{on:{click:t.limpiar_usuario}},[s("font-awesome-icon",{staticClass:"text-blue-800 h-6 w-6 mr-4",attrs:{icon:"fa-solid fa-xmark"}})],1)]),t.modal_Part?s("div",{staticClass:"mt-2 inset-x-0 bg-white w-66 sm:w-64 mx-auto px-10 py-5 -mb-5"},[s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Tipo de Usuario")]),t.typeUser?s("select",{directives:[{name:"model",rawName:"v-model",value:t.User.Roll,expression:"User.Roll"}],staticClass:"w-full is_valid",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.User,"Roll",s.target.multiple?a:a[0])}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Selecionar...")]),s("option",{attrs:{value:"1"}},[t._v("Técnico Carril")]),s("option",{attrs:{value:"2"}},[t._v("Supervisor Carril")]),s("option",{attrs:{value:"3"}},[t._v("Técnico Plaza")]),s("option",{attrs:{value:"5"}},[t._v("Supervisor Plaza")]),s("option",{attrs:{value:"8"}},[t._v("Gerencia")])]):s("select",{directives:[{name:"model",rawName:"v-model",value:t.User.Roll,expression:"User.Roll"}],staticClass:"w-full is_valid",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.User,"Roll",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"1"}},[t._v("Tecnico")])])]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.Password,expression:"User.Password"}],staticClass:"w-full is_valid",attrs:{disabled:t.enviarPassword},domProps:{value:t.User.Password},on:{input:function(s){s.target.composing||t.$set(t.User,"Password",s.target.value)}}})]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.RePassword,expression:"User.RePassword"}],staticClass:"w-full is_valid",attrs:{disabled:t.enviarPassword},domProps:{value:t.User.RePassword},on:{input:function(s){s.target.composing||t.$set(t.User,"RePassword",s.target.value)}}})]),s("div",{staticClass:"grid grid-cols-2"},[s("div",{staticClass:"flex justify-center mt-5 mr-10"},[s("button",{staticClass:"mt-4 botonIconNext font-boton",on:{click:function(s){t.modal_Part=!1}}},[s("font-awesome-icon",{staticClass:"text-blue-800 h-5 mr-4",attrs:{icon:"fa-solid fa-arrow-left-long"}}),s("span",{staticClass:"text-xs"},[t._v("Regresar")])],1)]),s("div",{staticClass:"flex justify-center mt-5 ml-10"},[s("button",{staticClass:"mt-4 botonIconBuscar font-boton",on:{click:t.confirmar}},[s("font-awesome-icon",{staticClass:"text-blue-800 h-5 mr-4",attrs:{icon:"fa-solid fa-floppy-disk"}}),s("span",{staticClass:"text-xs"},[t._v("Guardar")])],1)])])]):s("div",{staticClass:"mt-3 inset-x-0 bg-white w-66 sm:w-64 mx-auto px-10 py-5"},[s("div",{},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Nombre(s)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.Name,expression:"User.Name"}],staticClass:"w-full is_valid",attrs:{type:"text"},domProps:{value:t.User.Name},on:{input:function(s){s.target.composing||t.$set(t.User,"Name",s.target.value)}}})]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Apellido Materno")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.LastName1,expression:"User.LastName1"}],staticClass:"w-full is_valid",attrs:{type:"text",name:"NoReporte"},domProps:{value:t.User.LastName1},on:{input:function(s){s.target.composing||t.$set(t.User,"LastName1",s.target.value)}}})]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Apellido Paterno")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.LastName2,expression:"User.LastName2"}],staticClass:"w-full is_valid",attrs:{type:"text"},domProps:{value:t.User.LastName2},on:{input:function(s){s.target.composing||t.$set(t.User,"LastName2",s.target.value)}}})]),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-sm mb-1 font-semibold text-gray-700"},[t._v("Correo")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.User.Mail,expression:"User.Mail"}],staticClass:"w-full is_valid",attrs:{type:"text"},domProps:{value:t.User.Mail},on:{input:function(s){s.target.composing||t.$set(t.User,"Mail",s.target.value)}}})]),s("div",{staticClass:"mt-8 flex justify-center"},[s("button",{staticClass:"botonIconNext font-boton",on:{click:function(s){t.modal_Part=!0}}},[s("font-awesome-icon",{staticClass:"text-blue-800 h-5 w-5 mr-2",attrs:{icon:"fa-solid fa-right-long"}}),s("span",{staticClass:"text-xs"},[t._v("Siguiente")])],1)])])]):t._e()])])])])},o=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",{staticClass:"text-md sm:text-sm text-gray-400 font-normal bg-blue-800"},[s("th",{staticClass:"w-64 cabeceraTable font-medium"},[t._v("Nombre")]),s("th",{staticClass:"w-56 cabeceraTable font-medium"},[t._v("Tipo de Usuario")]),s("th",{staticClass:"w-56 cabeceraTable font-medium"},[t._v("Plaza")]),s("th",{staticClass:"w-56 cabeceraTable font-medium"},[t._v("Correo")]),s("th",{staticClass:"w-48 cabeceraTable font-medium"},[t._v("Acciones")])])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"w-full text-center text-red-500 m-10",attrs:{colspan:"10"}},[s("div",{staticClass:"mt-8 mb-8"},[t._v("Sin Informacion")])])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"w-full",attrs:{colspan:"10"}},[s("div",{staticClass:"mt-8 mb-8 border-solid animate-spin rounded-full border-blue-400 border-2 h-10 w-10 mx-auto",staticStyle:{"border-top-color":"transparent"}})])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"font-titulo font-bold"},[t._v("Nombre:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"font-titulo font-bold"},[t._v("Apellido Paterno:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"font-titulo font-bold"},[t._v("Apellido Materno:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"font-titulo font-bold"},[t._v("Correo:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"font-titulo font-bold"},[t._v("Roll de Usuario:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"border-b-2 my-auto"},[s("p",{staticClass:"font-titulo font-bold"},[t._v("Plazas:")])])}],i=a("c7eb"),r=a("1da1"),l=(a("7db0"),a("159b"),a("99af"),a("caad"),a("2532"),a("4201")),n=a("225c"),c=a("8e5f"),d=a.n(c),u="http://201.99.110.3:86/api",m={name:"UsuariosBitacora",components:{Multiselect:d.a,HeaderGenerico:l["a"],Spinner:n["a"]},data:function(){return{lista_Usuarios:[],lista_Usuarios_Filtrada:[],listaUsuarios:[],User:{UserId:"",UserName:"",Name:"",LastName1:"",LastName2:"",Roll:"",Mail:"",Password:"",RePassword:""},modal:!1,modal_Part:!1,disablePass:!1,enviarPassword:!1,typeUser:!0,modalEditar:!1,tramoSeleccionado:"",objUsuarioNuevo:{nombre:"",apellidoM:"",apellidoP:"",password:"",tipoUsuario:"",plazas:[]},value:"",loadingTabla:!1,editados:[],modalLoading:!1,modal_password:!1,datos:{user:"",password:"",checkLog:!0},modalAddPlaza:!1,infoUser:{},obj_editar_plaza:{plazas:[]},obj_borrar_plaza:{plazas:[]},modalEliminarPlaza:!1,nombreOriginal:""}},beforeMount:function(){var t=Object(r["a"])(Object(i["a"])().mark((function t(){var s,a,e=this;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.modalLoading=!0,this.loadingTabla=!0,this.listaUsuarios=[],this.lista_Usuarios_Filtrada=[],s=this.$store.getters["Login/GET_USEER_ID_PLAZA_ID"],a={Id:s.idUser,Square:s.numPlaza},this.$store.dispatch("Usuarios/Consulta_Users",a),setTimeout((function(){e.lista_Usuarios=e.$store.getters["Usuarios/getUsers"],e.lista_Usuarios_Filtrada=e.lista_Usuarios,e.listaUsuarios=e.lista_Usuarios_Filtrada,e.loadingTabla=!1,e.modalLoading=!1}),1e3),1!=this.$store.state.Login.cookiesUser.rollId&&3!=this.$store.state.Login.cookiesUser.rollId||(this.typeUser=!1),this.datos.user=this.$store.state.Login.cookiesUser.userName;case 10:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),methods:{cancelar_guardado:function(){this.editados=[],this.refrescar_usuarios()},guardar_editado:function(t){if(0==this.editados.length)this.editados.push(Object.assign({},t));else if(this.editados.some((function(s){return s["name"]==t["name"]&&s["lastName1"]==t["lastName1"]&&s["lastName2"]==t["lastName2"]})))for(var s=0;s<this.editados.length;s++)this.editados[s]["name"]==t["name"]&&this.editados[s]["lastName1"]==t["lastName1"]&&this.editados[s]["lastName2"]==t["lastName2"]&&(this.editados[s]=Object.assign({},t));else this.editados.push(Object.assign({},t))},cambiar_pass:function(){var t=Object(r["a"])(Object(i["a"])().mark((function t(){var s=this;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("Login/INICIAR_SESION_LOGIN",this.datos).then((function(){if(s.modalLoading=!0,s.User.Password.length<8)s.$notify.error({title:"Ops!!",msg:"LA NUEVA CONTRASEÑA ES DEMASIADO CORTA",position:"bottom right",styles:{height:100,width:500}}),s.modalLoading=!1;else if(s.User.Password==s.User.RePassword)if(""==s.User.Password)s.$notify.error({title:"Ops!!",msg:"LAS CONTRASEÑAS ESTA VACIO",position:"bottom right",styles:{height:100,width:500}});else{var t={UserId:s.listaUsuarios[0].userId,UserName:s.listaUsuarios[0].userName,LastName1:s.listaUsuarios[0].lastName1,LastName2:s.listaUsuarios[0].lastName2,Name:s.listaUsuarios[0].name,Mail:s.listaUsuarios[0].mail,Rol:s.listaUsuarios[0].rollId};s.$store.dispatch("Usuarios/Update_User",t);var a={IdUser:s.listaUsuarios[0].userId,Password:s.User.Password};""!=a.Password&&s.$store.dispatch("Usuarios/UPDATE_PASSWORD",a),setTimeout((function(){s.$notify.success({title:"Ops!!",msg:"SE ACTUALIZO EL USUARIO CORRECTAMENTE.",position:"bottom right",styles:{height:100,width:500}}),s.$router.push("/")}),1e3)}else s.$notify.error({title:"Ops!!",msg:"LAS CONTRASEÑAS NO COINCIDEN.",position:"bottom right",styles:{height:100,width:500}})})).catch((function(){s.$notify.error({title:"Ops!!",msg:"LA CONTRASEÑA ACTUAL NO ES CORRECTA",position:"bottom right",styles:{height:100,width:500}})}));case 1:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),save_editado:function(t){var s=this;if(this.modalLoading=!0,""!=t.name&&""!=t.lastName1&&""!=t.lastName2){var a={UserId:t.userId,UserName:t.userName,LastName1:t.lastName1,LastName2:t.lastName2,Name:t.name,Mail:t.mail,Rol:t.rollId,UserChange:this.$store.state.Login.cookiesUser.userId};this.$http.put("".concat(u,"/User/update"),a).then((function(t){console.log(t),"Ok"==t.data.message?setTimeout((function(){s.$notify.success({title:"Ops!!",msg:"SE ACTUALIZO EL USUARIO CORRECTAMENTE.",position:"bottom right",styles:{height:100,width:500}}),s.modalLoading=!1,s.$router.push("/")}),5e3):setTimeout((function(){s.$notify.error({title:"Ops!!",msg:"NO SE PUDO ACTUALIZAR EL USUARIO CORRECTAMENTE.",position:"bottom right",styles:{height:100,width:500}}),s.modalLoading=!1,s.$router.push("/")}),5e3)}))}else this.$notify.error({title:"Ops!!",msg:"NINGUN CAMPO DEBE DE ESTAR VACÍO",position:"bottom right",styles:{height:100,width:500}})},editar_password:function(){this.enviarPassword?(this.enviarPassword=!1,this.User.Password="***********",this.User.RePassword="***********"):(this.enviarPassword=!0,this.User.Password="",this.User.RePassword="")},refrescar_usuarios:function(){var t=this;this.loadingTabla=!0,this.listaUsuarios=[],this.lista_Usuarios_Filtrada=[];var s=this.$store.getters["Login/GET_USEER_ID_PLAZA_ID"],a={Id:s.idUser,Square:s.numPlaza};this.$store.dispatch("Usuarios/Consulta_Users",a),setTimeout((function(){t.lista_Usuarios=t.$store.getters["Usuarios/getUsers"],t.lista_Usuarios_Filtrada=t.lista_Usuarios,t.listaUsuarios=t.lista_Usuarios_Filtrada,t.loadingTabla=!1}),1e3)},borrar_usuario:function(t){var s={id:t.userId,square:""};this.$store.dispatch("Usuarios/BorrarUser",s),this.refrescar_usuarios(),this.$notify.success({title:"Ok!",msg:"USUARIO DESHABILITADO",position:"bottom right",styles:{height:100,width:500}}),this.$router.push("/Configuracion")},guardar_nuevo_usuario:function(){var t=this,s=this.listaTiposUsuario.find((function(s){return s.nombre==t.objUsuarioNuevo.tipoUsuario})).id;this.objUsuarioNuevo.plazas;var a={name:this.objUsuarioNuevo.nombre,lastName1:this.objUsuarioNuevo.apellidoM,lastName2:this.objUsuarioNuevo.apellidoP,password:this.objUsuarioNuevo.password,rol:s};this.$http.post("".concat(u,"/User/Nuevo"),a).then((function(s){t.$notify.success({title:"Ops!!",msg:"SE REGISTRO EL USUARIO NUEVO  .",position:"bottom right",styles:{height:100,width:500}}),t.objUsuarioNuevo.plazas.forEach((function(a){var e={userId:s.data.result.userId,squareCatalogId:a.squareCatalogId,clavePlaza:a.referenceSquare};t.$http.post("".concat(u,"/User/AddSquareToUser"),e)})),setTimeout((function(){t.$notify.success({title:"Ops!!",msg:"SE ACTIVO CORRECTAMENTE EL USUARIO.",position:"bottom right",styles:{height:100,width:500}}),t.modalEditar=!1,t.refrescar_usuarios()}),1e3)}))},limpiar_usuario:function(){for(var t in this.User)this.User[t]="";this.modal=!1,this.modal_Part=!1,this.disablePass=!1,this.enviarPassword&&(this.enviarPassword=!1,this.User.Password="***********",this.User.RePassword="***********")},editarUsuario:function(t){this.disablePass=!0,this.User.UserId=t.userId,this.User.UserName=t.userName,this.User.Name=t.name,this.User.LastName1=t.lastName1,this.User.LastName2=t.lastName2,this.User.Roll=t.rollId,this.User.Mail=t.mail,this.User.Password="***********",this.User.RePassword="***********",this.modal=!0},confirmar:function(){var t=this;if(this.User.Password==this.User.RePassword){if(""==this.User.Password)this.$notify.error({title:"Ops!!",msg:"LAS CONTRASEÑAS ESTA VACIO",position:"bottom right",styles:{height:100,width:500}});else{var s={UserId:this.User.UserId,UserName:this.User.UserName,LastName1:this.User.LastName1,LastName2:this.User.LastName2,Name:this.User.Name,Mail:this.User.Mail,Rol:this.User.Roll,UserChange:this.$store.state.Login.cookiesUser.userId};this.$http.put("".concat(u,"/User/update"),s).then((function(s){200==s.status&&(t.$notify.success({title:"Ops!!",msg:"SE ACTUALIZO EL USUARIO CORRECTAMENTE.",position:"bottom right",styles:{height:100,width:500}}),t.refrescar_usuarios(),t.modal=!1)}));var a={IdUser:this.User.UserId,Password:this.User.Password};"***********"!=a.Password&&this.$store.dispatch("Usuarios/UPDATE_PASSWORD",a)}this.limpiar_usuario()}else this.$notify.error({title:"Ops!!",msg:"LAS CONTRASEÑAS NO COINCIDEN.",position:"bottom right",styles:{height:100,width:500}})},label_multi_select:function(t){if("Sin Actividad"!=t)return"".concat(t.squareCatalogId," ").concat(t.squareName)},guardar_palabra_busqueda:function(t){if(""!=t){var s=this.lista_Usuarios_Filtrada.filter((function(s){return s.name.toUpperCase().includes(t.toUpperCase())||s.lastName1.toUpperCase().includes(t.toUpperCase())||s.lastName2.toUpperCase().includes(t.toUpperCase())}));this.listaUsuarios=s}else this.listaUsuarios=this.lista_Usuarios},habilitar_usuario:function(t){var s={id:t.userId,plaza:"001"};this.$http.put("".concat(u,"/User/active"),s),this.refrescar_usuarios(),this.$notify.success({title:"Ok!",msg:"USUARIO HABILITADO",position:"bottom right",styles:{height:100,width:500}}),this.$router.push("/Configuracion")},agregar_plazas:function(t){var s=this,a=[];this.obj_editar_plaza.plazas.forEach((function(t){a.push(t.squareCatalogId)}));var e={squareId:a,userId:t.userId,flag:1};this.$http.post("".concat(u,"/User/SquareOfUserUpdate/").concat(a),e),setTimeout((function(){s.$notify.success({title:"Ops!!",msg:"SE AGREGARON LAS PLAZAS CORRECTAMENTE.",position:"bottom right",styles:{height:100,width:500}}),s.modalAddPlaza=!1,s.tramoSeleccionado="",s.obj_editar_plaza=[],s.refrescar_usuarios()}),1e3)},eliminar_plaza:function(t){var s=this,a=[];this.obj_borrar_plaza.plazas.forEach((function(t){a.push(t.squareCatalogId)}));var e={squareId:a,userId:t.userId,flag:0};this.$http.post("".concat(u,"/User/SquareOfUserUpdate/").concat(a),e),setTimeout((function(){s.$notify.success({title:"Ops!!",msg:"SE ELIMINARON LAS PLAZAS CORRECTAMENTE.",position:"bottom right",styles:{height:100,width:500}}),s.modalEliminarPlaza=!1,s.obj_borrar_plaza=[],s.refrescar_usuarios()}),1e3)},customLabel:function(t){var s=t.title;return"".concat(s)},acciones_mapper:function(t){"Editar"==this.value.title&&this.editarUsuario(t),"Deshabilitar"==this.value.title&&this.borrar_usuario(t),"Habilitar"==this.value.title&&this.habilitar_usuario(t),"Agregar Plaza"==this.value.title&&(this.infoUser=t,this.modalAddPlaza=!0),"Eliminar Plaza"==this.value.title&&(this.plazasUserForDelete=t.plazasLimpias,this.infoUser=t,this.modalEliminarPlaza=!0),this.value=""},opticones_select_acciones:function(t){var s=[{title:"Editar",img:"fa-solid fa-pen-to-square"},{title:"Deshabilitar",img:"fa-solid fa-user-lock"},{title:"Habilitar",img:"fa-solid fa-user-check"},{title:"Agregar Plaza",img:"fa-solid fa-square-plus"},{title:"Eliminar Plaza",img:"fa-solid fa-square-minus"}],a=[];return a.push(s[0]),this.typeUser&&t.statusUser&&(a.push(s[1]),"TODAS"!=t.plazas&&a.push(s[3])),this.typeUser&&!t.statusUser&&a.push(s[2]),a.push(s[4]),a}},computed:{listaTiposUsuario:function(){return this.$store.state.Login.tipoUsuario},listaPlazas:function(){var t=this;return this.$store.state.Login.listaPlazas.filter((function(s){return s.delegationId==t.tramoSeleccionado}))}}},p=m,v=(a("4f15"),a("2877")),b=Object(v["a"])(p,e,o,!1,null,null,null);s["default"]=b.exports},"4f15":function(t,s,a){"use strict";a("de34")},de34:function(t,s,a){}}]);
//# sourceMappingURL=chunk-25e0053c.d69aaa1c.js.map