(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc66564a"],{"31c8":function(t,e,a){t.exports=a.p+"img/up.8da4995a.png"},"5b02":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("TablaActividades")],1)},i=[],o=(a("d81d"),a("4de4"),a("d3b7"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"grid gap-4 grid-cols-1 pl-3 pr-3 max-w-6xl mx-auto sm:-ml-1 sm:pr-1 sm:pl-2"},[e("div",{staticClass:"border shadow-lg rounded-md w-full mt-5 sm:mx-auto"},[e("PdfEscaneado",{attrs:{abrirModal:t.modalSubirSellado,objInsert:t.objInsertEscaneado,tipoReporte:"Calendario-Actividades"},on:{"limpiar-componente-escaneado":t.limpiar_componete_escaneado}}),e("h1",{staticClass:"text-3xl sm:text-xs font-titulo font-bold text-center sm:mt-4 m-5"},[t._v("TABLA DE ACTIVIDADES DEL MES "+t._s(t.mesNombre)+" DEL "+t._s(t.año))]),t.filtros?e("div",{staticClass:"grid grid-cols-3 mx-auto -mt-1 m-5 sm:grid-cols-2 md:grid-cols-2"},[e("div",{staticClass:"mx-auto my-auto flex sm:w-auto sm:mb-2"},[e("p",{staticClass:"text-sm font-titulo mx-auto text-gray-900 font-semibold -mr-17 mt-1 sm:mr-0 sm:text-xs md:mr-3"},[t._v("Plaza:")]),e("p",{},[e("SelectPlaza",{attrs:{vista:"Actividades",fullPlazas:!0},on:{"actualizar-plaza":t.cambiar_plaza}})],1)]),e("div",{staticClass:"mx-auto my-auto flex sm:w-auto sm:mb-2"},[e("p",{staticClass:"text-sm font-titulo text-gray-900 font-semibold mt-1 mr-3 sm:text-xs"},[t._v("Mes:")]),e("p",{staticClass:"w-32 input sm:text-sm md:w-48"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.mes,expression:"mes"}],staticClass:"w-32 sm:w-32 sm:-ml-1 md:w-48 border-none",attrs:{disabled:t.blockSelect,type:"text",name:"TipoDescripcion"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.mes=e.target.multiple?a:a[0]},t.filtrar_sin_referencia]}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Selecionar...")]),e("option",{attrs:{value:"1"}},[t._v("Enero")]),e("option",{attrs:{value:"2"}},[t._v("Febrero")]),e("option",{attrs:{value:"3"}},[t._v("Marzo")]),e("option",{attrs:{value:"4"}},[t._v("Abril")]),e("option",{attrs:{value:"5"}},[t._v("Mayo")]),e("option",{attrs:{value:"6"}},[t._v("Junio")]),e("option",{attrs:{value:"7"}},[t._v("Julio")]),e("option",{attrs:{value:"8"}},[t._v("Agosto")]),e("option",{attrs:{value:"9"}},[t._v("Septiembre")]),e("option",{attrs:{value:"10"}},[t._v("Octubre")]),e("option",{attrs:{value:"11"}},[t._v("Noviembre")]),e("option",{attrs:{value:"12"}},[t._v("Diciembre")])])])]),e("div",{staticClass:"mx-auto my-auto flex sm:w-auto sm:text-xs sm:mb-2"},[e("p",{staticClass:"text-sm text-gray-900 font-titulo font-semibold mt-1 mr-2 sm:text-xs md:mr-1"},[t._v("Año:")]),e("p",{staticClass:"w-32 input sm:ml-1 md:w-48 md:ml-5"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.año,expression:"año"}],staticClass:"w-32 sm:w-32 md:w-48 border-none",attrs:{disabled:t.blockSelect,type:"text",name:"TipoDescripcion"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.año=e.target.multiple?a:a[0]},t.filtrar_sin_referencia]}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Selecionar...")]),e("option",{class:{hidden:7==this.tipoUsuario},attrs:{value:"2020"}},[t._v("2020")]),e("option",{class:{hidden:7==this.tipoUsuario},attrs:{value:"2021"}},[t._v("2021")]),e("option",{attrs:{value:"2022"}},[t._v("2022")])])])]),e("div",{staticClass:"mx-auto my-auto flex sm:w-auto sm:text-xs sm:mb-2"},[e("p",{staticClass:"text-sm font-titulo text-gray-900 font-bold mt-1 sm:text-xs"},[t._v("Carril:")]),e("p",{staticClass:"w-32 input xl:ml-1 sm:ml-0 md:w-48 md:ml-0 lg:w-48 lg:ml-1 xl:w-48"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.ubicacion,expression:"ubicacion"}],staticClass:"w-32 md:w-48 lg:w-48 xl:w-48 border-none",attrs:{disabled:t.blockSelect,type:"text"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ubicacion=e.target.multiple?a:a[0]},t.filtrar_sin_referencia]}},[e("option",{attrs:{value:""}},[t._v("Selecionar...")]),t._l(t.carriles_plaza,(function(a,s){return e("option",{key:s,domProps:{value:a}},[t._v(t._s(a.lane))])}))],2)])]),e("div",{staticClass:"mx-auto my-auto flex sm:w-auto sm:text-xs sm:mb-2 md:w-auto"},[e("p",{staticClass:"text-sm font-titulo text-gray-900 font-bold mt-1 sm:text-xs"},[t._v("Status:")]),e("p",{staticClass:"w-32 input md:w-48 md:ml-2"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"w-32 sm:w-32 md:w-48 border-none",attrs:{disabled:t.blockSelect,type:"text",name:"TipoDescripcion"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]},t.filtrar_sin_referencia]}},[e("option",{attrs:{value:""}},[t._v("Todos")]),e("option",{domProps:{value:!0}},[t._v("Concluido")]),e("option",{domProps:{value:!1}},[t._v("Inconcluso")])])])]),e("div",{staticClass:"mx-auto my-auto flex sm:w-auto sm:text-xs sm:mb-2"},[e("p",{staticClass:"text-sm font-semibold font-titulo text-gray-900 mx-auto mr-1 mt-2 sm:text-xs sm:mr-2 md:ml-1"},[t._v("Ref:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.referenceNumber,expression:"referenceNumber"}],staticClass:"text-center w-32 md:w-48 input ml-1",attrs:{placeholder:"PM-00000",type:"text"},domProps:{value:t.referenceNumber},on:{input:function(e){e.target.composing||(t.referenceNumber=e.target.value)}}})]),e("div"),e("div",{staticClass:"mx-auto my-auto flex mt-3"},[e("button",{staticClass:"botonTodos sm:-ml-33 sm:w-32 sm:h-8 md:h-8 md:mb-4 md:-ml-51",class:{"ml-10 sm:ml-2 sm:w-32 sm:h-8":2==t.tipoUsuario||5==t.tipoUsuario},on:{click:t.limpiar_filtros}},[e("font-awesome-icon",{staticClass:"text-green-800 mr-2 h-5 w-5",attrs:{icon:"fa-solid fa-repeat"}}),e("span",{staticClass:"md:mr-2 sm:text-sm"},[t._v("Todos")])],1)])]):t._e(),e("div",{staticClass:"text-center lg:hidden xl:hidden animate-bounce"},[t.filtros?e("button",{on:{click:function(e){t.filtros=!1}}},[e("img",{attrs:{src:a("31c8"),width:"25",height:"2"}})]):e("button",{on:{click:function(e){t.filtros=!0}}},[e("img",{attrs:{src:a("62bc"),width:"25",height:"2"}})])])],1),e("div",{staticClass:"sm:-m-1 sm:w-full sm:-mb-32 sm:mx-auto sm:text-xs"},[e("div",{staticClass:"divtabla font-titulo",staticStyle:{height:"600px"}},[e("table",{staticClass:"table table-striped"},[t._m(0),e("tbody",{attrs:{name:"table",id:"multiselectHamburguesa"}},[0==t.listaActividadesMensuales.length&&1!=t.loadingTabla?[t._m(1)]:t._e(),t.loadingTabla?[t._m(2)]:t._e(),t.listaActividadesMensuales.length>0?t._l(t.listaActividadesMensuales,(function(a,s){return e("tr",{key:s,staticClass:"h-12 text-gray-900"},[e("td",{staticClass:"w-64 cuerpoTable text-center font-titulo font-normal"},[t._v(t._s(a.lane))]),e("td",{staticClass:"w-64 cuerpoTable text-center font-titulo font-normal"},[t._v(t._s(a.referenceNumber))]),e("td",{staticClass:"w-64 cuerpoTable text-center font-titulo font-normal"},[t._v(t._s(a.day))]),e("td",{staticClass:"w-64 cuerpoTable text-center font-titulo font-normal"},[t._v(t._s(a.frequencyName))]),0==a.statusMaintenance?e("td",{staticClass:"w-64 text-center cuerpoTable font-titulo font-normal",class:{"bg-red-200":!0}},[t._v(t._s("Inconcluso"))]):e("td",{staticClass:"w-64 text-center cuerpoTable font-titulo font-normal",class:{"bg-green-200":!0}},[t._v(t._s("Concluido"))]),e("td",{staticClass:"w-76 text-center cuerpoTable"},[e("multiselect",{attrs:{placeholder:"Seleccione una Accion",label:"title","track-by":"title",options:t.opticones_select_acciones(a),"option-height":200,"custom-label":t.customLabel,"show-labels":!1},on:{close:function(e){return t.acciones_mapper(a)}},scopedSlots:t._u([{key:"singleLabel",fn:function(a){return[e("div",{staticClass:"inline-flex"},[e("font-awesome-icon",{staticClass:"text-blue-800 w-4 h-4 mr-2",attrs:{icon:a.option.img}}),e("span",{staticClass:"option__title"},[t._v(t._s(a.option.title))])],1)]}},{key:"option",fn:function(a){return[e("div",{staticClass:"option__desc"},[e("span",{staticClass:"option__title inline-flex"},[e("font-awesome-icon",{staticClass:"text-blue-800 w-4 h-4 mr-2",attrs:{icon:a.option.img}}),t._v(" "+t._s(a.option.title))],1)])]}}],null,!0),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)])})):t._e()],2)])])])])])}),r=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticClass:"text-md trTable font-normal"},[e("th",{staticClass:"w-64 cabeceraTable font-titulo font-medium"},[t._v("Carril")]),e("th",{staticClass:"w-64 cabeceraTable font-titulo font-medium"},[t._v("Referencia")]),e("th",{staticClass:"w-64 cabeceraTable font-titulo font-medium"},[t._v("Fecha de Actividad")]),e("th",{staticClass:"w-64 cabeceraTable font-titulo font-medium"},[t._v("Tipo de Actividad")]),e("th",{staticClass:"w-64 cabeceraTable font-titulo font-medium"},[t._v("Estatus")]),e("th",{staticClass:"w-64 cabeceraTable font-titulo font-medium"},[t._v("Acciones")])])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"w-full text-center text-red-500 m-10",attrs:{colspan:"6"}},[e("div",{staticClass:"mt-8 mb-8"},[t._v("Sin Informacion")])])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"w-full",attrs:{colspan:"6"}},[e("div",{staticClass:"laodTable",staticStyle:{"border-top-color":"transparent"}})])])}],n=a("5530"),l=a("c7eb"),c=a("1da1"),u=(a("99af"),a("ac1f"),a("1276"),a("a434"),a("0108")),m=a("9909"),d=a("ed5d"),p=a("7cae"),f=a("8e5f"),v=a.n(f),b="http://201.99.110.3:86/api",h={components:{SelectPlaza:d["a"],Multiselect:v.a,PdfEscaneado:p["a"]},data:function(){return{listaActividadesMensuales:[],plazaSelect:"",plazaNombre:"","año":"",mes:"",comentario:"",ubicacion:"",status:"",referenceNumber:"",mesNombre:"",blockSelect:!1,loadingTabla:!1,tipoUsuario:"",value:"",pdfSelladoBool:!0,pdfSellado:"",modalSubirSellado:!1,objSubir:"",objInsertEscaneado:{},filtros:!0,userid:""}},beforeMount:function(){var t=Object(c["a"])(Object(l["a"])().mark((function t(){var e;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingTabla=!0,e=this.$route.params.cargaInicial,this.listaActividadesMensuales=e.listaActividadesMensuales,this.plazaNombre=e.plazaNombre,this.comentario=e.comentario,this.mes=e.mes,this.mesNombre=e.mesNombre,this.año=e.año,t.next=10,this.$store.state.Login.plazaSelecionada.numeroPlaza;case 10:this.plazaSeleccionada=t.sent,this.$store.dispatch("Refacciones/BUSCAR_CARRILES",this.plazaSeleccionada),this.loadingTabla=!1,this.tipoUsuario=this.$store.state.Login.cookiesUser.rollId,this.userId=this.$store.state.Login.cookiesUser.userId;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{carriles_plaza:function(){return this.$store.getters["Refacciones/GET_CARRILES_STATE"]}},watch:{referenceNumber:function(t){0==t.length?this.blockSelect=!1:(this.filtrar_actividades_mensuales(),this.blockSelect=!0)}},methods:{limpiar_filtros:function(){var t=Object(c["a"])(Object(l["a"])().mark((function t(){var e,a=this;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.ubicacion="",this.status=void 0,this.referenceNumber="",t.next=5,u["a"].filtrar_actividades_mensuales(this.mes,this.año,!1);case 5:e=t.sent,this.$nextTick().then((function(){a.listaActividadesMensuales=e.listaActividadesMensuales,a.plazaNombre=e.plazaNombre,a.comentario=e.comentario,a.plazaSelect=e.plazaSelect,a.mesNombre=e.mesNombre}));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filtrar_sin_referencia:function(){var t=Object(c["a"])(Object(l["a"])().mark((function t(){var e=this;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.listaActividadesMensuales=[],this.loadingTabla=!0,setTimeout(Object(c["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].filtrar_actividades_mensuales(e.mes,e.año,!1,e.status,e.ubicacion.lane,void 0);case 2:a=t.sent,e.$nextTick().then((function(){e.listaActividadesMensuales=a.listaActividadesMensuales,e.plazaNombre=a.plazaNombre,e.comentario=a.comentario,e.plazaSelect=a.plazaSelect,e.mesNombre=a.mesNombre,e.loadingTabla=!1}));case 4:case"end":return t.stop()}}),t)}))),1e3);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filtrar_actividades_mensuales:function(){var t=Object(c["a"])(Object(l["a"])().mark((function t(){var e=this;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:""!=this.referenceNumber?(this.listaActividadesMensuales=[],this.loadingTabla=!0,setTimeout(Object(c["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].filtrar_actividades_mensuales(e.mes,e.año,!1,e.status,e.ubicacion.lane,e.referenceNumber);case 2:a=t.sent,e.$nextTick().then((function(){e.listaActividadesMensuales=a.listaActividadesMensuales,e.plazaNombre=a.plazaNombre,e.comentario=a.comentario,e.plazaSelect=a.plazaSelect,e.mesNombre=a.mesNombre,e.loadingTabla=!1}));case 4:case"end":return t.stop()}}),t)}))),1e3)):this.$notify.warning({title:"Ups!",msg:"NO SE HAN LLENADO CAMPOS PARA FILTRAR.",position:"bottom right",styles:{height:100,width:500}});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cambiar_plaza:function(t){this.plazaSelect=t,this.listaActividadesMensuales=[],this.arrayCarriles=this.$store.dispatch("Refacciones/BUSCAR_CARRILES",this.plazaSelect),this.limpiar_filtros()},reporte_pdf:function(){var t=Object(c["a"])(Object(l["a"])().mark((function t(e){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="0000"!=e.capufeLaneNum?"carril":void 0,t.next=3,this.$http.get("".concat(b,"/Calendario/CalendarioReportDataEdit/").concat(e.referenceNumber.split("-")[0],"/").concat(e.calendarId)).then((function(t){var s=t.data.result.table[0].referenceNumber;m["a"].generar_pdf_actividades_preventivo(s,e.frequencyId,a),m["a"].generar_pdf_fotografico_preventivo(s,e.lane)}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),editar_reporte_carril:function(){var t=Object(c["a"])(Object(l["a"])().mark((function t(e){var a,s=this;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$store.getters["Login/GET_REFERENCIA_ACTUAL_PLAZA"],t.next=3,this.$http.get("".concat(b,"/Calendario/CalendarioReportDataEdit/").concat(a,"/").concat(e.calendarId)).then((function(t){var a=t.data.result.table[0],i=t.data.result.table1;s.$router.push({path:"editar/FormularioReporte",query:{headerCompuesto:Object(n["a"])(Object(n["a"])({},a),e),actividades:i,edicion:!0,horas:{horaInicio:a.horaInicio,horaFin:a.horaFin}}})}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),crear_reporte_carril:function(t){t["plazaNombre"]=this.plazaNombre,this.$router.push({path:"crear/FormularioReporte",query:{header:t}})},customLabel:function(t){var e=t.title;return"".concat(e)},acciones_mapper:function(t){"Crear"==this.value.title&&this.crear_reporte_carril(t),"Editar"==this.value.title&&this.editar_reporte_carril(t),"Reporte de Mantenimiento"==this.value.title&&this.reporte_pdf(t),"Reporte Mtto. Sellado"==this.value.title&&(this.objInsertEscaneado={referenceNumber:t.referenceNumber},this.modalSubirSellado=!0),"Reporte M. Sellado"==this.value.title&&this.descargar_escaneado(t),this.value=""},limpiar_componete_escaneado:function(){this.limpiar_filtros(),this.modalSubirSellado=!1,this.objInsertEscaneado={}},opticones_select_acciones:function(t){var e=t.statusMaintenance,a=t.pdfExists,s=t.userId,i=[{title:"Crear",img:"fa-file-circle-plus"},{title:"Editar",img:"fa-pen-to-square"},{title:"Reporte de Mantenimiento",img:"fa-file-arrow-down"},{title:"Reporte M. Sellado",img:"fa-file-arrow-down"},{title:"Reporte Mtto. Sellado",img:"fa-file-arrow-up"}],o=[];return 4==this.tipoUsuario||7==this.tipoUsuario||8==this.tipoUsuario?a?i.splice(2,2):i.splice(2,1):5==this.tipoUsuario||2==this.tipoUsuario?e?s==this.userId?i.splice(1,4):a?i.splice(2,2):i.splice(3,2):s==this.userId?i.splice(0,1):[]:(e?a?(o.push(i[2]),o.push(i[3])):(o.push(i[1]),o.push(i[2])):e?a?(o.push(i[1]),o.push(i[2]),o.push(i[3]),o.push(i[4])):(o.push(i[1]),o.push(i[2]),o.push(i[4])):o.push(i[0]),o)},descargar_escaneado:function(t){m["a"].generar_pdf_sellado_preventivo(t.referenceNumber)}}},_=h,x=a("2877"),w=Object(x["a"])(_,o,r,!1,null,null,null),g=w.exports,C={components:{TablaActividades:g}},S=C,A=Object(x["a"])(S,s,i,!1,null,null,null);e["default"]=A.exports},"62bc":function(t,e,a){t.exports=a.p+"img/down.c3f11dae.png"}}]);
//# sourceMappingURL=chunk-cc66564a.dfa29116.js.map