(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3077a4e1"],{4669:function(t,a,e){"use strict";e("d3b7"),e("ddb0"),e("99af"),e("fb6a");var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"sm:w-56"},[a("ValidationObserver",{ref:"observer"},[a("div",{staticClass:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 mt-2 sm:text-xs sm:ml-0 mb-10 sm:mb-2"},[a("div",{staticClass:"mt-6 ml-10 w-full sm:grid grid-cols-1 sm:ml-0 sm:mr-1 sm:w-66 md:w-auto md:mx-auto font-titulo"},[a("div",{staticClass:"grid grid-cols-2 sm:grid md:grid"},[a("span",{staticClass:"sm:ml-2"},[t._v(" No. De Reporte: ")]),a("p",{staticClass:"-ml-34 sm:-ml-1 sm:w-32 md:ml-48 lg:ml-1"},[t._v(t._s(t.datosDiagnostico.referenceNumber)+" ")])]),a("div",{staticClass:"mt-5 grid grid-cols-2 sm:grid"},[a("div",[a("span",{staticClass:"sm:ml-2"},[t._v("Plaza de Cobro/Encargado de plaza:")])]),a("div",{staticClass:"-ml-64 -mt-1 sm:-ml-10 md:ml-22 lg:-ml-31",class:{hidden:1==t.blockInput||"Crear"!=t.$route.params.tipoVista}},[a("SelectPlaza",{attrs:{fullPlazas:!0,tipo:"crearDiagnostico"},on:{"actualizar-plaza":t.cambiar_plaza}}),a("div",{staticClass:"mx-56 -mt-6 sm:hidden md:hidden w-6",class:{hidden:"FICHA"==t.tipo}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{ref:"toolencargadoplaza",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'toolencargadoplaza', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{right:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"toolencargadoplaza",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Aquí puedes seleccionar la plaza y el encargado al que se le entregará el diagnóstico")])])])],1),a("div",{staticClass:"-ml-64 -mt-1 sm:-ml-1",class:{hidden:1==t.blockInput||"Crear"==t.$route.params.tipoVista}},[a("SelectPlaza",{attrs:{fullPlazas:!0,tipo:"editarDiagnostico"},on:{"actualizar-plaza":t.cambiar_plaza}})],1),a("div",{staticClass:"-ml-64 -mt-1 sm:-ml-10",class:{hidden:0==t.blockInput}},[a("p",{staticClass:"sm:-ml-1"},[a("SelectPlaza",{attrs:{fullPlazas:!0,tipo:"editarDiagnostico"},on:{"actualizar-plaza":t.cambiar_plaza}})],1),a("div",{staticClass:"ml-20 sm:-ml-10 sm:w-auto"},[t.blockInput?a("span",{staticClass:"block -ml-44 text-red-400 text-xs font-titulo font-normal sm:-ml-20"},[t._v("No se puede modificar, viene del Diagnóstico de Falla")]):t._e()])])]),a("div",{staticClass:"mt-1 grid sm:grid sm:grid-cols-2"},[a("span",{staticClass:"mr-20 sm:mr-0 sm:ml-9 sm:mt-3 md:mt-3 lg:mt-4 xl:mt-6"},[t._v("Ubicación:")]),a("div",{staticClass:"-ml-34 w-64 sm:-ml-9 sm:w-48 md:ml-68 md:-mt-8 lg:ml-48 lg:-mt-8 xl:ml-48 xl:-mt-6",class:{"cursor-not-allowed":1==t.blockInput}},[a("ValidationProvider",{attrs:{immediate:"",name:"Carriles",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("multiselect",{attrs:{disabled:t.blockInput,"custom-label":t.label_multi_select,"close-on-select":!1,"clear-on-select":!0,hideSelected:!1,"track-by":"lane",placeholder:"Selecciona...",options:t.carriles_plaza,multiple:!0,name:"Carriles","select-label":""},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.values,i=e.isOpen;return[s.length&&!i?a("span",{},[t._v(t._s(s.length)+" Carriles")]):t._e()]}}],null,!0),model:{value:t.datosDiagnostico.ubicacion,callback:function(a){t.$set(t.datosDiagnostico,"ubicacion",a)},expression:"datosDiagnostico.ubicacion"}}),a("span",{staticClass:"text-red-600 text-xs block md:ml-10"},[t._v(t._s(s[0]))])]}}])})],1)])]),a("div",{staticClass:"mt-6 ml-32 sm:ml-1 font-titulo w-full sm:w-66 sm:mr-1 sm:flex sm:flex-col md:w-auto md:mx-auto lg:w-auto lg:ml-0 xl:w-auto"},[a("div",{staticClass:""},[a("ValidationProvider",{attrs:{immediate:"",name:"Fecha Diagnostico",rules:"required|fechaMenorNow","custom-messages":{fechaMenorNow:"La fecha debe ser menor que la fecha actual"}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("span",{staticClass:"sm:ml-2",class:{"ml-24 sm:ml-2":"FICHA"==t.tipo}},[t._v("Fecha:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.fechaDiagnostico,expression:"datosDiagnostico.fechaDiagnostico"}],staticClass:"ml-32 fechaDiag sm:ml-32 md:ml-48",attrs:{type:"date",name:"FechaDiagnostico"},domProps:{value:t.datosDiagnostico.fechaDiagnostico},on:{change:t.crear_referencia,input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"fechaDiagnostico",a.target.value)}}}),a("span",{staticClass:"text-red-600 text-xs block sm:ml-8 md:ml-16"},[t._v(t._s(s[0]))])]}}])})],1),a("div",{staticClass:"mt-5 mb-10"},[a("ValidationProvider",{attrs:{immediate:"",name:"Fecha/Hora Inicio",rules:{required:!0,maxTime:t.datosDiagnostico.horaFin},"custom-messages":{maxTime:"La Fecha/Hora Inicio debe ser menor que la Fecha/Hora Fin"}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("span",{staticClass:"sm:ml-2",class:{"ml-24 sm:ml-2":"FICHA"==t.tipo}},[t._v("Fecha/Hora INICIO: ")]),a("datetime",{staticClass:"ml-33 -mt-6 md:ml-49",class:{"ml-63 sm:ml-34":"FICHA"==t.tipo},attrs:{"use12-hour":"","max-datetime":t.datosDiagnostico.horaFin,type:"datetime",name:"HoraInicio"},model:{value:t.datosDiagnostico.horaInicio,callback:function(a){t.$set(t.datosDiagnostico,"horaInicio",a)},expression:"datosDiagnostico.horaInicio"}}),a("span",{staticClass:"text-red-600 text-xs block sm:ml-8 md:ml-16"},[t._v(t._s(s[0]))])]}}])}),a("div",{staticClass:"mx-67 -mt-10 sm:hidden md:hidden w-6",class:{hidden:"FICHA"==t.tipo}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{ref:"tooltipRef",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipRef', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{right:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipRef",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar la fecha y hora que se recibe el reporte de Falla.")])])])],1),a("div",{staticClass:"mt-5"},[a("ValidationProvider",{attrs:{immediate:"",name:"Fecha/Hora Fin",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("span",{staticClass:"sm:ml-2",class:{"ml-24 sm:ml-2":"FICHA"==t.tipo}},[t._v("Fecha/Hora FIN:")]),a("datetime",{staticClass:"ml-33 -mt-6 md:ml-49",class:{"ml-63 sm:ml-34":"FICHA"==t.tipo},attrs:{"use12-hour":"",type:"datetime",name:"HoraFin"},model:{value:t.datosDiagnostico.horaFin,callback:function(a){t.$set(t.datosDiagnostico,"horaFin",a)},expression:"datosDiagnostico.horaFin"}}),a("span",{staticClass:"text-red-600 text-xs block sm:ml-8 md:ml-16"},[t._v(t._s(s[0]))])]}}])}),a("div",{staticClass:"mx-67 -mt-10 sm:hidden md:hidden w-6",class:{hidden:"FICHA"==t.tipo}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{ref:"tooltipfechafin",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipfechafin', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{right:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipfechafin",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar la fecha y hora en la que se determina el Diagnostico de la Falla.")])])])],1)])]),t.blockInput?a("div",{staticClass:"ml-69 -mb-6 sm:ml-1 sm:w-auto text-xs sm:-mb-1"},[a("span",{staticClass:"text-red-400 sm:text-xs"},[t._v("No se puede modificar, vienen del Diagnóstico de Falla")])]):t._e(),a("div",{staticClass:"ml-48 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:mx-auto lg:grid-cols-2 xl:grid-cols-2 mt-2 sm:text-xs sm:w-66 sm:ml-1 mb-10 sm:mt-0 md:mx-auto font-titulo"},[a("div",{staticClass:"mt-6 -ml-32 w-full sm:-ml-6 sm:grid sm:grid-cols-1 md:my-auto md:mx-0 md:w-51 md:ml-10"},[a("div",{staticClass:"text-center w-32 ml-64 mr-40 sm:ml-3 sm:-mt-1 md:mx-30 lg:mb-12 xl:mb-12"},[a("span",{},[t._v("Folio de FALLA:")])]),a("div",{staticClass:"mt-5 text-center w-32 ml-64 sm:ml-3 sm:mt-6 md:mx-30 md:mt-6 lgm:mt-2"},[a("span",{},[t._v("No. De Siniestro:")])]),a("div",{staticClass:"mt-5 text-center w-56 ml-40 sm:ml-1 sm:mt-1 sm:w-auto md:mt-6 md:-mx-4"},[a("span",{staticClass:"sm:hidden"},[t._v("Técnico Responsable PROSIS:")]),a("span",{staticClass:"sm:show sm:-ml-1 md:hidden lg:hidden xl:hidden"},[t._v("Tec.Res. PROSIS:")])])]),a("div",{staticClass:"mt-5 mr-16 ml-56 grid grid-cols-1 sm:mr-2 sm:-ml-12 sm:w-auto md:-mt-1 md:-ml-21",class:{"w-10":"FICHA"==t.tipo}},[a("div",{staticClass:"-ml-69 sm:ml-1 md:mx-auto"},[a("ValidationProvider",{class:{"-ml-1":"FICHA"==t.tipo},attrs:{immediate:"",name:"Folio de Falla",rules:"required|max:20"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.folioFalla,expression:"datosDiagnostico.folioFalla"}],staticClass:"inputDiag sm:w-48 md:w-58 text-center",class:{inputFicha:1==t.blockInput},attrs:{disabled:t.blockInput,name:"FolioFalla",maxlength:20},domProps:{value:t.datosDiagnostico.folioFalla},on:{input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"folioFalla",a.target.value)}}}),a("span",{staticClass:"text-red-600 text-xs block sm:-ml-3 md:text-xs"},[t._v(t._s(s[0]))]),a("span",{staticClass:"text-gray-500 text-xs ml-56 sm:hidden md:ml-33",class:{"mx-auto":"FICHA"==t.tipo}},[t._v(t._s(t.restante_folio)+"/20")])]}}])}),a("div",{staticClass:"mx-72 -mt-16 sm:hidden md:hidden w-6",class:{hidden:"FICHA"==t.tipo}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{ref:"tooltipfoliofalla",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipfoliofalla', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{right:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipfoliofalla",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar el Número de Folio de Falla como aparece en el Módulo Institucional de CAPUFE.")])])])],1),a("br"),a("div",{staticClass:"-mt-1 -ml-69 sm:ml-1 sm:mt-1 md:mx-auto"},[a("ValidationProvider",{class:{"-ml-1":"FICHA"==t.tipo},attrs:{immediate:"",name:"Numero de Reporte",rules:"max:30"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.numeroReporte,expression:"datosDiagnostico.numeroReporte"}],staticClass:"inputDiag sm:w-48 md:w-58 text-center",class:{inputFicha:1==t.blockInput},attrs:{disabled:t.blockInput,name:"NumeroReporte",maxlength:30},domProps:{value:t.datosDiagnostico.numeroReporte},on:{input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"numeroReporte",a.target.value)}}}),a("span",{staticClass:"text-red-600 text-xs block"},[t._v(t._s(s[0]))]),a("span",{staticClass:"text-gray-500 text-xs ml-56 sm:hidden md:ml-33 md",class:{"ml-33":"FICHA"==t.tipo}},[t._v(t._s(t.restante_siniestro)+"/30")])]}}])}),a("div",{staticClass:"mx-72 -mt-16 sm:hidden md:hidden w-6",class:{hidden:"FICHA"==t.tipo}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{ref:"tooltipsiniestro",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipsiniestro', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{right:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5 flex items-center",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipsiniestro",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar el Número de Reporte o Número de Siniestro que proporciona la Plaza de Cobro. NOTA: Este Número se indica si dicha falla corresponde a un Siniestro.")])])])],1),a("div",{staticClass:"mt-6 -ml-69 sm:mx-auto sm:mt-1 md:ml-1"},[a("p",{staticClass:"border-gray-400 w-69 text-center sm:w-35 sm:-mx-21 md:-ml-13"},[t._v(t._s(t.nombre_usuario))])])])]),"DIAG"==t.tipo?a("div",{staticClass:"mt-2 sm:text-xs sm:ml-1 mb-16 mr-5 ml-5 sm:w-66 font-titulo"},[a("div",{staticClass:"mt-16 w-full ml-5 grid grid-cols-3 sm:grid-cols-2"},[a("div",{staticClass:"mr-10 sm:w-32 sm:mb-10 sm:-mt-10"},[a("ValidationProvider",{attrs:{immediate:"",name:"Descripción de Falla",rules:"required|max:300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"grid grid-cols-3"},[a("span",{staticClass:"col-span-2"},[t._v("DESCRIPCIÓN DE LA FALLA REPORTADA:")]),a("div",{staticClass:"sm:hidden md:hidden w-6"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{ref:"tooltipdescripcionfalla",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipdescripcionfalla', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{bottom:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5 flex items-center",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipdescripcionfalla",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar la Descripción de Falla como aparece en el Módulo Institucional de CAPUFE.")])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.descripcionFalla,expression:"datosDiagnostico.descripcionFalla"}],staticClass:"mx-auto is_valid py-4 mb-0 h-40 ph-center-observaciones",attrs:{placeholder:"Descripción de la Falla Reportada",name:"DescripcionFalla",maxlength:t.limite},domProps:{value:t.datosDiagnostico.descripcionFalla},on:{input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"descripcionFalla",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-red-600 text-xs block"},[t._v(t._s(s[0]))]),a("span",{staticClass:"text-gray-500 ml-33 sm:ml-12 md:mx-16"},[t._v(t._s(t.restante_desc)+"/300")])]}}],null,!1,2971548067)})],1),a("div",{staticClass:"mr-10 sm:w-32 sm:-mt-10"},[a("ValidationProvider",{attrs:{immediate:"",name:"Diagnóstico de Falla",rules:"required|max:300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"grid grid-cols-3"},[a("span",{staticClass:"col-span-2"},[t._v("DIAGNÓSTICO DE LA FALLA REPORTADA:")]),a("div",{staticClass:"sm:hidden md:hidden w-6"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{ref:"tooltipdiagnotiscofalla",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipdiagnotiscofalla', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{bottom:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5 flex items-center",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipdiagnotiscofalla",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar la Descripción de Falla identificada por el Técnico de acuerdo al Sistema de Peaje PROSIS.")])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.diagnosticoFalla,expression:"datosDiagnostico.diagnosticoFalla"}],staticClass:"mx-auto is_valid py-4 mb-0 h-40 ph-center-observaciones",attrs:{placeholder:"Diagnostico de la Falla Reportada",name:"DiagnosticoFalla",maxlength:t.limite},domProps:{value:t.datosDiagnostico.diagnosticoFalla},on:{input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"diagnosticoFalla",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-red-600 text-xs block"},[t._v(t._s(s[0]))]),a("span",{staticClass:"text-gray-500 ml-33 sm:ml-12 md:mx-16"},[t._v(t._s(t.restante_diag)+"/300")])]}}],null,!1,4111212096)})],1),a("div",{staticClass:"mr-10 sm:w-32 sm:mt-0 sm:mb-10"},[a("ValidationProvider",{attrs:{immediate:"",name:"Causa de Falla",rules:"required|max:300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"grid grid-cols-3"},[a("span",{staticClass:"col-span-2"},[t._v("CAUSAS DE LA FALLA REPORTADA:")]),a("div",{staticClass:"sm:hidden md:hidden w-6"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:{ref:"tooltipcausafalla",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipcausafalla', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{top:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5 flex items-center",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipcausafalla",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar la causa o raíz que origina esta Falla. Ej: Variación de Voltaje, Descarga Electrica, Golpe de Usuario, etc. NOTA: Se debe indicar si la Falla requiere de Refaccionamiento por Siniestro o Fin de Vida Útil.")])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.causaFalla,expression:"datosDiagnostico.causaFalla"}],staticClass:"mx-auto is_valid py-4 mb-0 h-40 ph-center-observaciones",attrs:{placeholder:"Causa de la Falla Reportada",name:"CausaFalla",maxlength:t.limite},domProps:{value:t.datosDiagnostico.causaFalla},on:{input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"causaFalla",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-red-600 text-xs block"},[t._v(t._s(s[0]))]),a("span",{staticClass:"text-gray-600 ml-33 sm:ml-12 md:mx-16"},[t._v(t._s(t.restante_causa)+"/300")])]}}],null,!1,8541591)})],1)])]):t._e(),"FICHA"==t.tipo?a("div",{staticClass:"font-titulo sm:-mt-6"},[t.modalAdvertencia&&"Crear"!=this.$route.params.tipoVista?a("div",{staticClass:"absolute justify-items-center rounded-lg border border-gray-400 shadow-xl inset-x-0 bg-white w-74 h-69 sm:h-73 sm:w-66 mx-auto px-10 py-5 text-gray-600"},[a("div",[a("h1",{staticClass:"mb-10 text-center font-titulo font-bold text-4xl sm:text-xl"},[a("img",{staticClass:"ml-20 sm:-ml-6",attrs:{src:e("a2af"),width:"35",height:"35"}}),a("p",{staticClass:"-mt-10 text-black sm:ml-6 sm:-mt-6"},[t._v("Advertencia")]),a("img",{staticClass:"ml-68 -mt-12 sm:-mt-10 sm:ml-49",attrs:{src:e("a2af"),width:"35",height:"35"}})]),a("div",[a("p",[t._v("*Si cambia el tipo de falla para este diagnostico es necesario eliminar el DTC con referencia "+t._s(t.referenciaDtc))])])]),a("div",{staticClass:"flex justify-center"},[a("ValidationObserver",{ref:"observerModal"},[a("ValidationProvider",{attrs:{immediate:"",name:"comentarioBorrar",rules:"required:max:300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("p",{staticClass:"text-md mb-1 font-semibold text-gray-900 mt-5"},[t._v("Motivo")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comentarioBorrarDtc,expression:"comentarioBorrarDtc"}],staticClass:"bg-white is_valid appearance-none block bg-grey-lighter container mx-auto text-grey-darker border-black rounded-lg py-4 w-69 mb-0 h-20 placeholder-gray-500 border",attrs:{name:"comentarioBorrar"},domProps:{value:t.comentarioBorrarDtc},on:{input:function(a){a.target.composing||(t.comentarioBorrarDtc=a.target.value)}}}),a("span",{staticClass:"text-red-600 text-xs block"},[t._v(t._s(s[0]))])]}}],null,!1,2305687354)}),a("div",{staticClass:"mt-10 text-center"},[a("button",{staticClass:"botonIconCrear",on:{click:t.aceptar_borrar_dtc}},[t._v("Confirmar")]),a("button",{staticClass:"botonIconCancelar font-boton",on:{click:t.cancelar_borrado_dtc}},[t._v("Cancelar")])])],1)],1)]):t._e(),a("div",{staticClass:"grid sm:grid-cols-1 grid-cols-2 ml-5 sm:text-xs sm:ml-0"},[a("div",{staticClass:"sm:ml-2 grid grid-cols-3"},[a("span",{staticClass:"lg:-mt-8 lg:ml-8"},[t._v("TIPO DE FALLA:")]),a("div",{staticClass:"sm:hidden md:hidden w-6 -ml-20 lg:ml-2 lg:-mt-8",class:{hidden:"FICHA"!=t.tipo}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{ref:"tooltipsiniestro",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipsiniestro', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{right:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5 flex items-center",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipsiniestro",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe seleccionar el tipo de falla de acuerdo a lo indicado en el Diágnostico.")])])])]),a("div",{staticClass:"grid grid-cols-1 sm:mx-auto -ml-62 sm:w-20 sm:ml-50"},[a("ValidationProvider",{staticClass:"grid grid-cols-3 sm:grid-cols-2",attrs:{immediate:"",name:"TipoFalla",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"text-center -ml-66 sm:mr-8"},[a("p",[t._v("POR OPERACIÓN")]),t.hiddenCheck?a("input",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.tipoFalla,expression:"datosDiagnostico.tipoFalla"}],attrs:{type:"checkbox","true-value":"1","false-value":"0",name:"Tipo de Falla",disabled:t.blockCheckBox[0]},domProps:{checked:Array.isArray(t.datosDiagnostico.tipoFalla)?t._i(t.datosDiagnostico.tipoFalla,null)>-1:t._q(t.datosDiagnostico.tipoFalla,"1")},on:{change:[function(a){var e=t.datosDiagnostico.tipoFalla,s=a.target,i=s.checked?"1":"0";if(Array.isArray(e)){var o=null,l=t._i(e,o);s.checked?l<0&&t.$set(t.datosDiagnostico,"tipoFalla",e.concat([o])):l>-1&&t.$set(t.datosDiagnostico,"tipoFalla",e.slice(0,l).concat(e.slice(l+1)))}else t.$set(t.datosDiagnostico,"tipoFalla",i)},function(a){return t.bloquear_checboxes(1)}]}}):t._e()]),a("div",{staticClass:"text-center -ml-66 sm:-ml-32"},[a("p",[t._v("POR SINIESTRO")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.tipoFalla,expression:"datosDiagnostico.tipoFalla"}],attrs:{type:"checkbox","true-value":"2","false-value":"0",name:"Tipo de Falla",disabled:t.blockCheckBox[1]},domProps:{checked:Array.isArray(t.datosDiagnostico.tipoFalla)?t._i(t.datosDiagnostico.tipoFalla,null)>-1:t._q(t.datosDiagnostico.tipoFalla,"2")},on:{change:[function(a){var e=t.datosDiagnostico.tipoFalla,s=a.target,i=s.checked?"2":"0";if(Array.isArray(e)){var o=null,l=t._i(e,o);s.checked?l<0&&t.$set(t.datosDiagnostico,"tipoFalla",e.concat([o])):l>-1&&t.$set(t.datosDiagnostico,"tipoFalla",e.slice(0,l).concat(e.slice(l+1)))}else t.$set(t.datosDiagnostico,"tipoFalla",i)},function(a){return t.bloquear_checboxes(2)}]}})]),a("div",{staticClass:"text-center -ml-66 sm:-ml-67"},[a("p",[t._v("POR FIN DE VIDA ÚTIL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.tipoFalla,expression:"datosDiagnostico.tipoFalla"}],attrs:{type:"checkbox","true-value":"3","false-value":"0",name:"Tipo de Falla",disabled:t.blockCheckBox[2]},domProps:{checked:Array.isArray(t.datosDiagnostico.tipoFalla)?t._i(t.datosDiagnostico.tipoFalla,null)>-1:t._q(t.datosDiagnostico.tipoFalla,"3")},on:{change:[function(a){var e=t.datosDiagnostico.tipoFalla,s=a.target,i=s.checked?"3":"0";if(Array.isArray(e)){var o=null,l=t._i(e,o);s.checked?l<0&&t.$set(t.datosDiagnostico,"tipoFalla",e.concat([o])):l>-1&&t.$set(t.datosDiagnostico,"tipoFalla",e.slice(0,l).concat(e.slice(l+1)))}else t.$set(t.datosDiagnostico,"tipoFalla",i)},function(a){return t.bloquear_checboxes(3)}]}})]),a("span",{staticClass:"text-red-400 text-xs block sm:-ml-22 sm:mt-5"},[t._v(t._s(s[0]))])]}}],null,!1,4025954177)})],1)]),a("div",{staticClass:"ml-5 sm:text-xs sm:ml-0 sm:w-66 xl:w-auto xl:ml-0"},[a("div",{staticClass:"mt-6 w-full grid sm:grid-cols-2 grid-cols-2 lg:grid-cols-2 xl:mx-24"},[a("div",{staticClass:"mr-10 sm:mr-1 sm:ml-3 sm:mb-6 sm:w-32 lg:w-69 w-74"},[a("ValidationProvider",{attrs:{immediate:"",name:"DescripcionFalla",rules:"required|max:300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("span",{},[t._v("DESCRIPCIÓN DE LA FALLA REPORTADA:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.descripcionFalla,expression:"datosDiagnostico.descripcionFalla"}],staticClass:"mx-auto py-4 mb-0 h-40 textareaFicha ph-center-observaciones sm:w-32 sm:mt-5 sm:ml-1",attrs:{placeholder:"jane@example.com",name:"DescripcionFalla",maxlength:t.limite,readonly:""},domProps:{value:t.datosDiagnostico.descripcionFalla},on:{input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"descripcionFalla",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-red-600 text-xs block"},[t._v(t._s(s[0]))]),a("span",{staticClass:"text-gray-500 sm:ml-12"},[t._v(t._s(t.restante_desc)+"/300 "),a("span",{staticClass:"text-red-400 ml-1 sm:hidden md:hidden text-xs"},[t._v("Este dato no se puede modificar, viene del Diagnóstico de Falla")])]),a("div",{staticClass:"text-red-400 sm:ml-2 lg:hidden xl:hidden"},[t._v("Este dato no se puede modificar, viene del Diagnóstico de Falla")])]}}],null,!1,1943950058)})],1),a("div",{staticClass:"mr-10 ml-1 w-73 sm:ml-3 sm:w-32 lg:w-69"},[a("ValidationProvider",{attrs:{immediate:"",name:"SolucionFallas",rules:"required|max:300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"grid"},[a("span",{staticClass:"text-sm sm:hidden lg:text-xs"},[t._v("SOLUCIÓN y/o INTERVENCION REALIZADA PARA LA FALLA REPORTADA:")]),a("span",{staticClass:"xl:hidden lg:hidden md:hidden"},[t._v("SOLUCIÓN y/o INTERVENCION REALIZADA:")]),a("div",{staticClass:"-mt-6 ml-72 sm:hidden md:hidden lg:-mt-6 lg:ml-auto w-6",class:{hidden:"FICHA"!=t.tipo}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{ref:"tooltipintervencion",class:"tooltip-custom tooltip-other-custom"},expression:" { ref:'tooltipintervencion', class: 'tooltip-custom tooltip-other-custom'}",modifiers:{right:!0}}]},[a("font-awesome-icon",{staticClass:"text-blue-600 w-5 h-5 flex items-center",attrs:{icon:"fa-solid fa-circle-info"}})],1),a("div",{ref:"tooltipintervencion",staticClass:"font-titulo"},[a("p",{staticClass:"text-center text-gray-800"},[t._v("Se debe indicar las acciones realizadas por parte del Técnico de Servicio para la solución y/o atención de la falla.")])])])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.datosDiagnostico.solucionFalla,expression:"datosDiagnostico.solucionFalla"}],staticClass:"mx-auto py-4 mb-0 h-40 is_valid ph-center-observaciones sm:w-32 sm:-ml-1",attrs:{placeholder:"Intervencion Realizada",name:"SolucionFallas",maxlength:t.limite},domProps:{value:t.datosDiagnostico.solucionFalla},on:{input:function(a){a.target.composing||t.$set(t.datosDiagnostico,"solucionFalla",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-gray-500 sm:ml-6"},[t._v(t._s(t.restante_sol)+"/300")]),a("span",{staticClass:"text-red-400 text-xs block sm:mt-0"},[t._v(t._s(s[0]))])]}}],null,!1,279783728)})],1)])])]):t._e()])],1)},i=[],o=e("c7eb"),l=e("1da1"),r=(e("d81d"),e("ac1f"),e("1276"),e("7db0"),e("498a"),e("159b"),e("4fadc"),e("ed5d")),c=e("9909"),n=e("c1df"),d=e.n(n),m=e("8e5f"),u=e.n(m),p=e("11b3"),h=e("74b9"),f=e("859b"),g={name:"Diagnostico",props:{tipo:{type:String,default:function(){return""}},reporteInsertado:{type:Boolean,default:function(){return!1}}},components:{SelectPlaza:r["a"],Multiselect:u.a,Datetime:f["Datetime"]},data:function(){return{limite:300,boolCambiarPlaza:!1,datosDiagnostico:{referenceNumber:"",ubicacion:"",fechaDiagnostico:"",horaInicio:"",horaFin:"",folioFalla:"",numeroReporte:"",descripcionFalla:"",diagnosticoFalla:"",causaFalla:""},listaPlazas:[],arrayReference:[],headerSelecionado:{},plazaSeleccionada:"",arraySelect:{},type:"DIAG",blockInput:!1,blockCheckBox:[!1,!1,!1],referenciaDtc:"",modalAdvertencia:!1,comentarioBorrarDtc:"",tipoFallaOriginal:"",prueba:"2021-06-01T1:27:00",hiddenCheck:!0}},created:function(){var t=this;p["a"].$on("validar_header_diagnostico",(function(a){return t.validar_campos_header(a)}))},beforeMount:function(){var t=Object(l["a"])(Object(o["a"])().mark((function t(){var a,e,s,i,l,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!=this.$route.query.referenceNumberFinishDiagnostic&&(this.hiddenCheck=!1),"Crear"==this.$route.params.tipoVista){t.next=32;break}if(void 0==this.$route.query.data){t.next=15;break}this.referenciaDtc=this.$route.query.referenciaDtc,this.plazaSeleccionada=this.$store.state.Login.plazaSelecionada.numeroPlaza,this.headerSelecionado=this.$store.getters["Header/GET_HEADER_SELECCIONADO"],this.$store.dispatch("Refacciones/BUSCAR_CARRILES",this.plazaSeleccionada),this.datosDiagnostico=this.$route.query.data,delete this.datosDiagnostico["diagnosticoFalla"],delete this.datosDiagnostico["causaFalla"],this.tipoFallaOriginal=this.datosDiagnostico.tipoFalla,this.blockInput=!0,this.boolCambiarPlaza=!0,t.next=30;break;case 15:return a=this.$route.query.item,t.next=18,h["a"].actualizar_plaza(a.adminSquareId);case 18:return e=t.sent,s=e.plazaSelect,this.plazaSeleccionada=s.numeroPlaza,this.headerSelecionado=this.$store.getters["Header/GET_HEADER_SELECCIONADO"],this.$store.dispatch("Refacciones/BUSCAR_CARRILES",this.plazaSeleccionada),t.next=25,this.$store.getters["Refacciones/GET_CARRILES_STATE"];case 25:i=t.sent,l=[],"Sin lineas asignadas"!=a.lanes&&(l=a.lanes.split(",").map((function(t){return i.find((function(a){return a.lane==t}))}))),r=d()(a.diagnosisDate).format("YYYY-MM-DD"),this.datosDiagnostico={referenceNumber:a.referenceNumber,ubicacion:l,fechaDiagnostico:r,horaInicio:a.start,horaFin:a.end,folioFalla:a.failuerNumber,numeroReporte:a.siniesterNumber,descripcionFalla:a.failureDescription,diagnosticoFalla:a.failureDiagnosis,causaFalla:a.causeFailure};case 30:t.next=36;break;case 32:this.plazaSeleccionada=this.$store.state.Login.plazaSelecionada.numeroPlaza,this.headerSelecionado=this.$store.getters["Header/GET_HEADER_SELECCIONADO"],this.$store.dispatch("Refacciones/BUSCAR_CARRILES",this.plazaSeleccionada),void 0!=this.$route.query.data&&(this.datosDiagnostico=this.$route.query.data,delete this.datosDiagnostico["diagnosticoFalla"],delete this.datosDiagnostico["causaFalla"],this.blockInput=!0);case 36:this.$emit("actualizar-header",{header:this.datosDiagnostico,value:void 0,crear:!1});case 37:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),destroyed:function(){"FICHA"==this.tipo&&p["a"].$off("validar_header_diagnostico")},computed:{nombre_usuario:function(){return this.$store.getters["Header/GET_HEADER_SELECCIONADO"].nombre},carriles_plaza:function(){return this.$store.getters["Refacciones/GET_CARRILES_STATE"]},restante_desc:function(){return this.datosDiagnostico.descripcionFalla.length},restante_diag:function(){return this.datosDiagnostico.diagnosticoFalla.length},restante_causa:function(){return this.datosDiagnostico.causaFalla.length},restante_sol:function(){return void 0!=this.datosDiagnostico.solucionFalla?this.datosDiagnostico.solucionFalla.length:0},restante_folio:function(){return this.datosDiagnostico.folioFalla.trim().length},restante_siniestro:function(){return this.datosDiagnostico.numeroReporte.trim().length}},watch:{tipo:function(t){"FICHA"==t&&(delete this.datosDiagnostico["descripcionFalla"],delete this.datosDiagnostico["diagnosticoFalla"],delete this.datosDiagnostico["causaFalla"],this.blockInput=!0)}},methods:{aceptar_borrar_dtc:function(){var t=Object(l["a"])(Object(o["a"])().mark((function t(){var a,e,s=this;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$store.getters["Login/GET_USEER_ID_PLAZA_ID"],e={refNum:this.referenciaDtc,userId:a.idUser,comentario:this.comentarioBorrarDtc},t.next=4,this.$store.dispatch("DTC/BORRAR_DTC",e).then((function(){s.$notify.success({title:"Ok!",msg:"EL DTC CON LA REFERENCIA ".concat(s.referenciaDtc," SE ELIMINO CORRECTAMENTE."),position:"bottom right",styles:{height:100,width:500}})})).catch((function(){s.$notify.error({title:"Ups!",msg:"EL DTC CON LA REFERENCIA ".concat(s.referenciaDtc," NO SE PUDO ELIMINAR."),position:"bottom right",styles:{height:100,width:500}})}));case 4:this.referenciaDtc="--",this.modalAdvertencia=!1;case 6:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),cancelar_borrado_dtc:function(){this.modalAdvertencia=!1,this.comentarioBorrarDtc="",this.datosDiagnostico.tipoFalla=this.tipoFallaOriginal},bloquear_checboxes:function(t){this.$emit("mapear-tipo-falla",t),1==t&&(this.blockCheckBox=[!0,!1,!1],"--"!=this.referenciaDtc&&(this.modalAdvertencia=!0)),2==t&&(this.blockCheckBox=[!1,!0,!1]),3==t&&(this.blockCheckBox=[!1,!1,!0])},crear_referencia:function(){var t=Object(l["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Crear"!=this.$route.params.tipoVista){t.next=5;break}return t.next=3,c["a"].crear_referencia(d()(this.datosDiagnostico.fechaDiagnostico,"YYYY-MM-DD").format("DD-MM-YYYY"),this.headerSelecionado.referenceSquare,!0);case 3:a=t.sent,this.datosDiagnostico.referenceNumber=a.referenceNumber;case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),cambiar_plaza:function(t){var a=this;return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.plazaSeleccionada=t,a.headerSelecionado=a.$store.getters["Header/GET_HEADER_SELECCIONADO"],a.arrayCarriles=a.$store.dispatch("Refacciones/BUSCAR_CARRILES",a.plazaSeleccionada),a.crear_referencia();case 4:case"end":return e.stop()}}),e)})))()},validar_campos_header:function(){var t=Object(l["a"])(Object(o["a"])().mark((function t(a){var e,s,i,l,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e=!1,Object.entries(this.datosDiagnostico).forEach((function(t){"numeroReporte"!=t[0]&&""==t[1]&&(e=!0)})),s=Date.now(),i=Date.parse(this.datosDiagnostico.fechaDiagnostico),l=Date.parse(this.datosDiagnostico.horaInicio),r=Date.parse(this.datosDiagnostico.horaFin),!e&&i<s&&l<r?(this.$emit("actualizar-header",{header:this.datosDiagnostico,value:a,crear:!0}),window.scrollTo(0,top)):window.scrollTo(0,top)}catch(o){}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),label_multi_select:function(t){return"Sin Actividad"!=t?t.lane:[{capufeLaneNum:"",idGare:"",lane:""}]}}},v=g,x=(e("f719"),e("2877")),C=Object(x["a"])(v,s,i,!1,null,null,null);a["a"]=C.exports},"4fadc":function(t,a,e){var s=e("23e7"),i=e("6f53").entries;s({target:"Object",stat:!0},{entries:function(t){return i(t)}})},aa27:function(t,a,e){},f719:function(t,a,e){"use strict";e("aa27")}}]);
//# sourceMappingURL=chunk-3077a4e1.b3a889ae.js.map