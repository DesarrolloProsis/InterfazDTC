(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-012b730a"],{"0d16":function(t,a,e){"use strict";e("76ca")},"76ca":function(t,a,e){},"8e53":function(t,a,e){t.exports=e.p+"img/cerrarmodal.ff736e12.png"},b01b:function(t,a,e){"use strict";e.r(a);e("d81d"),e("4de4"),e("d3b7");var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container mx-auto"},[a("HeaderGenerico",{attrs:{titulo:"Actas de Entrega y Recepción",tipo:"CDTCF"},on:{filtro_Actas:t.filtro_Actas,"filtrar-todos-Actas":t.todos}}),a("div",{staticClass:"bg-white rounded-lg shadow overflow-y-auto overflow-x-0 sm:mb-24 font-titulo mb-17 sm:text-xs w-full",staticStyle:{height:"420px"}},[a("table",{staticClass:"border-collapse table-auto whitespace-no-wrap bg-white table-striped w-full"},[t._m(0),a("tbody",[0!=t.lista_DTC_Filtrada.length||t.loadingTable?t.loadingTable&&0==t.lista_DTC_Filtrada.length?[t._m(2)]:t._e():[t._m(1)],t.lista_DTC_Filtrada.length>0?t._l(t.lista_DTC_Filtrada,(function(e){return a("tr",{key:e.referenceNumber,staticClass:"border border-white",class:{hidden:0==e.typeFaultId,"bg-blue-200":1==e.isAnexoCreate,"bg-gray-200":0==e.isAnexoCreate}},[a("td",{staticClass:"p-3 sm:w-8 text-sm text-gray-700 text-center sm:text-xs cuerpoTable"},[t._v(t._s(e.referenceNumber))]),a("td",{staticClass:"p-3 text-sm text-gray-700 text-center sm:text-xs sm:hidden cuerpoTable"},[t._v(t._s(e.userName))]),a("td",{staticClass:"p-3 sm:w-8 text-sm text-gray-700 text-center sm:text-xs cuerpoTable"},[t._v(t._s(e.faultDescription))]),a("td",{staticClass:"P-3 sm:w-8 w-50 text-center"},[a("multiselect",{staticClass:"multi sm:w-32 sm:h-auto sm:ml-4",attrs:{placeholder:"Seleccione una Accion",label:"title","track-by":"title",options:t.opticones_select_acciones(e),"option-height":200,"custom-label":t.customLabel,"show-labels":!1},on:{close:function(a){return t.acciones_mapper(e)}},scopedSlots:t._u([{key:"option",fn:function(e){return[a("div",{staticClass:"option__desc"},[a("span",{staticClass:"option__title inline-flex sm:text-xs"},[a("font-awesome-icon",{staticClass:"text-blue-800 w-4 h-4 mr-2",attrs:{icon:e.option.img}}),t._v(" "+t._s(e.option.title))],1)])]}}],null,!0),model:{value:t.selectMulti,callback:function(a){t.selectMulti=a},expression:"selectMulti"}})],1)])})):t._e()],2)])]),a("Pagination",{attrs:{"total-pages":t.totalPages,total:t.total,"per-page":t.perPage,"current-page":t.currentPage,"has-more-pages":t.hasMorePages},on:{pagechanged:t.showMore}}),a("div",{staticClass:"sticky inset-0 font-titulo",class:{"modal-container":t.showModal}},[t.showModal?a("div",{staticClass:"rounded-lg p-2 grid grid-cols-1 content-center h-full"},[a("div",{staticClass:"container mx-auto rounded-lg border bg-white border-gray-400 px-4 py-10"},[a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"flex flex-row-reverse"},[a("button",{staticClass:"p-4 mr-10",on:{click:function(a){return t.botoncancelar_modal()}}},[a("img",{attrs:{src:e("8e53"),alt:"cerrarmodal",width:"20",height:"25"}})])]),t._m(3)]),a("div",{staticClass:"flex justify-center w-full sm:overflow-auto sm:h-60 md:overflow-auto md:h-60 lg:overflow-auto lg:h-60 xl:overflow-auto xl:h-70"},[a("table",{staticClass:"tablaf mt-6"},[t._m(4),a("tbody",t._l(t.listaanexosgenerados,(function(e){return a("tr",{key:e.anexoReference,class:{"bg-blue-200":5==e.statusId,"bg-yellow-200":6==e.statusId,"bg-green-200":7==e.statusId}},[a("td",{staticClass:"p-2 text-center text-sm"},[t._v(t._s(e.anexoReference))]),a("td",{staticClass:"p-2 text-center text-sm sm:hidden"},[t._v(t._s(e.userName))]),a("td",{staticClass:"p-2 text-center text-sm sm:hidden"},[5==e.statusId?a("div",{staticClass:"w-full mx-auto flex justify-center"},[a("span",{staticClass:"text-black text-xs uppercase"},[t._v(t._s(e.comentarios))])]):6==e.statusId?a("div",{staticClass:"w-full mx-auto flex justify-center"},[a("span",{staticClass:"text-black text-sm uppercase font-medium"},[t._v("Revisión")])]):7==e.statusId?a("div",{staticClass:"w-full mx-auto flex justify-center"},[a("span",{staticClass:"text-black text-sm uppercase font-medium"},[t._v("Facturación")])]):t._e()]),a("td",[a("multiselect",{staticClass:"multi sm:w-32 sm:h-auto sm:ml-4",attrs:{placeholder:"Seleccione una Accion",label:"title","track-by":"title",options:t.opticones_select_acciones_modal(e),"option-height":50,"custom-label":t.customLabel,"show-labels":!1},on:{close:function(a){return t.acciones_mapper_modal(e)}},scopedSlots:t._u([{key:"option",fn:function(e){return[a("div",{staticClass:"option__desc"},[a("span",{staticClass:"option__title inline-flex sm:text-xs"},[a("font-awesome-icon",{staticClass:"text-blue-800 w-4 h-4 mr-2",attrs:{icon:e.option.img}}),t._v(" "+t._s(e.option.title))],1)])]}}],null,!0),model:{value:t.selectMultiModal,callback:function(a){t.selectMultiModal=a},expression:"selectMultiModal"}})],1)])})),0)])])])]):t._e()]),a("div",{staticClass:"sticky inset-0",class:{"modal-container":t.modalCambiarStatus}},[t.modalCambiarStatus?a("div",{staticClass:"rounded-lg justify-center absolute inset-x-0 md:w-69 lg:w-69 xl:w-69 mx-auto px-12 py-1 sm:p-2 mt-48 sm:-mt-32"},[a("div",{staticClass:"rounded-lg border bg-white border-gray-700 px-12 py-10 shadow-2xl"},[a("p",{staticClass:"text-gray-900 font-thin text-md"},[t._v("Seguro que quieres cambiar el estatus de la referencia "),a("b",{staticClass:"font-bold"},[t._v(t._s(t.dtcCambiarestatus.referenceNumber))])]),a("div",[a("div",{staticClass:"mt-5"},[a("p",{staticClass:"mb-1 sm:text-sm"},[t._v("Estatus DTC")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.statusEdit,expression:"statusEdit"}],staticClass:"w-full is_valid",attrs:{type:"text"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.statusEdit=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecionar...")]),a("option",{attrs:{value:"1"}},[t._v("Inconcluso")]),a("option",{attrs:{value:"2"}},[t._v("Concluido")]),a("option",{attrs:{value:"3"}},[t._v("Sellado")]),a("option",{attrs:{value:"4"}},[t._v("GMMEP")])])]),a("div",{staticClass:"mt-5"},[a("p",{staticClass:"mb-1 sm:text-sm"},[t._v("Motivo del Cambio")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.motivoCambio,expression:"motivoCambio"}],staticClass:"appearance-none block bg-grey-lighter container mx-auto text-grey-darker is_valid border-black rounded-lg py-4 mb-0 h-24 placeholder-gray-500 border",attrs:{placeholder:"Motivo del Cambio",maxlength:t.limite},domProps:{value:t.motivoCambio},on:{input:function(a){a.target.composing||(t.motivoCambio=a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-gray-500"},[t._v(t._s(t.restante)+"/300")])])]),a("div",{staticClass:"justify-center flex mt-5"},[a("button",{staticClass:"botonIconCrear m-4",on:{click:t.editar_status_dtc}},[t._v("Aceptar")]),a("button",{staticClass:"botonIconCancelar m-4",on:{click:function(a){t.modalCambiarStatus=!1}}},[t._v("Cancelar")])])])]):t._e()]),a("div",{staticClass:"sticky inset-0",class:{"modal-container":t.modalCambiarStatusAnexo}},[t.modalCambiarStatusAnexo?a("div",{staticClass:"rounded-lg justify-center absolute inset-x-0 md:w-69 lg:w-69 xl:w-69 mx-auto px-12 py-1 sm:p-2 mt-48 sm:-mt-32"},[a("div",{staticClass:"rounded-lg border bg-white border-gray-700 px-12 py-10 shadow-2xl"},[a("p",{staticClass:"text-gray-900 font-thin text-xl"},[t._v(t._s(t.textomodalanexo)+" "),a("b",{staticClass:"font-bold"},[t._v(t._s(t.anexocambiarestatus.anexoReference))])]),a("div",[t.correccion?a("div",{staticClass:"mt-5"},[a("p",{staticClass:"mb-1 sm:text-sm"},[t._v("Motivo")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.motivoCambioAnexo,expression:"motivoCambioAnexo"}],staticClass:"appearance-none block bg-grey-lighter container mx-auto text-grey-darker is_valid border-black rounded-lg py-4 mb-0 h-24 placeholder-gray-500 border",attrs:{placeholder:"Motivo del Cambio",maxlength:t.limite},domProps:{value:t.motivoCambioAnexo},on:{input:function(a){a.target.composing||(t.motivoCambioAnexo=a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-gray-500"},[t._v(t._s(t.restante)+"/300")])]):t._e()]),a("div",{staticClass:"justify-center flex mt-5"},[a("button",{staticClass:"botonIconCrear m-4",on:{click:t.editar_status_anexo}},[t._v("Confirmar")]),a("button",{staticClass:"botonIconCancelar m-4",on:{click:t.cerrar_modal_anexo}},[t._v("Cancelar")])])])]):t._e()])],1)},i=[function(){var t=this,a=t._self._c;return a("thead",{},[a("tr",[a("th",{staticClass:"p-3 text-sm sm:text-xs sm:w-8 text-gray-400 tracking-wide cabeceraTable font-normal rounded-l-lg"},[t._v("Referencia")]),a("th",{staticClass:"p-3 text-sm sm:text-xs text-gray-400 font-normal tracking-wide cabeceraTable sm:hidden"},[t._v("Usuario")]),a("th",{staticClass:"p-3 text-sm sm:text-xs sm:w-8 text-gray-400 font-normal tracking-wide cabeceraTable"},[t._v("Tipo de Falla")]),a("th",{staticClass:"p-3 text-sm sm:text-xs sm:w-8 text-gray-400 font-normal tracking-wide cabeceraTable rounded-r-lg"},[t._v("Acciones")])])])},function(){var t=this,a=t._self._c;return a("tr",[a("td",{staticClass:"w-full text-center text-red-500 m-10",attrs:{colspan:"6"}},[a("div",{staticClass:"mt-8 mb-8"},[t._v("Sin Informacion")])])])},function(){var t=this,a=t._self._c;return a("tr",[a("td",{attrs:{colspan:"9"}},[a("div",{staticClass:"mt-8 mb-8 border-solid animate-spin rounded-full border-blue-400 border-2 h-10 w-10 mx-auto",staticStyle:{"border-top-color":"transparent"}})])])},function(){var t=this,a=t._self._c;return a("div",[a("h1",{staticClass:"text-center text-4xl font-bold sm:text-2xl"},[t._v("Actas Generadas")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",{staticClass:"text-sm text-center text-white trTable sm:text-xs"},[a("th",{staticClass:"w-24 md:w-34 lg:w-49 xl:w-54 cabeceraTable font-medium sticky top-0 rounded-l-lg"},[t._v("Referencia")]),a("th",{staticClass:"w-24 md:w-34 lg:w-49 xl:w-54 cabeceraTable font-medium sm:hidden sticky top-0"},[t._v("Usuario")]),a("th",{staticClass:"w-24 md:w-34 lg:w-49 xl:w-54 cabeceraTable font-medium sm:hidden sticky top-0"},[t._v("Estatus(Observaciones)")]),a("th",{staticClass:"w-24 md:w-34 lg:w-49 xl:w-54 cabeceraTable font-medium sticky top-0 rounded-r-lg"},[t._v("Acciones")])])])}],o=e("c7eb"),l=e("1da1"),n=(e("99af"),e("159b"),e("ac1f"),e("1276"),e("caad"),e("2532"),e("7db0"),e("4201")),r=e("8e5f"),c=e.n(r),u=e("d101"),d=e("9909"),h=e("1799"),p="http://201.99.110.3:86/api",m={name:"DTCFacturados",components:{HeaderGenerico:n["a"],Multiselect:c.a,Pagination:h["a"]},data:function(){return{loadingTabla:!0,lista_DTC_Filtrada:[],showModal:!1,modalCambiarStatus:!1,modalCambiarStatusAnexo:!1,selectMulti:"",selectMultiModal:"",infoDTC:[],lista_dtc:[],plazasValidas:[],dtcCambiarestatus:{},anexocambiarestatus:{},statusEdit:"",motivoCambio:"",limite:300,listaanexosgenerados:{},page:1,totalPages:0,total:10,perPage:10,currentPage:1,hasMorePages:!0,fechaFiltro:"",buscarActa:"",plazaFiltro:"",estatus:"",plazaidsquare:{},tipoUsuario:0,statusEditAnexo:"",motivoCambioAnexo:"",textomodalanexo:"",correccion:!1,dtcanexo:{},usuario:"",tipofalla:""}},beforeMount:function(){var t=this;this.loadingTable=!0,this.tipoUsuario=this.$store.state.Login.cookiesUser.rollId;var a=this.$store.state.Login.cookiesUser.userId,e=this.$store.state.Login.plazaSelecionada.refereciaPlaza;this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(e,"/").concat(this.page,"/").concat(this.total,"/").concat(a,"/null/null/null/null/5/null")).then((function(a){if(null==a.data.result.rows)t.loadingTable=!1,t.lista_DTC_Filtrada=[];else{var e=a.data.result.rows;e.forEach((function(a){return t.infoDTC.push(a.dtcView)})),t.lista_DTC_Filtrada=t.infoDTC,console.log(t.lista_DTC_Filtrada),t.totalPages=a.data.result.numeroPaginas,t.currentPage=a.data.result.paginaActual,t.loadingTable=!1}})).catch((function(a){404==a.response.status&&(t.loadingTable=!1,t.infoDTC=[],t.lista_DTC_Filtrada=[])}))},methods:{acciones_mapper:function(t){"Actas Generadas"==this.selectMulti.title?(this.showModal=!0,this.selectMulti="",this.dtcanexo=t,this.Anexosgenerados(this.dtcanexo)):"Generar Actas"==this.selectMulti.title?2===t.typeFaultId?(this.$router.push("/Anexo1A/".concat(t.referenceSquare,"/").concat(t.squareCatalogId,"/").concat(t.referenceNumber)),this.selectMulti=""):3===t.typeFaultId&&(this.$router.push("/Anexo1B/".concat(t.referenceSquare,"/").concat(t.squareCatalogId,"/").concat(t.referenceNumber)),this.selectMulti=""):"Cambiar Estatus"==this.selectMulti.title&&(this.modalCambiarStatus=!0,this.dtcCambiarestatus=t,this.selectMulti="")},customLabel:function(t){var a=t.title;return"".concat(a)},opticones_select_acciones:function(t){var a=this.$store.state.Login.cookiesUser.userId,e=[{title:"Actas Generadas",accionCss:"terminar",img:"fa-solid fa-window-restore"},{title:"Generar Actas",accionCss:"terminar",img:"fa-solid fa-file-circle-plus"},{title:"Cambiar Estatus",accionCss:"editar",img:"fa-solid fa-arrow-right-arrow-left"}],s=[];return 1!=this.tipoUsuario&&4!=this.tipoUsuario&&3!=this.tipoUsuario&&8!=this.tipoUsuario&&7!=this.tipoUsuario&&10!=this.tipoUsuario||(1==t.isAnexoCreate&&s.push(e[0]),1!=t.isValidCreate||1!=this.tipoUsuario&&3!=this.tipoUsuario||s.push(e[1])),2!=this.tipoUsuario&&5!=this.tipoUsuario||(1==t.isAnexoCreate&&s.push(e[0]),a==t.userId&&1==t.isValidCreate&&s.push(e[1])),4!=this.tipoUsuario&&8!=this.tipoUsuario||s.push(e[2]),s},botoncancelar_modal:function(){this.selectMulti="",this.showModal=!1,document.body.classList.remove("modal-open")},opticones_select_acciones_modal:function(t){var a=[{title:"Editar",accionCss:"editar",img:"fa-solid fa-file-pen"},{title:"Descargar Acta",accionCss:"terminar",img:"fa-solid fa-download"},{title:"Validar",accionCss:"editar",img:"fa-solid fa-file-circle-check"},{title:"Corregir",accionCss:"editar",img:"fa-solid fa-file-pen"}],e=[];return 5!=t.statusId||1!=this.tipoUsuario&&2!=this.tipoUsuario&&3!=this.tipoUsuario&&5!=this.tipoUsuario||e.push(a[0]),7!=this.tipoUsuario&&7==t.statusId&&e.push(a[1]),6!=t.statusId||4!=this.tipoUsuario&&8!=this.tipoUsuario||(e.push(a[1]),e.push(a[2]),e.push(a[3])),7!=t.statusId||4!=this.tipoUsuario&&8!=this.tipoUsuario||e.push(a[3]),7==t.statusId&&7==this.tipoUsuario&&e.push(a[1]),10==this.tipoUsuario&&5==t.statusId&&e.push(a[1]),e},acciones_mapper_modal:function(t){console.log(t),"Editar"==this.selectMultiModal.title?"A"===t.tipoAnexo?(this.$router.push("/EditarAnexo1A/".concat(t.anexoReference,"/").concat(t.dtcReference)),this.selectMultiModal=""):"B"===t.tipoAnexo&&(this.$router.push("/EditarAnexo1B/".concat(t.anexoReference,"/").concat(t.dtcReference)),this.selectMultiModal=""):"Descargar Acta"==this.selectMultiModal.title?"A"===t.tipoAnexo?(d["a"].generar_pdf_anexoA(t.dtcReference,t.anexoReference,t.isSubVersion),d["a"].reporte_fotografico_anexo(t.dtcReference,t.anexoReference,t.isSubVersion),this.selectMultiModal=""):"B"===t.tipoAnexo&&(d["a"].generar_pdf_anexoB(t.dtcReference,t.anexoReference,t.isSubVersion),d["a"].reporte_fotografico_anexo(t.dtcReference,t.anexoReference,t.isSubVersion),this.selectMultiModal=""):"Validar"==this.selectMultiModal.title?(this.textomodalanexo="",this.statusEditAnexo="",this.modalCambiarStatusAnexo=!0,this.anexocambiarestatus=t,this.textomodalanexo="Seguro que desea validar el anexo con referencia",this.statusEditAnexo="7",this.selectMultiModal=""):"Corregir"==this.selectMultiModal.title&&(this.textomodalanexo="",this.statusEditAnexo="",this.modalCambiarStatusAnexo=!0,this.anexocambiarestatus=t,this.textomodalanexo="Seguro que desea regresar a corrección con referencia",this.statusEditAnexo="5",this.correccion=!0,this.selectMultiModal="")},cerrar_modal_anexo:function(){this.modalCambiarStatusAnexo=!1,this.textomodalanexo="",this.statusEditAnexo="",this.anexocambiarestatus={},this.correccion=!1,this.motivoCambioAnexo=""},editar_status_anexo:function(){var t=this;this.modalCambiarStatusAnexo=!1;var a={userId:this.anexocambiarestatus.userId,anexoReference:this.anexocambiarestatus.anexoReference,statusId:this.statusEditAnexo,comentario:this.motivoCambioAnexo};""!=this.statusEditAnexo?this.$http.post("".concat(p,"/AnexoDTC/CambiarStatus/").concat(this.anexocambiarestatus.anexoReference.split("-")[0]),a).then((function(){t.statusEditAnexo="",t.motivoCambioAnexo="",t.anexocambiarestatus={},t.correccion=!1,t.Anexosgenerados(t.dtcanexo)})):(this.$notify.warning({title:"Ups!",msg:"OCURRIO ALGUN ERROR, NO SE REALIZARON LOS CAMBIOS.",position:"bottom right",styles:{height:100,width:500}}),this.lista_DTC_Filtrada=this.infoDtc)},guardar_palabra_busqueda:function(t){var a=this;""!=t?(this.lista_DTC_Filtrada=[],setTimeout(Object(l["a"])(Object(o["a"])().mark((function e(){var s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.infoDTC.filter((function(a){return a.referenceNumber.toUpperCase().includes(t.toUpperCase())})),a.lista_DTC_Filtrada=s;case 2:case"end":return e.stop()}}),e)}))),1e3)):this.lista_DTC_Filtrada=this.infoDTC},filtro_dtc:function(){var t=Object(l["a"])(Object(o["a"])().mark((function t(a){var e=this;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:""!=a.plazaFiltro||""!=a.referenciaFiltro?(this.lista_DTC_Filtrada=[],setTimeout(Object(l["a"])(Object(o["a"])().mark((function t(){var s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].filtrarDTC(e.filtroVista,a.plazaFiltro,"",a.referenciaFiltro,void 0,!1,void 0);case 2:s=t.sent,e.$nextTick().then((function(){e.lista_DTC_Filtrada=s}));case 4:case"end":return t.stop()}}),t)}))),1e3)):this.$notify.warning({title:"Ups!",msg:"NO SE HA LLENADO NINGUN CAMPO PARA FILTRAR.",position:"bottom right",styles:{height:100,width:500}});case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),limpiar_filtros:function(){var t=this;this.$nextTick().then((function(){t.lista_DTC_Filtrada=t.infoDTC}))},editar_status_dtc:function(){var t=this;this.modalCambiarStatus=!1;var a=this.$store.getters["Login/GET_USEER_ID_PLAZA_ID"],e={referenceNumber:this.dtcCambiarestatus.referenceNumber,statusId:parseInt(this.statusEdit),userId:a.idUser,comment:this.motivoCambio};""!=this.statusEdit&&""!=this.motivoCambio?(console.log(e.statusId),e.statusId<4&&(console.log("Aqui hay que poner el end point"),this.$http.get("".concat(p,"/AnexoDTC/DeleteAnexo/").concat(this.dtcCambiarestatus.referenceNumber.split("-")[0],"/").concat(this.dtcCambiarestatus.referenceNumber)).then((function(t){console.log(t)}))),this.$http.post("".concat(p,"/Pdf/ActualizarDtcAdministratores/").concat(this.dtcCambiarestatus.referenceNumber.split("-")[0]),e).then((function(){t.loadingTable=!0,t.todos(),t.statusEdit="",t.motivoCambio="",t.dtcCambiarestatus=""})).catch((function(a){404==a.response.status&&(t.loadingTable=!0,t.todos(),t.statusEdit="",t.motivoCambio="",t.dtcCambiarestatus="")}))):(this.$notify.warning({title:"Ups!",msg:"NO SE HA LLENADO LOS CAMPOS.",position:"bottom right",styles:{height:100,width:500}}),this.lista_DTC_Filtrada=this.infoDtc)},Anexosgenerados:function(t){var a=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var s,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/AnexoDTC/Historico/").concat(t.referenceSquare,"/").concat(t.referenceNumber));case 3:return s=e.sent,e.next=6,s.json();case 6:i=e.sent,a.listaanexosgenerados=i.result,a.tipoUsuario=a.$store.state.Login.cookiesUser.rollId,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),404==e.t0.response.status&&(a.loadingTable=!1,a.infoDTC=[],a.lista_DTC_Filtrada=[]);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},filtro_Actas:function(t,a,e,s){var i=this;this.loadingTable=!0,this.lista_DTC_Filtrada=[],this.plazaFiltro=t,this.buscarActa=a,this.usuario=e,this.tipofalla=s;var o=this.$store.state.Login.cookiesUser.userId,l=this.$store.state.Login.plazaSelecionada.refereciaPlaza,n=this.$store.state.Login.listaPlazas;""!=this.plazaFiltro&&(this.plazaidsquare=n.find((function(t){return t.squareCatalogId==i.plazaFiltro}))),""!=this.plazaFiltro&&""==this.buscarActa&&""==this.usuario&&""==this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/null/null/").concat(this.plazaidsquare.squareCatalogId,"/null/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""==this.plazaFiltro&&""!=this.buscarActa&&""==this.usuario&&""==this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/null/null/null/").concat(this.buscarActa,"/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""==this.plazaFiltro&&""==this.buscarActa&&""!=this.usuario&&""==this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/").concat(this.usuario,"/null/null/null/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""==this.plazaFiltro&&""==this.buscarActa&&""==this.usuario&&""!=this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/null/").concat(this.tipofalla,"/null/null/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""!=this.plazaFiltro&&""!=this.buscarActa&&""==this.usuario&&""==this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/null/null/").concat(this.plazaidsquare.squareCatalogId,"/").concat(this.buscarActa,"/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""!=this.plazaFiltro&&""==this.buscarActa&&""!=this.usuario&&""==this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/").concat(this.usuario,"/null/").concat(this.plazaidsquare.squareCatalogId,"/null/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""!=this.plazaFiltro&&""==this.buscarActa&&""==this.usuario&&""!=this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/null/").concat(this.tipofalla,"/").concat(this.plazaidsquare.squareCatalogId,"/null/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""==this.plazaFiltro&&""!=this.buscarActa&&""!=this.usuario&&""==this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/").concat(this.usuario,"/null/null/").concat(this.buscarActa,"/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""==this.plazaFiltro&&""!=this.buscarActa&&""==this.usuario&&""!=this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/").concat(this.usuario,"/").concat(this.tipofalla,"/null/null/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""==this.plazaFiltro&&""==this.buscarActa&&""!=this.usuario&&""!=this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/null/null/").concat(this.plazaidsquare.squareCatalogId,"/").concat(this.buscarActa,"/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""!=this.plazaFiltro&&""!=this.buscarActa&&""!=this.usuario&&""==this.tipofalla?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/").concat(this.usuario,"/").concat(this.tipofalla,"/").concat(this.plazaidsquare.squareCatalogId,"/").concat(this.buscarActa,"/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)})):""!=this.plazaFiltro&&""!=this.buscarActa&&""!=this.usuario&&""!=this.tipofalla&&this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(l,"/").concat(this.page,"/").concat(this.total,"/").concat(o,"/").concat(this.usuario,"/").concat(this.tipofalla,"/").concat(this.plazaidsquare.squareCatalogId,"/").concat(this.buscarActa,"/5/null")).then((function(t){if(null==t.data.result.rows)i.lista_DTC_Filtrada=[],i.loadingTable=!1;else{var a=t.data.result.rows;a.forEach((function(t){return i.lista_DTC_Filtrada.push(t.dtcView)})),i.totalPages=t.data.result.numeroPaginas,i.currentPage=t.data.result.paginaActual,i.loadingTable=!1}})).catch((function(t){404==t.response.status&&(i.lista_DTC_Filtrada=[],i.loadingTable=!1)}))},todos:function(){var t=this;this.loadingTable=!0,this.infoDTC=[],this.lista_DTC_Filtrada=[],this.buscarActa="",this.plazaFiltro="",this.usuario="",this.tipofalla="",this.tipoUsuario=this.$store.state.Login.cookiesUser.rollId;var a=this.$store.state.Login.cookiesUser.userId,e=this.$store.state.Login.plazaSelecionada.refereciaPlaza;this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(e,"/").concat(this.page,"/").concat(this.total,"/").concat(a,"/null/null/null/null/5/null")).then((function(a){if(null==a.data.result.rows)t.loadingTable=!1,t.lista_DTC_Filtrada=[];else{var e=a.data.result.rows;e.forEach((function(a){return t.infoDTC.push(a.dtcView)})),t.lista_DTC_Filtrada=t.infoDTC,t.totalPages=a.data.result.numeroPaginas,t.currentPage=a.data.result.paginaActual,t.loadingTable=!1}})).catch((function(a){404==a.response.status&&(t.loadingTable=!1,t.infoDTC=[],t.lista_DTC_Filtrada=[])}))},showMore:function(t){var a=this;this.lista_DTC_Filtrada=[],this.infoDTC=[],this.page=t,this.currentPage=t,this.$router.push({path:"ConcentradoDTCFacturados",query:{Pagina:t,nameFilter:null}}),this.loadingTable=!0;var e=this.$store.state.Login.cookiesUser.userId,s=this.$store.state.Login.plazaSelecionada.refereciaPlaza;this.tipoUsuario=this.$store.state.Login.cookiesUser.rollId,""==this.plazaFiltro&&""==this.buscarActa?this.$http.get("".concat(p,"/dtcData/GMMEP/").concat(s,"/").concat(this.page,"/").concat(this.total,"/").concat(e,"/null/null/null/null/5/null")).then((function(t){if(null==t.data.result.rows)a.lista_DTC_Filtrada=[],a.loadingTable=!1;else{var e=t.data.result.rows;e.forEach((function(t){return a.infoDTC.push(t.dtcView)})),a.lista_DTC_Filtrada=a.infoDTC,a.totalPages=t.data.result.numeroPaginas,a.currentPage=t.data.result.paginaActual,a.loadingTable=!1}})).catch((function(t){404==t.response.status&&(a.loadingTable=!1,a.infoDTC=[],a.lista_DTC_Filtrada=[])})):this.filtro_Actas(this.plazaFiltro,this.buscarActa)}},computed:{restante:function(){return this.motivoCambio.length}}},f=m,g=(e("0d16"),e("2877")),b=Object(g["a"])(f,s,i,!1,null,"39c27910",null);a["default"]=b.exports}}]);
//# sourceMappingURL=chunk-012b730a.1a42d789.js.map