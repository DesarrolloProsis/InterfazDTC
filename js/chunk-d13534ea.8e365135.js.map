{"version":3,"sources":["webpack:///./src/views/Preventivo/FormularioReporte.vue","webpack:///./src/components/Header/CrearHeaderPreventivo.vue","webpack:///src/components/Header/CrearHeaderPreventivo.vue","webpack:///./src/components/Header/CrearHeaderPreventivo.vue?b67d","webpack:///./src/components/Header/CrearHeaderPreventivo.vue?37f3","webpack:///./src/components/Actividades/TablaActividadesCarril.vue","webpack:///src/components/Actividades/TablaActividadesCarril.vue","webpack:///./src/components/Actividades/TablaActividadesCarril.vue?1567","webpack:///./src/components/Actividades/TablaActividadesCarril.vue?53c3","webpack:///src/views/Preventivo/FormularioReporte.vue","webpack:///./src/views/Preventivo/FormularioReporte.vue?e9a1","webpack:///./src/views/Preventivo/FormularioReporte.vue?fa4f","webpack:///./src/components/BarraProgreso.vue?3dba","webpack:///./src/components/ImagenesGenericas.vue","webpack:///./src/components/BarraProgreso.vue","webpack:///src/components/BarraProgreso.vue","webpack:///./src/components/BarraProgreso.vue?8d88","webpack:///./src/components/BarraProgreso.vue?8497","webpack:///src/components/ImagenesGenericas.vue","webpack:///./src/components/ImagenesGenericas.vue?a1f0","webpack:///./src/components/ImagenesGenericas.vue?29f6","webpack:///./src/components/Header/CrearHeaderPreventivo.vue?8f17"],"names":["render","_vm","this","_c","_self","staticClass","attrs","header","referenceNumber","on","guardar_log_fecha","modificar_adminid","modalLoading","listaActividades","calendarId","_v","directives","name","rawName","value","ref","class","expression","modifiers","observaciones","limite","domProps","$event","target","composing","_s","restante","reporteInsertado","ocultar_modal_loading","reporteInsert","crear_header_reporte","staticRenderFns","_m","frequencyName","tituloUbicacion","plazaNombre","lane","day","$route","query","edicion","_e","modalCambiarFecha","horaInicio","horaFin","adminIdCalendar","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","enviar_nuevo_admin_id","_l","listaPlazaAdminValid","item","key","administradorId","plazaAdminNombre","showModal","scopedSlots","_u","fn","errors","fechaCambio","motivoCambioFecha","botoncambiar_modal","botoncancelar_modal","require","data","props","type","default","beforeMount","computed","methods","toDay","mest","fecha","mes","title","msg","position","styles","height","width","refPlaza","ServicesPDF","motivo","watch","EventBus","component","deshabilitar","scrollBool","staticStyle","tag","equipo","componente","actividades","ubicacion","jobStatus","$set","actualizar_actividad","calendarioId","reporteNuevo","created","destroyed","insertar_actividades_nuevas","arrayJob","componentJob","flagUpdate","then","components","HeaderPreventivo","TablaActividadesCarril","ImagenesActividadCarril","Spinner","objetoLogDate","letras","adminIdCalendarModify","ServiceReporte","setTimeout","path","headerCompuesto","capufeLaneNum","dateStamp","frequencyId","idGare","statusMaintenance","adminId","squareId","tablaActividades","array_actividades","frecuencia","idJob","document","validar_horas","window","frecuenciaId","tipoEncabezadoLane","user","fechaInsercion","fechaAyuda","headerReporte","ReferenceNumber","SquareId","CapufeLaneNum","IdGare","UserId","AdminSquare","ReportDate","Start","End","Observations","CalendarId","banderaInsertar","date","userId","comment","tipo","params","tipoVista","reporteDataInsertada","cargandoImagen","progress","arrayImagenes","eliminar_imagen","imgbase","length","anularcarga","recibir_imagenes","num","limiteFotos","rounded","indeterminate","color","style","percentage","_t","inheritAttrs","maximofotosanexo","referenciaAnexo","subversionAnexo","editar","BarraProgreso","seconds","countdown","expires_in","interval","rand","clearInterval","urlImgPaths","console","response","nombreimg","newArrayImg","urlImgDescarga","_setInterval","enviar_imagenes","boolValidacion","objGetImagen","rutaInsertImagenes","rutaGetImagen","imagenes","formData","objPlaza","nombreImagen","urlDeleteImg"],"mappings":"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A/G,kCACAgH,+BACAT,gCACAU,+BAGA,iJACAC,MAAA,iBAIAT,qBAjBA,SAiBA/C,GACA,uBACA,SACAqD,QACA/G,qCACAgH,+BACAT,gCACAU,+BAEA,iJACAC,MAAA,mBCpH+W,ICO3W,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,gCCoFf,+BACe,GACfC,YACAC,mBACAC,yBACAC,+BACAC,gBAEA/C,KAPA,WAQA,OACAxE,mBACAD,UACAM,oBACAW,iBACAyB,WACAD,cACAvB,WACAuG,iBACA9F,iBACAtB,gBACAqH,SACAjG,oBACAkG,2BAMAd,QA3BA,WA2BA,WACAf,iDACA,kBAEAA,8CACA,gBAGAjB,uBAAA,8JACA,8BADA,wBAEA,sBACA,qCAHA,SAIA,kGAJA,cAIAa,EAJA,gBAKAkC,mCACAlC,iBACA,0BACA,gBACA,kBATA,cAKA,qBALA,iBAWA,0DAXA,QAWA,sBAXA,OAYA,kCACA,sBACAN,aACAC,4BACAC,wBACAC,QACAC,WACAC,aAGAoC,uBACA,gBAAAC,mDACA,MAxBA,wBA4BA,sBACAC,EAAA,kCACA,aACAxH,wBACAyH,8BACAC,sBACA9F,sCACA+F,0BACAnG,8BACAoG,gBACAjG,YACAD,yBACAmG,sCACAC,kBACAC,qBAEA,iCACA,6BACA,uBACAC,EAAA,8BACAC,EAAA,GACAD,uBACAC,QACAlC,6BACAD,kCACAD,6BACAqC,2BACAC,wBACAlC,wBACAD,sBAGA,wBACA,uCACA,yBA9DA,sGAAA1B,GAiEAiC,UApGA,WAqGAhB,+DAKAhB,UACAtD,SADA,WAGA,gCAKA,OAJA,SAEAmH,4CAEA,4BAOA5D,SACA3E,kBADA,SACAuD,GACA,8BAEAxD,kBAJA,SAIAwD,GACA,qBACA,4BAEAiF,cARA,WASA,0CACA,iCACA,0BACA,mCACA,mCACA,aAIAC,uBACA,sBACAzD,aACAC,yDACAC,wBACAC,QACAC,WACAC,cAGA,GAcA,OAVAoD,uBACA,sBACAzD,aACAC,qDACAC,wBACAC,QACAC,WACAC,cAGA,GAGA/D,sBA7CA,WA6CA,WACA,o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","file":"js/chunk-d13534ea.8e365135.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"border h-79 -mb-56 relative\"},[_c('HeaderPreventivo',{attrs:{\"header\":_vm.header,\"referenceNumber\":_vm.referenceNumber},on:{\"guarar-log-fecha\":_vm.guardar_log_fecha,\"guardar-adminId-nuevo\":_vm.modificar_adminid}}),_c('Spinner',{attrs:{\"modalLoading\":_vm.modalLoading}}),_c('TablaActividadesCarril',{attrs:{\"listaActividades\":_vm.listaActividades,\"calendarioId\":_vm.header.calendarId,\"referenceNumber\":_vm.referenceNumber}}),_c('div',{staticClass:\"inline-flex mx-auto w-full pl-20 pr-20 sm:grid grid-cols-1 font-titulo mt-6 -mb-32\"},[_c('div',{staticClass:\"w-1/2 sm:w-full sm:-ml-10\"},[_c('p',{staticClass:\"text-center text-xl text-gray-800 mb-6 sm:text-xs sm:-ml-48 sm:-mt-6\"},[_vm._v(\"Observaciones\")]),_c('div',{staticClass:\"absolute ml-57 -mt-8 sm:hidden md:hidden lg:-mt-8 lg:ml-49 w-6 hidden\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:( { ref:'tooltipobservacion', class: 'tooltip-custom tooltip-other-custom'}),expression:\" { ref:'tooltipobservacion', class: 'tooltip-custom tooltip-other-custom'}\",modifiers:{\"top\":true}}]},[_c('font-awesome-icon',{staticClass:\"text-blue-600 w-5 h-5 flex items-center\",attrs:{\"icon\":\"fa-solid fa-circle-info\"}})],1),_c('div',{ref:\"tooltipobservacion\",staticClass:\"font-titulo\"},[_c('p',{staticClass:\"text-center text-gray-800\"},[_vm._v(\"Se debe indicar las acciones \")])])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.observaciones),expression:\"observaciones\"}],staticClass:\"block container mx-auto py-4 mb-0 h-40 is_valid placeholder-gray-500 sm:text-sm ph-center-observaciones sm:h-24 sm:w-66 sm:-ml-6 sm:-mt-3\",attrs:{\"id\":\"obs\",\"placeholder\":\"Observaciones del Mantenimiento Preventivo\",\"name\":\"Observaciones\",\"maxlength\":_vm.limite},domProps:{\"value\":(_vm.observaciones)},on:{\"input\":function($event){if($event.target.composing)return;_vm.observaciones=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"text-xs text-gray-500 sm:ml-24\"},[_vm._v(_vm._s(_vm.restante)+\"/300\")])]),_c('div',{staticClass:\"w-1/2 ml-20 sm:w-full sm:-ml-16 sm:-mt-1 mt-3\"},[_c('ImagenesActividadCarril',{attrs:{\"reporteDataInsertada\":_vm.reporteInsertado,\"referenceNumber\":_vm.referenceNumber},on:{\"ocutar-modal-loading\":_vm.ocultar_modal_loading}})],1),_c('div',{staticClass:\"w-1/2 justify-end flex sm:grid grid-cols-1 sm:w-full sm:-mb-48\"},[(_vm.reporteInsert)?_c('div',[(!_vm.reporteInsertado)?_c('div',[_c('button',{staticClass:\"mt-32 sm:mt-8 botonCrearReporte h-16 w-44\",class:{'botonDeshabilitado': _vm.modalLoading},attrs:{\"disabled\":_vm.modalLoading,\"disable\":_vm.modalLoading},on:{\"click\":function($event){return _vm.crear_header_reporte(true)}}},[_c('font-awesome-icon',{staticClass:\"mr-2 text-green-800 h-8\",attrs:{\"icon\":\"fa-solid fa-floppy-disk\"}}),_c('span',[_vm._v(\"Crear Reporte Actividades\")])],1)]):_c('div',[_c('button',{staticClass:\"mt-32 sm:mt-8 botonCrearFoto h-16 w-44\",class:{'botonDeshabilitado': _vm.modalLoading},attrs:{\"disabled\":_vm.modalLoading,\"disable\":_vm.modalLoading},on:{\"click\":function($event){return _vm.crear_header_reporte(false)}}},[_c('font-awesome-icon',{staticClass:\"mr-2 text-blue-800 h-8\",attrs:{\"icon\":\"fa-solid fa-camera\"}}),_c('span',[_vm._v(\"Crear Reporte Fotografico\")])],1)])]):_c('div',[_c('button',{staticClass:\"mt-32 sm:mt-8 botonIconActualizar font-black h-16 w-44\",class:{'botonDeshabilitado': _vm.modalLoading},attrs:{\"disabled\":_vm.modalLoading,\"disable\":_vm.modalLoading},on:{\"click\":_vm.crear_header_reporte}},[_c('font-awesome-icon',{staticClass:\"mr-2 text-yellow-600 h-8\",attrs:{\"icon\":\"fa-solid fa-file-pen\"}}),_c('span',[_vm._v(\"Actualizar Reportes\")])],1)])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{},[_c('div',{staticClass:\"text-2xl text-center inline-flex sm:inline-block w-full mt-10\"},[_vm._m(0),_c('div',{staticClass:\"w-2/3 sm:w-auto sm:-mt-3 sm:text-sm flex justify-start sm:justify-center\"},[_c('div',{},[_c('h1',{staticClass:\"mt-5 font-titulo font-bold text-3xl sm:text-lg\"},[_vm._v(_vm._s(`Mantenimiento Preventivo ${_vm.header.frequencyName} Nivel ${_vm.tituloUbicacion}`))])])])]),_c('div',{staticClass:\"inline-flex sm:inline-block w-full\"},[_c('div',{staticClass:\"w-2/3 sm:w-full inline-flex sm:inline-block text-base sm:text-xs\"},[_c('div',{staticClass:\"w-1/2 sm:w-full p-8 sm:p-2\"},[_c('div',{staticClass:\"flex justify-starts m-5 sm:ml-3 -ml-1\"},[_c('p',{staticClass:\"font-titulo font-bold\"},[_vm._v(\"Numero de Reporte:\")]),_c('h2',{staticClass:\"font-titulo ml-5\"},[_vm._v(_vm._s(_vm.referenceNumber))])]),_c('div',{staticClass:\"flex justify-start m-5 sm:ml-3 -ml-1\"},[_c('p',{staticClass:\"font-titulo font-bold\"},[_vm._v(\"Plaza de Cobro:\")]),_c('p',{staticClass:\"font-titulo ml-5\"},[_vm._v(_vm._s(_vm.header.plazaNombre))])]),_c('div',{staticClass:\"flex justify-start m-5 sm:ml-3 -ml-1\"},[_c('p',{staticClass:\"font-titulo font-bold\"},[_vm._v(\"Ubicacion:\")]),_c('p',{staticClass:\"font-titulo ml-5\"},[_vm._v(_vm._s(_vm.header.lane))])])]),_c('div',{staticClass:\"w-1/2 sm:w-full sm:-mt-10 p-8 sm:p-2\"},[_c('div',{staticClass:\"flex justify-start sm:ml-3 m-5\"},[_c('p',{staticClass:\"font-titulo font-bold\"},[_vm._v(\"Fecha:\")]),_c('p',{staticClass:\"font-titulo ml-5\"},[_vm._v(_vm._s(_vm.header.day))]),(!_vm.$route.query.edicion)?_c('p',{staticClass:\"ml-5 text-sm cursor-pointer text-blue-700 font-boton font-bold\",on:{\"click\":_vm.modalCambiarFecha}},[_vm._v(\"Cambiar Fecha\")]):_vm._e()]),_c('div',{staticClass:\"flex justify-start m-5 sm:ml-3\"},[_c('p',{staticClass:\"font-titulo font-bold\"},[_vm._v(\"Hora Inicio:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.horaInicio),expression:\"horaInicio\"}],staticClass:\"ml-5 w-40 is_valid font-titulo\",attrs:{\"type\":\"time\"},domProps:{\"value\":(_vm.horaInicio)},on:{\"input\":function($event){if($event.target.composing)return;_vm.horaInicio=$event.target.value}}})]),_c('div',{staticClass:\"flex justify-start m-5 sm:ml-3\"},[_c('p',{staticClass:\"font-titulo font-bold\"},[_vm._v(\"Hora Fin:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.horaFin),expression:\"horaFin\"}],staticClass:\"ml-5 w-40 is_valid font-titulo\",attrs:{\"type\":\"time\"},domProps:{\"value\":(_vm.horaFin)},on:{\"input\":function($event){if($event.target.composing)return;_vm.horaFin=$event.target.value}}})]),_c('div',{staticClass:\"justify-start m-5 sm:ml-3 grid grid-cols-1\"},[_c('p',{staticClass:\"font-titulo font-bold -my-6\"},[_vm._v(\"Encargado de Plaza:\")]),_c('p',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.adminIdCalendar),expression:\"adminIdCalendar\"}],staticClass:\"is_valid\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.adminIdCalendar=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.enviar_nuevo_admin_id]}},_vm._l((_vm.listaPlazaAdminValid),function(item,key){return _c('option',{key:key,domProps:{\"value\":item.administradorId}},[_vm._v(_vm._s(item.plazaAdminNombre))])}),0)])])])]),_vm._m(1)]),_c('div',{staticClass:\"sticky inset-0\",class:{'modal-container': _vm.showModal}},[(_vm.showModal)?_c('div',{staticClass:\"rounded-lg justify-center absolute inset-x-0 md:w-69 lg:w-69 xl:w-69 mx-auto px-2 sm:p-2 mt-40\"},[_c('ValidationObserver',{ref:\"observer\"},[_c('div',{staticClass:\"rounded-lg border bg-white border-gray-400 px-12 py-10 sm:px-6 shadow-2xl\"},[_c('p',{staticClass:\"text-gray-900 font-titulo font-thin text-md\"},[_vm._v(\"Indica la fecha y el motivo por el cual desea cambiar la fecha\")]),_c('div',[_c('div',{staticClass:\"mt-5 sm:grid grid-cols-1\"},[_c('div',{staticClass:\"justify-start grid grid-cols-2 font-titulo\"},[_c('p',{staticClass:\"font-bold\"},[_vm._v(\"Fecha Original:\")]),_c('p',{staticClass:\"ml-5 text-center\"},[_vm._v(_vm._s(_vm.header.day))])]),_c('br'),_c('div',{staticClass:\"grid grid-cols-2 sm:grid-cols-2 font-titulo\"},[_c('ValidationProvider',{attrs:{\"name\":\"Nueva Fecha\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('p',{staticClass:\"font-bold my-1 sm:text-sm\"},[_vm._v(\"Nueva Fecha *:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fechaCambio),expression:\"fechaCambio\"}],staticClass:\"border w-40 is_valid sm:mb-6 sm:-mt-1\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.fechaCambio)},on:{\"input\":function($event){if($event.target.composing)return;_vm.fechaCambio=$event.target.value}}}),_c('span',{staticClass:\"text-red-600 text-xs block\"},[_vm._v(_vm._s(errors[0]))])]}}],null,false,208783523)})],1)]),_c('div',{staticClass:\"mt-5 font-titulo\"},[_c('ValidationProvider',{attrs:{\"name\":\"Motivo del Cambio\",\"rules\":\"required:max:300\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('p',{staticClass:\"mb-1 sm:text-sm\"},[_vm._v(\"Motivo del Cambio *:\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.motivoCambioFecha),expression:\"motivoCambioFecha\"}],staticClass:\"textAreaCalendario text-center\",attrs:{\"placeholder\":\"Motivo del cambio\",\"name\":\"Motivo\"},domProps:{\"value\":(_vm.motivoCambioFecha)},on:{\"input\":function($event){if($event.target.composing)return;_vm.motivoCambioFecha=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"text-xs text-gray-500\"},[_vm._v(_vm._s(_vm.restante)+\"/300\")]),_c('span',{staticClass:\"text-red-600 text-xs block\"},[_vm._v(_vm._s(errors[0]))])]}}],null,false,753759976)})],1)]),_c('div',{staticClass:\"justify-center flex -mt-5 -mb-6 sm:-mt-3\"},[_c('button',{staticClass:\"botonIconCrear m-6 sm:m-3\",on:{\"click\":_vm.botoncambiar_modal}},[_vm._v(\"Cambiar\")]),_c('button',{staticClass:\"botonIconCancelar font-boton m-6 sm:m-3\",on:{\"click\":_vm.botoncancelar_modal}},[_vm._v(\"Cancelar\")])])])])],1):_vm._e()])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-auto mx-auto flex justify-center\"},[_c('div',{staticClass:\"w-66 p-5 sm:ml-16 sm:-mt-10\"},[_c('img',{staticClass:\"h-12 w-48\",attrs:{\"src\":require(\"../../assets/img/prosis-logo.jpg\")}})])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-1/3 sm:w-full uppercase text-xs sm:text-xs p-10 sm:p-5\"},[_c('p',{staticClass:\"font-titulo font-bold\"},[_vm._v(\"Estatus Equipo:\")]),_c('div',{staticClass:\"flex justify-between mt-2 ml-2\"},[_c('p',{staticClass:\"font-titulo\"},[_vm._v(\"Operando en optimas condiciones\")]),_c('div',{staticClass:\"bg-green-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 font-titulo\"},[_c('p',{staticClass:\"mt-1 mb-1 text-white\"},[_vm._v(\"Ok\")])])]),_c('div',{staticClass:\"flex justify-between mt-2 ml-2 font-titulo\"},[_c('p',[_vm._v(\"Equipo con Daño Fisico y/o Vandalizado\")]),_c('div',{staticClass:\"bg-yellow-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 sm:mt-1\"},[_c('p',{staticClass:\"mt-1 text-white\"},[_vm._v(\"Dañado\")])])]),_c('div',{staticClass:\"flex justify-between mt-2 ml-2 font-titulo\"},[_c('p',[_vm._v(\"No aplica por garantia con el fabricante\")]),_c('div',{staticClass:\"bg-orange-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 sm:mt-1\"},[_c('p',{staticClass:\"mt-1 text-white\"},[_vm._v(\"No Aplica\")])])]),_c('div',{staticClass:\"flex justify-between mt-2 ml-2 font-titulo\"},[_c('p',[_vm._v(\"No Existe Equipo (Vandalizado)\")]),_c('div',{staticClass:\"bg-red-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 sm:-mt-1\"},[_c('p',{staticClass:\"mt-1 text-white\"},[_vm._v(\"No Existe\")])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"\">\r\n        <!--///////////////////////////////////////////////////////////////////\r\n          ////                             HEADER                          ////\r\n          ////////////////////////////////////////////////////////////////////-->\r\n        <div class=\"text-2xl text-center inline-flex sm:inline-block w-full mt-10\">\r\n            <div class=\" w-auto mx-auto flex justify-center\">\r\n                <div class=\"w-66 p-5 sm:ml-16 sm:-mt-10\">\r\n                    <img src=\"../../assets/img/prosis-logo.jpg\" class=\"h-12 w-48\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"w-2/3 sm:w-auto sm:-mt-3 sm:text-sm flex justify-start sm:justify-center\">\r\n                <div class=\"\">\r\n                    <h1 class=\"mt-5 font-titulo font-bold text-3xl sm:text-lg\">{{ `Mantenimiento Preventivo ${header.frequencyName} Nivel ${tituloUbicacion}` }}</h1>            \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"inline-flex sm:inline-block  w-full\">\r\n            <!--///////////////////////////////////////////////////////////////////\r\n              ////                     COLUMNA IZQUIERDA                        ////\r\n              ////////////////////////////////////////////////////////////////////-->\r\n            <div class=\"w-2/3 sm:w-full inline-flex sm:inline-block text-base sm:text-xs\">\r\n                <div class=\"w-1/2 sm:w-full p-8 sm:p-2\">\r\n                    <div class=\"flex justify-starts m-5 sm:ml-3 -ml-1\">\r\n                        <p class=\"font-titulo font-bold\">Numero de Reporte:</p>\r\n                        <h2 class=\"font-titulo ml-5\">{{ referenceNumber }}</h2>\r\n                    </div>\r\n                    <div class=\"flex justify-start m-5 sm:ml-3 -ml-1\">\r\n                        <p class=\"font-titulo font-bold\">Plaza de Cobro:</p>\r\n                        <p class=\"font-titulo ml-5\">{{ header.plazaNombre }}</p>                                   \r\n                    </div>\r\n                    <div class=\"flex justify-start m-5 sm:ml-3 -ml-1\">\r\n                        <p class=\"font-titulo font-bold\">Ubicacion:</p>       \r\n                        <p class=\"font-titulo ml-5\">{{ header.lane }}</p>               \r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/2 sm:w-full sm:-mt-10 p-8 sm:p-2 \">\r\n                    <div class=\"flex justify-start sm:ml-3 m-5\"> \r\n                        <p class=\"font-titulo font-bold\">Fecha:</p>                        \r\n                        <p class=\"font-titulo ml-5\">{{ header.day }}</p> \r\n                        <p @click=\"modalCambiarFecha\" v-if=\"!$route.query.edicion\" class=\"ml-5 text-sm cursor-pointer text-blue-700 font-boton font-bold\">Cambiar Fecha</p>\r\n                    </div>\r\n                    <div class=\"flex justify-start m-5 sm:ml-3\">\r\n                        <p class=\"font-titulo font-bold\">Hora Inicio:</p>\r\n                        <input v-model=\"horaInicio\" class=\"ml-5 w-40 is_valid font-titulo\" type=\"time\">\r\n                    </div>\r\n                    <div class=\"flex justify-start m-5 sm:ml-3\">\r\n                        <p class=\"font-titulo font-bold\">Hora Fin:</p>\r\n                        <input v-model=\"horaFin\" class=\"ml-5 w-40 is_valid font-titulo\" type=\"time\">\r\n                    </div>\r\n                    <div class=\"justify-start m-5 sm:ml-3 grid grid-cols-1 \r\n                    \">\r\n                        \r\n                        <p class=\"font-titulo font-bold -my-6\">Encargado de Plaza:</p>\r\n                        <p>\r\n                            <select class=\"is_valid\" v-model=\"adminIdCalendar\" @change=\"enviar_nuevo_admin_id\">\r\n                                <option v-for=\"(item, key) in listaPlazaAdminValid\" :value=\"item.administradorId\" :key=\"key\">{{ item.plazaAdminNombre }}</option>\r\n                            </select>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--///////////////////////////////////////////////////////////////////\r\n              ////                     COLUMNA INDICACIONES                    ////\r\n              ////////////////////////////////////////////////////////////////////-->\r\n            <div class=\"w-1/3 sm:w-full uppercase text-xs sm:text-xs p-10 sm:p-5\">\r\n                <p class=\"font-titulo font-bold\">Estatus Equipo:</p>\r\n                <div class=\"flex justify-between mt-2 ml-2\">\r\n                    <p class=\"font-titulo\">Operando en optimas condiciones</p>\r\n                    <div class=\"bg-green-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 font-titulo\">\r\n                        <p class=\"mt-1 mb-1 text-white\">Ok</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex justify-between mt-2 ml-2 font-titulo\">\r\n                    <p>Equipo con Daño Fisico y/o Vandalizado</p>\r\n                    <div class=\"bg-yellow-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 sm:mt-1\">\r\n                        <p class=\"mt-1 text-white\">Dañado</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex justify-between mt-2 ml-2 font-titulo\">\r\n                    <p>No aplica por garantia con el fabricante</p>\r\n                    <div class=\"bg-orange-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 sm:mt-1\">\r\n                        <p class=\"mt-1 text-white\">No Aplica</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex justify-between mt-2 ml-2 font-titulo\">\r\n                    <p>No Existe Equipo (Vandalizado)</p>\r\n                    <div class=\"bg-red-500 border-gray-800 border w-20 h-6 ml-3 text-center is_valid -mt-1 sm:-mt-1\">\r\n                        <p class=\"mt-1 text-white\">No Existe</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--/////////////////////////////////////////////////////////////////\r\n        ////                      MODAL CAMBIAR FECHA                    ////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <div class=\"sticky inset-0\" :class=\"{'modal-container': showModal}\">\r\n            <div v-if=\"showModal\" class=\"rounded-lg justify-center absolute inset-x-0 md:w-69 lg:w-69 xl:w-69 mx-auto px-2 sm:p-2 mt-40\">\r\n                <ValidationObserver ref=\"observer\">\r\n                <div class=\"rounded-lg border bg-white border-gray-400 px-12 py-10 sm:px-6 shadow-2xl\">\r\n                    <p class=\"text-gray-900 font-titulo font-thin text-md\">Indica la fecha y el motivo por el cual desea cambiar la fecha</p>\r\n                    <div>\r\n                        <div class=\"mt-5 sm:grid grid-cols-1\">\r\n                            <div class=\"justify-start grid grid-cols-2 font-titulo\">\r\n                                <p class=\"font-bold\">Fecha Original:</p>                        \r\n                                <p class=\"ml-5 text-center\">{{ header.day }}</p> \r\n                            </div> \r\n                            <br> \r\n                            <div class=\"grid grid-cols-2 sm:grid-cols-2 font-titulo \"> \r\n                                <ValidationProvider name=\"Nueva Fecha\" rules=\"required\" v-slot=\"{ errors }\"> \r\n                                <p class=\"font-bold my-1 sm:text-sm\">Nueva Fecha *:</p>\r\n                                <input v-model=\"fechaCambio\" class=\"border w-40 is_valid sm:mb-6 sm:-mt-1\" type=\"date\"/>\r\n                                <span class=\"text-red-600 text-xs block\">{{ errors[0] }}</span>\r\n                                </ValidationProvider>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mt-5 font-titulo\">\r\n                            <ValidationProvider name=\"Motivo del Cambio\" rules=\"required:max:300\"  v-slot=\"{ errors }\">    \r\n                            <p class=\"mb-1 sm:text-sm\">Motivo del Cambio *:</p>\r\n                            <textarea v-model=\"motivoCambioFecha\" class=\"textAreaCalendario text-center\" placeholder=\"Motivo del cambio\" name=\"Motivo\"/>\r\n                            <span class=\"text-xs text-gray-500\">{{ restante }}/300</span>\r\n                            <span class=\"text-red-600 text-xs block\">{{ errors[0] }}</span>\r\n                            </ValidationProvider>\r\n                        </div>\r\n                    </div>\r\n                    <!--/////////////////////////////////////////////////////////////////\r\n                    ////                     BOTONES MODAL CAMBIAR FECHA          ////\r\n                    ////////////////////////////////////////////////////////////////////-->\r\n                    <div class=\"justify-center flex -mt-5 -mb-6 sm:-mt-3\">\r\n                        <button  @click=\"botoncambiar_modal\" class=\"botonIconCrear m-6 sm:m-3\">Cambiar</button>\r\n                        <button  @click=\"botoncancelar_modal\" class=\"botonIconCancelar font-boton m-6 sm:m-3\">Cancelar</button>\r\n                    </div>\r\n                </div>\r\n                </ValidationObserver>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport EventBus from \"../../services/EventBus.js\";\r\nimport ServicesPDF from \"../../services/ReportesPDFService.js\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n/////////////////////////////////////////////////////////////////////\r\n////                          DATA                               ////\r\n/////////////////////////////////////////////////////////////////////\r\ndata() {\r\n    return {\r\n        showModal: false,\r\n        horaInicio: '',\r\n        horaFin: '',\r\n        fechaCambio: '',\r\n        motivoCambioFecha: '',\r\n        limite: 300,\r\n        tituloUbicacion: '',\r\n        listaPlazaAdminValid: [],\r\n        adminIdCalendar: ''\r\n    };\r\n},\r\nprops: {\r\n    header:{\r\n        type: Object,\r\n        default: () => {},\r\n    },\r\n    referenceNumber: {\r\n        type: String,\r\n        default: () => ''\r\n    }    \r\n},\r\n/////////////////////////////////////////////////////////////////////\r\n////                       CICLOS DE VIDA                        ////\r\n/////////////////////////////////////////////////////////////////////\r\nbeforeMount: async function() {     \r\n    this.listaPlazaAdminValid = this.$store.state.Login.cookiesUser.plazasUsuario.filter(item => item.numeroPlaza == this.header.squareId && item.statusAdmin == true)\r\n    this.adminIdCalendar = this.header.adminId      \r\n    this.$emit('guardar-adminId-nuevo', this.adminIdCalendar)\r\n    this.tituloUbicacion = this.header.capufeLaneNum == '0000' ? 'Plaza' : 'Carril' \r\n    this.horaInicio = this.$route.query.horas.horaInicio\r\n    this.horaFin = this.$route.query.horas.horaFin   \r\n},\r\n/////////////////////////////////////////////////////////////////////\r\n////                       COMPUTADOS                            ////\r\n/////////////////////////////////////////////////////////////////////\r\ncomputed:{\r\n    restante(){\r\n        return  this.motivoCambioFecha.length\r\n    }\r\n},\r\n/////////////////////////////////////////////////////////////////////\r\n////                       METODOS                               ////\r\n/////////////////////////////////////////////////////////////////////\r\nmethods:{\r\n    modalCambiarFecha: function (){\r\n            this.showModal = true                    \r\n    },\r\n    botoncambiar_modal: async function (){\r\n        if(this.fechaCambio !='' && this.motivoCambioFecha != ''){        \r\n            let toDay = new Date()\r\n            let mest = toDay.getMonth()\r\n            mest = mest + 1;            \r\n            let fecha = new Date(this.fechaCambio)\r\n            let mes = fecha.getMonth()\r\n            mes = mes + 1;            \r\n            fecha.setDate(fecha.getDate())\r\n            if( mes > mest || mes < mest){\r\n                this.$notify.warning({\r\n                title: \"Ops!! \",\r\n                msg: \"FECHA INVALIDA\",\r\n                position: \"bottom right\",\r\n                styles: {\r\n                        height: 100,\r\n                        width: 500,\r\n                        },\r\n                    });\r\n                this.fechaCambio = ''    \r\n            }\r\n            else {\r\n                this.fechaCambio = moment(this.fechaCambio, \"YYYY-MM-DD\").format(\"DD/MM/YYYY\")                \r\n                let refPlaza = await this.$store.getters['Login/GET_REFERENCIA_PLAZA_TO_NOMBRE'](this.header.plazaNombre).refereciaPlaza                                         \r\n                let referenceNumber = await ServicesPDF.crear_referencia_calendario(refPlaza,this.header.frequencyName, this.fechaCambio ,this.header.lane)\r\n                this.$emit('guarar-log-fecha', {\r\n                    fecha: this.fechaCambio,\r\n                    motivo: this.motivoCambioFecha,\r\n                    ref: referenceNumber \r\n                })            \r\n                this.header.day = this.fechaCambio                \r\n                this.showModal = false\r\n                this.fechaCambio = ''\r\n                this.motivoCambioFecha = ''                       \r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.$notify.warning({\r\n            title: \"* Son datos obligatorios\",\r\n            msg: \"NO SE SELECCIONÓ ALGUNO DE LOS DATOS NECESARIOS\",\r\n            position: \"bottom right\",\r\n            styles: {\r\n                height: 100,\r\n                width: 500,\r\n                },\r\n            });\r\n        }0\r\n    },\r\n    botoncancelar_modal: function (){\r\n        this.showModal = false\r\n        this.fechaCambio = ''\r\n        this.motivoCambioFecha = ''\r\n    },\r\n    enviar_nuevo_admin_id(){\r\n        this.$emit('guardar-adminId-nuevo', this.adminIdCalendar)\r\n    }\r\n},\r\n/////////////////////////////////////////////////////////////////////\r\n////                       Watcher                               ////\r\n/////////////////////////////////////////////////////////////////////\r\nwatch:{\r\n    horaInicio: function(newHora){\r\n        EventBus.$emit(\"actualizar_hora_inicio\", newHora);\r\n    },\r\n    horaFin: function(newHora){\r\n        EventBus.$emit(\"actualizar_hora_fin\", newHora);\r\n    }, \r\n}\r\n\r\n\r\n};\r\n</script>\r\n\r\n <style>\r\n .modal-container{\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100vh;\r\n  z-index: 1000;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n </style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrearHeaderPreventivo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrearHeaderPreventivo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CrearHeaderPreventivo.vue?vue&type=template&id=6d255506&\"\nimport script from \"./CrearHeaderPreventivo.vue?vue&type=script&lang=js&\"\nexport * from \"./CrearHeaderPreventivo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CrearHeaderPreventivo.vue?vue&type=style&index=0&id=6d255506&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"flex justify-center p-2\"},[_c('div',{staticClass:\"grid gap-4 grid-cols-1\",class:{'opacity-50':_vm.deshabilitar}},[_c('div',{staticClass:\"divtabla sm:text-xs\",class:{ 'overflow-x-auto': _vm.scrollBool}},[_c('table',{staticClass:\"table table-striped\",staticStyle:{\"height\":\"550px\"}},[_vm._m(0),_c(\"transition-group\",{tag:\"tbody\",attrs:{\"name\":\"table\"}},_vm._l((_vm.listaActividades),function(item,key){return _c('tr',{key:key,staticClass:\"h-12 text-gray-900\"},[_c('td',{staticClass:\"w-66 cuerpoTable font-titulo font-normal text-center\"},[_vm._v(_vm._s(item.equipo))]),_c('td',{staticClass:\"w-66 cuerpoTable font-titulo font-normal text-center\"},[_vm._v(_vm._s(item.componente))]),_c('td',{staticClass:\"w-66 cuerpoTable font-titulo font-normal text-center\"},[_vm._v(_vm._s(item.actividades))]),_c('td',{staticClass:\"w-66 cuerpoTable font-titulo font-normal text-center\"},[_vm._v(_vm._s(item.ubicacion))]),_c('td',{staticClass:\"w-66 cuerpoTable font-titulo font-normal text-center\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.jobStatus),expression:\"item.jobStatus\"}],staticClass:\"w-32 text-md text-gray-800 is_valid ml-20 sm:ml-0\",class:{'bg-green-500': item.jobStatus == 1, 'bg-yellow-500': item.jobStatus == 2, 'bg-orange-500': item.jobStatus == 3, 'bg-red-500': item.jobStatus == 4 },on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"jobStatus\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.actualizar_actividad(item)}]}},[_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(\"Seleccione...\")]),_c('option',{staticClass:\"bg-green-500\",attrs:{\"value\":\"1\"}},[_vm._v(\"Ok\")]),_c('option',{staticClass:\"bg-yellow-500\",attrs:{\"value\":\"2\"}},[_vm._v(\"Dañado\")]),_c('option',{staticClass:\"bg-orange-500\",attrs:{\"value\":\"3\"}},[_vm._v(\"No Aplica\")]),_c('option',{staticClass:\"bg-red-500\",attrs:{\"value\":\"4\"}},[_vm._v(\"No Existe\")])])])])}),0)],1)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',{staticClass:\"text-md h-16 trTable\"},[_c('th',{staticClass:\"w-64 cabeceraTable font-titulo font-medium\"},[_vm._v(\"Equipo\")]),_c('th',{staticClass:\"w-64 cabeceraTable font-titulo font-medium\"},[_vm._v(\"Componente\")]),_c('th',{staticClass:\"w-64 cabeceraTable font-titulo font-medium\"},[_vm._v(\"Actividad\")]),_c('th',{staticClass:\"w-64 cabeceraTable font-titulo font-medium\"},[_vm._v(\"Ubicacion\")]),_c('th',{staticClass:\"w-64 cabeceraTable font-titulo font-medium\"},[_c('p',[_vm._v(\"Acciones\")])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n<div >\r\n    <div class=\"flex justify-center p-2\">\r\n        <div class=\"grid gap-4 grid-cols-1\" :class=\"{'opacity-50':deshabilitar}\">\r\n            <div class=\"divtabla sm:text-xs\" :class=\"{ 'overflow-x-auto': scrollBool}\">\r\n            <!--//////////////////////////////////////////////////////////////////////\r\n                ////                           TABLA                             ////\r\n                ////////////////////////////////////////////////////////////////////-->\r\n                <table class=\"table table-striped\"  style=\"height:550px;\">\r\n                    <!--/////////////////////////////////////////////////////////////////\r\n                    ////                           HEADER TABLA                      ////\r\n                    ////////////////////////////////////////////////////////////////////-->\r\n                    <thead>\r\n                        <tr class=\"text-md h-16 trTable\"> \r\n                            <th class=\"w-64 cabeceraTable font-titulo font-medium\">Equipo</th>               \r\n                            <th class=\"w-64 cabeceraTable font-titulo font-medium\">Componente</th> \r\n                            <th class=\"w-64 cabeceraTable font-titulo font-medium\">Actividad</th>                             \r\n                            <th class=\"w-64 cabeceraTable font-titulo font-medium\">Ubicacion</th>                                                                                          \r\n                            <th class=\"w-64 cabeceraTable font-titulo font-medium\"><p>Acciones</p></th>                \r\n                        </tr>\r\n                    </thead>\r\n                <!--///////////////////////////////////////////////////////////////////\r\n                    ////                           Body TABLA                     ////\r\n                    /////////////////////////////////////////////////////////////////-->\r\n                    <tbody name=\"table\" is=\"transition-group\">       \r\n                        <tr class=\"h-12 text-gray-900\" v-for=\"(item, key) in listaActividades\" :key=\"key\"> \r\n                            <td class=\"w-66 cuerpoTable font-titulo font-normal text-center\">{{ item.equipo }}</td>   \r\n                            <td class=\"w-66 cuerpoTable font-titulo font-normal text-center\">{{ item.componente }}</td>                                                         \r\n                            <td class=\"w-66 cuerpoTable font-titulo font-normal text-center\">{{ item.actividades }}</td>   \r\n                            <td class=\"w-66 cuerpoTable font-titulo font-normal text-center\">{{ item.ubicacion }}</td>                                                                                \r\n                            <td class=\"w-66 cuerpoTable font-titulo font-normal text-center\">                                                                \r\n                                <select v-model=\"item.jobStatus\" @change=\"actualizar_actividad(item)\" class=\"w-32 text-md text-gray-800 is_valid ml-20 sm:ml-0\" :class=\"{'bg-green-500': item.jobStatus == 1, 'bg-yellow-500': item.jobStatus == 2, 'bg-orange-500': item.jobStatus == 3, 'bg-red-500': item.jobStatus == 4 }\" >\r\n                                    <option value=\"0\">Seleccione...</option>\r\n                                    <option class=\"bg-green-500\" value=\"1\">Ok</option>\r\n                                    <option class=\"bg-yellow-500\" value=\"2\">Dañado</option>\r\n                                    <option class=\"bg-orange-500\" value=\"3\">No Aplica</option>\r\n                                    <option class=\"bg-red-500\" value=\"4\">No Existe</option>\r\n                                </select>\r\n                            </td>\r\n                        </tr>                    \r\n                    </tbody>                    \r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport EventBus from \"../../services/EventBus.js\";\r\nconst API = process.env.VUE_APP_URL_API_PRODUCCION\r\nexport default {\r\n    name: 'TablaActividadesCarril',\r\n    props: {\r\n        listaActividades: {\r\n            type: Array,\r\n            default: () => []\r\n        },\r\n        referenceNumber: {\r\n            type: String,\r\n            default: () => ''\r\n        },\r\n        calendarioId:{\r\n            type: Number,\r\n            default: () => null\r\n        },\r\n        deshabilitar:{\r\n            type: Boolean,\r\n            default: () => false\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            scrollBool: '',\r\n            reporteNuevo: true,         \r\n        }\r\n    },\r\n    created(){\r\n        EventBus.$on('insertar-todas-actividades', () => {\r\n            this.insertar_actividades_nuevas()\r\n        })\r\n    },\r\n    beforeMount(){\r\n        this.$route.params.tipoVista == 'editar' \r\n            ? this.reporteNuevo = false \r\n            : this.reporteNuevo = true \r\n    },\r\n    destroyed(){\r\n        EventBus.$off('insertar-todas-actividades')\r\n    },\r\n    methods:{\r\n        insertar_actividades_nuevas(){\r\n            if(this.reporteNuevo){                      \r\n                let arrayJob = []\r\n                this.listaActividades.forEach((item) => {\r\n                    arrayJob.push({\r\n                        referenceNumber: this.referenceNumber,\r\n                        componentJob: parseInt(item.idJob),\r\n                        jobStatus: parseInt(item.jobStatus),\r\n                        flagUpdate: this.reporteNuevo \r\n                    }) \r\n                })                \r\n                this.$http.post(`${API}/Calendario/CalendarReportActivities/${this.referenceNumber.split('-')[0]}/${this.calendarioId}`, arrayJob)\r\n                .then(() => {                                   \r\n                })                                    \r\n            } \r\n        },\r\n        actualizar_actividad(item){\r\n            if(!this.reporteNuevo){                \r\n                let arrayJob = []\r\n                arrayJob.push({\r\n                    referenceNumber: this.referenceNumber,\r\n                    componentJob: parseInt(item.idJob),\r\n                    jobStatus: parseInt(item.jobStatus),\r\n                    flagUpdate: this.reporteNuevo \r\n                }) \r\n                this.$http.post(`${API}/Calendario/CalendarReportActivities/${this.referenceNumber.split('-')[0]}/${this.calendarioId}`, arrayJob)\r\n                .then(() => {                                   \r\n                })                                     \r\n            }            \r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaActividadesCarril.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablaActividadesCarril.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TablaActividadesCarril.vue?vue&type=template&id=592030bf&\"\nimport script from \"./TablaActividadesCarril.vue?vue&type=script&lang=js&\"\nexport * from \"./TablaActividadesCarril.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"border h-79 -mb-56 relative\">\r\n        <!--/////////////////////////////////////////////////////////////////\r\n        ////                HEADER REPORTE NIVEL CARRIL                   ////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <HeaderPreventivo \r\n            :header=\"header\" \r\n            :referenceNumber=\"referenceNumber\" \r\n            @guarar-log-fecha=\"guardar_log_fecha\"\r\n            @guardar-adminId-nuevo=\"modificar_adminid\"\r\n            \r\n            ></HeaderPreventivo>\r\n        <!--/////////////////////////////////////////////////////////////////\r\n        ////                         MODAL LOADER                        ////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n<!--         <div class=\"sticky inset-0\">\r\n            <div v-if=\"modalLoading\" class=\"rounded-lg border w-68 justify-center absolute  inset-x-0 bg-none mx-auto border-none px-12 py-10\">          \r\n                <div class=\"justify-center text-center block\">            \r\n                    <img src=\"@/assets/img/load.gif\"  class=\"h-56 w-56\" />\r\n                </div>\r\n            </div>\r\n        </div> -->\r\n        <Spinner :modalLoading=\"modalLoading\"/>\r\n        <!--/////////////////////////////////////////////////////////////////\r\n        ////                    TABLA DE ACTIVIDADES JOB                   ////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <TablaActividadesCarril :listaActividades=\"listaActividades\" :calendarioId=\"header.calendarId\" :referenceNumber=\"referenceNumber\"></TablaActividadesCarril>\r\n        <!--/////////////////////////////////////////////////////////////////\r\n        ////          TEXT AREA PARA OBSERVACIONES                         ////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        \r\n        <div class=\"inline-flex mx-auto w-full pl-20 pr-20 sm:grid grid-cols-1 font-titulo mt-6 -mb-32\">\r\n            <div class=\"w-1/2 sm:w-full sm:-ml-10 \">                \r\n                <p class=\"text-center text-xl text-gray-800 mb-6 sm:text-xs sm:-ml-48 sm:-mt-6\">Observaciones</p> \r\n                \r\n                <div class=\"absolute ml-57 -mt-8 sm:hidden md:hidden lg:-mt-8 lg:ml-49 w-6 hidden\">\r\n                    <span class=\"\" v-tooltip.top =\" { ref:'tooltipobservacion', class: 'tooltip-custom tooltip-other-custom'}\">\r\n                        <!-- <img src=\"@/assets/img/pregunta.png\" class=\"flex items-center -mt-4 w-5 h-5 \"/> -->\r\n                        <font-awesome-icon icon=\"fa-solid fa-circle-info\" class=\"text-blue-600 w-5 h-5 flex items-center\"/>\r\n                    </span>\r\n\r\n                    <div ref=\"tooltipobservacion\" class=\"font-titulo\">\r\n                            <p class=\"text-center text-gray-800\">Se debe indicar las acciones </p>\r\n                    </div>\r\n                </div> \r\n\r\n                <textarea\r\n                    id=\"obs\"\r\n                    v-model=\"observaciones\"\r\n                    class=\"block container mx-auto py-4 mb-0 h-40 is_valid placeholder-gray-500 sm:text-sm ph-center-observaciones sm:h-24 sm:w-66 sm:-ml-6 sm:-mt-3\"\r\n                    placeholder=\"Observaciones del Mantenimiento Preventivo\"\r\n                    name=\"Observaciones\"\r\n                    v-bind:maxlength=\"limite\"                    \r\n                />\r\n                <span class=\"text-xs text-gray-500 sm:ml-24\">{{ restante }}/300</span>\r\n            </div>\r\n        <!--/////////////////////////////////////////////////////////////////\r\n        ////            COMPONENTE IMAGENES REPORTE CARRIL               ////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n            <div class=\"w-1/2 ml-20 sm:w-full sm:-ml-16 sm:-mt-1 mt-3 \">\r\n                <ImagenesActividadCarril :reporteDataInsertada=\"reporteInsertado\" :referenceNumber=\"referenceNumber\" @ocutar-modal-loading=\"ocultar_modal_loading\"></ImagenesActividadCarril>\r\n            </div>\r\n        <!--/////////////////////////////////////////////////////////////////\r\n        ////                         BOTON CREAR REPORTE                 ////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n            <div class=\"w-1/2 justify-end flex sm:grid grid-cols-1 sm:w-full sm:-mb-48\">\r\n            <!-- reportInsert equivalente a usar route.params.tipoVista == 'crear o editar' -->\r\n                <div v-if=\"reporteInsert\">\r\n                    <div v-if=\"!reporteInsertado\">\r\n                        <button :disabled=\"modalLoading\" @click=\"crear_header_reporte(true)\" class=\"mt-32 sm:mt-8 botonCrearReporte h-16 w-44\" :class=\"{'botonDeshabilitado': modalLoading}\" :disable=\" modalLoading \">\r\n                            <!-- <img src=\"../../assets/img/add.png\" class=\"mr-2\" width=\"35\" height=\"35\" /> -->\r\n                            <font-awesome-icon icon=\"fa-solid fa-floppy-disk\" class=\"mr-2 text-green-800 h-8\"/>\r\n                            <span>Crear Reporte Actividades</span>                    \r\n                        </button>\r\n                    </div>\r\n                    <div v-else>\r\n                        <button :disabled=\"modalLoading\" @click=\"crear_header_reporte(false)\" class=\"mt-32 sm:mt-8 botonCrearFoto h-16 w-44\" :class=\"{'botonDeshabilitado': modalLoading}\" :disable=\" modalLoading \">\r\n                            <font-awesome-icon icon=\"fa-solid fa-camera\" class=\"mr-2 text-blue-800 h-8\"/>\r\n                            <span>Crear Reporte Fotografico</span>                    \r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div v-else>\r\n                    <button :disabled=\"modalLoading\" @click=\"crear_header_reporte\" class=\"mt-32 sm:mt-8 botonIconActualizar font-black h-16 w-44\" :class=\"{'botonDeshabilitado': modalLoading}\" :disable=\" modalLoading \">\r\n                        <!-- <img src=\"../../assets/img/documento.png\" class=\"mr-2\" width=\"35\" height=\"35\" /> -->\r\n                        <font-awesome-icon icon=\"fa-solid fa-file-pen\" class=\"mr-2 text-yellow-600 h-8\"/>\r\n                        <span>Actualizar Reportes</span>                    \r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport HeaderPreventivo from '../../components/Header/CrearHeaderPreventivo'\r\nimport TablaActividadesCarril from '../../components/Actividades/TablaActividadesCarril'\r\nimport ImagenesActividadCarril from '../../components/ImagenesGenericas'\r\nimport ServiceReporte from '../../services/ReportesPDFService'\r\nimport EventBus from \"../../services/EventBus.js\";\r\nimport Spinner from '../../components/Sppiner.vue'\r\nimport moment from \"moment\";\r\nconst API = process.env.VUE_APP_URL_API_PRODUCCION\r\nexport default {\r\n    components:{\r\n        HeaderPreventivo,\r\n        TablaActividadesCarril,\r\n        ImagenesActividadCarril,\r\n        Spinner\r\n    },\r\n    data(){\r\n        return{\r\n            referenceNumber: '',\r\n            header: {},\r\n            listaActividades: [],\r\n            observaciones: '',\r\n            horaFin: '',\r\n            horaInicio: '',\r\n            limite: 300,\r\n            objetoLogDate: {},\r\n            reporteInsert: true,\r\n            modalLoading: false,\r\n            letras: 0,\r\n            reporteInsertado: false,\r\n            adminIdCalendarModify: ''\r\n        }\r\n    },\r\n/////////////////////////////////////////////////////////////////////\r\n////                       CICLOS DE VIDA                        ////\r\n/////////////////////////////////////////////////////////////////////\r\n    created() {        \r\n        EventBus.$on(\"actualizar_hora_inicio\", (newHora) => {                                          \r\n            this.horaInicio = newHora\r\n        });\r\n        EventBus.$on(\"actualizar_hora_fin\", (newHora) => {                                          \r\n            this.horaFin = newHora           \r\n        });\r\n    },\r\n    beforeMount: async function(){                \r\n        if(!this.$route.query.edicion == true){                      \r\n            this.reporteInsert = true          \r\n            this.header = this.$route.query.header \r\n            let refPlaza = await this.$store.getters['Login/GET_REFERENCIA_PLAZA_TO_NOMBRE'](this.$route.query.header.plazaNombre)        \r\n            this.referenceNumber = await ServiceReporte.crear_referencia_calendario(\r\n                refPlaza.refereciaPlaza,\r\n                this.header.frequencyName,\r\n                this.header.day,\r\n                this.header.lane\r\n            )                \r\n            this.listaActividades = await this.$store.getters['Actividades/GET_ACTIVIDADES_CARRIL']\r\n            if(this.listaActividades.length == 0){\r\n                this.$notify.warning({\r\n                    title: \"Ups!\",\r\n                    msg: `NO TIENE ACTIVIDADES.`,\r\n                    position: \"bottom right\",\r\n                    styles: {\r\n                        height: 100,\r\n                        width: 500,\r\n                    },\r\n                });\r\n                setTimeout(() => {\r\n                    this.$router.push({ path:'/ReportesMantenimiento/TablaActividades' })\r\n                }, 300);  \r\n            }                                 \r\n        }\r\n        else{                      \r\n            this.reporteInsert = false                           \r\n            let headerCompuesto = this.$route.query.headerCompuesto                              \r\n            this.header = {\r\n                calendarId: headerCompuesto.calendarId,\r\n                capufeLaneNum: headerCompuesto.capufeLaneNum,\r\n                dateStamp: headerCompuesto.dateStamp,\r\n                day: moment(headerCompuesto.fecha).format('DD/MM/YYYY'),\r\n                frequencyId: headerCompuesto.frequencyId,\r\n                frequencyName: headerCompuesto.frequencyName,\r\n                idGare: headerCompuesto.idGare,\r\n                lane: headerCompuesto.lane,\r\n                plazaNombre: headerCompuesto.plazaCobro,\r\n                statusMaintenance: headerCompuesto.statusMaintenance,\r\n                adminId: headerCompuesto.adminId,\r\n                squareId: headerCompuesto.squareId\r\n            }            \r\n            this.observaciones = headerCompuesto.comentarios\r\n            this.horaInicio = headerCompuesto.horaInicio\r\n            this.horaFin = headerCompuesto.horaFin\r\n            let tablaActividades = this.$route.query.actividades\r\n            let array_actividades = []\r\n            tablaActividades.forEach(item => {\r\n                array_actividades.push({\r\n                    actividades:item.jobDescription,\r\n                    componente: item.componentDescription,\r\n                    equipo: item.activityDescription,\r\n                    frecuencia: headerCompuesto.frequencyName,\r\n                    idJob: item.componentsJobId,\r\n                    jobStatus: item.jobStatusId,\r\n                    ubicacion: item.name\r\n                })\r\n            })\r\n            this.listaActividades = array_actividades\r\n            this.referenceNumber = headerCompuesto.referenceNumber \r\n            this.reporteInsertado = true                     \r\n        }\r\n    },\r\n    destroyed(){\r\n        EventBus.$off(['actualizar_hora_inicio', 'actualizar_hora_fin'])\r\n    },\r\n/////////////////////////////////////////////////////////////////////\r\n////                       COMPUTADOS                            ////\r\n/////////////////////////////////////////////////////////////////////\r\n    computed:{\r\n    restante(){\r\n        //return this.limite - this.motivoCambioFecha.length\r\n        let letras = this.observaciones.length\r\n        if(letras == 100){\r\n            letras == 0\r\n            document.getElementById(\"obs\").value+='\\n'; \r\n        }\r\n        return  this.observaciones.length\r\n    }\r\n},\r\n\r\n//////////////////////////////////////////////////////////////////////\r\n////                            METODOS                           ////\r\n/////////////////////////////////////////////////////////////////////\r\nmethods:{\r\n    modificar_adminid(item){\r\n        this.adminIdCalendarModify = item\r\n    },\r\n    guardar_log_fecha(item){\r\n        this.objetoLogDate = item\r\n        this.referenceNumber = item.ref\r\n    },\r\n    validar_horas(){\r\n        if(this.horaInicio != '' && this.horaFin != ''){\r\n            let horaISplite = this.horaInicio.split(':')            \r\n            let horaFSplite = this.horaFin.split(':')            \r\n            let dateInicio = new Date(1995,11,17,horaISplite[0],horaISplite[1],0);\r\n            let dateFin = new Date(1995,11,17,horaFSplite[0],horaFSplite[1],0);             \r\n            if(dateInicio < dateFin){                \r\n                return true\r\n            }\r\n            else {\r\n                window.scrollTo(0, top);\r\n                    this.$notify.warning({\r\n                    title: \"Ups!\",\r\n                    msg: `LA HORA INICIO NO PUEDE SER MAYOR QUE LA HORA FIN.`,\r\n                    position: \"bottom right\",\r\n                    styles: {\r\n                        height: 100,\r\n                        width: 500,\r\n                    },\r\n                });\r\n                return false\r\n            }\r\n        }\r\n        else{        \r\n            window.scrollTo(0, top);            \r\n            this.$notify.warning({\r\n                title: \"Ups!\",\r\n                msg: `FALTA LLENAR CAMPOS DE HORA FIN Y HORA INICIO.`,\r\n                position: \"bottom right\",\r\n                styles: {\r\n                    height: 100,\r\n                    width: 500,\r\n                },\r\n            });\r\n                return false    \r\n            }\r\n    },\r\n    ocultar_modal_loading() {       \r\n        let tipoEncabezadoLane = this.header.capufeLaneNum != '0000' ? 'carril' : undefined\r\n        let objImg = {\r\n            referenceNumber: this.referenceNumber,\r\n            frecuenciaId : this.header.frequencyId,\r\n            tipoEncabezadoLane: tipoEncabezadoLane,\r\n            lane: this.header.lane\r\n        } \r\n        setTimeout(async () => {    \r\n            this.modalLoading = false        \r\n            await ServiceReporte.generar_pdf_actividades_preventivo(objImg.referenceNumber, objImg.frecuenciaId, objImg.tipoEncabezadoLane)\r\n            await ServiceReporte.generar_pdf_fotografico_preventivo(objImg.referenceNumber, objImg.lane)\r\n            this.$router.push({path: '/ReportesMantenimiento/TablaActividades'})              \r\n        }, 2000);                      \r\n    },\r\n    async crear_header_reporte(value){                                                      \r\n        if(this.validar_horas()) {                                                               \r\n            this.modalLoading = true   \r\n            let refPlaza =  this.$store.getters['Login/GET_REFERENCIA_PLAZA_TO_NOMBRE'](this.header.plazaNombre)                        \r\n            //Datos PAra insertar HeaderREportData            \r\n            let user =  this.$store.getters['Login/GET_USEER_ID_PLAZA_ID']                    \r\n            let fechaInsercion = ''\r\n            if(JSON.stringify(this.objetoLogDate) != '{}'){\r\n                let fechaAyuda = this.objetoLogDate.fecha.split('/')            \r\n                fechaInsercion = new Date(fechaAyuda[2], fechaAyuda[1] - 1, fechaAyuda[0])\r\n            }\r\n            else{\r\n                let fechaAyuda = this.header.day.split('/')\r\n                fechaInsercion = new Date(fechaAyuda[2], fechaAyuda[1] - 1, fechaAyuda[0])\r\n            }                                       \r\n            let headerReporte = {\r\n                ReferenceNumber: this.referenceNumber,\r\n                SquareId: refPlaza.numeroPlaza,\r\n                CapufeLaneNum: this.header.capufeLaneNum,\r\n                IdGare: this.header.idGare,\r\n                UserId: user.idUser,\r\n                AdminSquare: this.adminIdCalendarModify,\r\n                ReportDate: fechaInsercion,\r\n                Start: this.horaInicio,\r\n                End: this.horaFin,\r\n                Observations: this.observaciones,   \r\n                CalendarId: parseInt(this.header.calendarId)     \r\n            }                 \r\n            let banderaInsertar = false\r\n            if(this.reporteInsert){\r\n                if(value){\r\n                    banderaInsertar = true\r\n                }\r\n                else{\r\n                    banderaInsertar = false\r\n                }\r\n            }   \r\n            else banderaInsertar = false\r\n            \r\n            this.$http.post(`${API}/Calendario/CalendarReportData/${refPlaza.refereciaPlaza}/${banderaInsertar}`, headerReporte)\r\n            .then(() => {                                                                                                                           \r\n                    if(this.objetoLogDate.fecha != ''){                                                          \r\n                        let refPlaza = this.referenceNumber.split('-')[0]\r\n                        let user = this.$store.getters['Login/GET_USEER_ID_PLAZA_ID']\r\n                        let dateLog = {\r\n                            calendarId: parseInt(this.header.calendarId)     ,\r\n                            date: this.objetoLogDate.fecha,\r\n                            userId: user.idUser,\r\n                            referenceNumber: this.referenceNumber,\r\n                            comment: this.objetoLogDate.motivo,\r\n                        }\r\n                        this.$http.post(`${API}/Calendario/CalendarDateLog/${refPlaza}`, dateLog)\r\n                            .then(() => {                                                                                                                                   \r\n                            })\r\n                    }                                                                                              \r\n                    if(this.reporteInsert){                          \r\n                        if(value) {\r\n                            EventBus.$emit('insertar-todas-actividades')\r\n                            this.modalLoading = false\r\n                            this.reporteInsertado = true    \r\n                        }                        \r\n                        else {\r\n                            this.ocultar_modal_loading()\r\n                        }                                                \r\n                        this.$notify.success({\r\n                            title: \"Ok!\",\r\n                            msg: `SE GENERARON LOS REPORTES CORRECTAMENTE.`,\r\n                            position: \"bottom right\",\r\n                            styles: {\r\n                                height: 100,\r\n                                width: 500,\r\n                            },\r\n                        });                        \r\n                    }\r\n                    else{                                                \r\n                        this.$notify.success({\r\n                            title: \"Ok!\",\r\n                            msg: `SE ACTUALIZARON LAS ACTIVIDADES.`,\r\n                            position: \"bottom right\",\r\n                            styles: {\r\n                                height: 100,\r\n                                width: 500,\r\n                            },\r\n                        });\r\n                        this.ocultar_modal_loading()\r\n                    }                                                                                                                       \r\n            })                                                                                                                                                                                               \r\n        }                   \r\n    }    \r\n}\r\n\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormularioReporte.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormularioReporte.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormularioReporte.vue?vue&type=template&id=b63e295e&\"\nimport script from \"./FormularioReporte.vue?vue&type=script&lang=js&\"\nexport * from \"./FormularioReporte.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarraProgreso.vue?vue&type=style&index=0&id=55df656c&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mr-10 -mt-3 sm:mr-0 sm:ml-4 sm:mt-0 w-full font-titulo\",class:{'sm:ml-1 sm:mt-18': _vm.tipo =='Diagnostico', 'sm:-ml-1': _vm.tipo =='Ficha'}},[_c('p',{staticClass:\"text-gray-800 font-titulo mt-2 mb-1 sm:text-sm sm:mb-4\",class:{'sm:ml-1 sm:mt-2 -mb-1 mt-4 ml-12 w-20': _vm.tipo =='Diagnostico', 'ml-5 mb-2 mt-6 lg:ml-73 sm:-ml-48 sm:-mb-1' : _vm.tipo == 'Ficha', 'sm:-mt-16' :_vm.$route.params.tipoVista == 'Editar'}},[_vm._v(\"IMAGENES\")]),(_vm.reporteDataInsertada)?_c('div',{staticClass:\"sm:-ml-4\",class:{'w-75 ml-4 mr-4 mt-4 sm:w-auto border border-white -mb-4 sm:-mt-18' : _vm.tipo == 'Diagnostico', \n        'w-75 ml-1 sm:ml-10 sm:w-66 sm:-mb-10' : _vm.tipo == 'Ficha', 'w-1/3 ml-5 sm:ml-1 sm:w-66 sm:mb-10 lg:ml-73' :_vm.$route.params.tipoVista == 'Editar' }},[(!_vm.cargandoImagen)?_c('div',{staticClass:\"inline-flex h-40 border border-gray-400 rounded-lg w-full sm:w-66\",class:{'sm:w-66 mt-0 sm:mt-1 sm:-ml-1': _vm.tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-4': _vm.tipo =='Ficha'}},[_c('div',{staticClass:\"w-2/3 grid grid-cols-2 p-2 gap-4 overflow-auto\",class:{'grid-cols-2': _vm.tipo == 'Actividades', 'grid-cols-1': _vm.tipo == 'Diagnostico', 'grid-cols-1': _vm.tipo == 'Ficha' }},_vm._l((_vm.arrayImagenes),function(item){return _c('div',{key:item.name,staticClass:\"relative border\"},[_c('span',{staticClass:\"absolute border rounded-full top-0 right-0\",on:{\"click\":function($event){return _vm.eliminar_imagen(item.name)}}},[_c('img',{staticClass:\"w-4 cursor-pointer\",attrs:{\"src\":require(\"../assets/img/close.png\")}})]),_c('div',{staticClass:\"p-2 mx-aut\"},[(item.imgbase.length < 200)?_c('lazy-image',{attrs:{\"src\":`${item.imgbase}`,\"img-class\":['w-32', 'h-32'],\"placeholder\":\"../assets/img/load.gif\"}}):_c('lazy-image',{attrs:{\"src\":`data:image/jpeg;base64,${item.imgbase}`,\"img-class\":['w-32', 'h-32'],\"placeholder\":\"../assets/img/load.gif\"}})],1)])}),0),_c('div',{staticClass:\"w-1/3 border-2 relative border-gray-600 inline-block border-dashed text-center rounded-lg\",class:{'' : _vm.tipo == 'Diagnostico'}},[_c('div',{staticClass:\"sm:-mt-4\"},[_c('input',{staticClass:\"h-40 w-full inset-0 absolute opacity-0 cursor-pointer\",class:{'cursor-not-allowed': _vm.anularcarga},attrs:{\"disabled\":_vm.anularcarga,\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.recibir_imagenes}}),_c('font-awesome-icon',{staticClass:\"p-5 w-auto text-center flex h-32 xl:ml-8 xl:-mt-6 xl:-mb-6 sm:w-10 sm:h-10 sm:p-1 sm:mt-16 text-blue-800\",class:{'sm:h-16 sm:w-16': _vm.tipo =='Diagnostico' || _vm.tipo == 'Ficha'},attrs:{\"icon\":\"fa-solid fa-plus\"}}),_c('span',{staticClass:\"text-sm text-gray-500 sm:hidden\"},[_vm._v(\"Agregar imagenes\")])],1)])]):_c('div',{staticClass:\"text-center font-serif text-xs h-40 border border-gray-400 rounded-lg w-full sm:w-66\",class:{'sm:w-auto mt-0 sm:mt-2 sm:ml-1 sm:mr-1': _vm.tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-3': _vm.tipo =='Ficha'}},[_c('div',{staticClass:\"mt-5\"},[_c('div',{staticClass:\"p-10\"},[_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Cargando imagen\")]),_c('BarraProgreso',{attrs:{\"color\":'blue',\"percentage\":_vm.progress}})],1)])]),_c('span',{staticClass:\"text-gray-500 text-sm border border-white sm:-mt-6 sm:ml-0 sm:w-32\"},[_vm._v(_vm._s(_vm.num)+\"/\"+_vm._s(_vm.limiteFotos)+\" (Máximo \"+_vm._s(_vm.limiteFotos)+\" fotografías)\")])]):_c('div',{class:{'w-1/3 ml-5 lg:ml-73' : _vm.tipo == 'Diagnostico', 'w-1/3 ml-5 sm:ml-48 lg:ml-73' :_vm.tipo == 'Ficha'}},[_c('button',{staticClass:\"inline-flex h-40 border border-gray-400 bg-gray-300 rounded-lg w-full sm:w-66\",class:{'bg-gray-400' : _vm.reporteDataInsertada}},[_c('div',{staticClass:\"w-2/3 grid p-2 gap-4 overflow-auto bg-gray-300\"}),_c('div',{staticClass:\"w-1/3 border-2 relative border-gray-600 bg-gray-300 inline-block border-dashed text-center rounded-lg sm:h-40\"},[_c('button',{staticClass:\"bg-gray-300\",class:{'' : _vm.tipo == 'Diagnostico'},attrs:{\"disabled\":_vm.reporteDataInsertada}},[_c('img',{staticClass:\"p-5 w-auto mx-auto h-31 sm:w-10 sm:h-10 sm:p-1 sm:mt-16\",class:{'sm:h-10 sm:mb-16' : _vm.tipo == 'Diagnostico'},attrs:{\"src\":require(\"../assets/img/more.png\")}}),_c('span',{staticClass:\"text-sm text-gray-500 mb-0 sm:hidden\"},[_vm._v(\"Agregar imagenes\")])])])]),(_vm.tipo == 'Diagnostico')?_c('p',{staticClass:\"-mt-1 text-1xl sm:text-sm text-red-700\",class:{'text-center mb-4' :_vm.tipo == 'Diag'}},[_vm._v(\"Primero debe enviar la información del Reporte\")]):_c('p',{staticClass:\"mt-1 text-sm text-center text-red-700\"},[_vm._v(\"Para agregar imagenes primero debe crear el reporte\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full bg-gray-200 h-2 relative overflow-hidden\",class:[{'rounded-full': _vm.rounded}, { indeterminate: _vm.indeterminate}]},[_c('div',{staticClass:\"h-full progressbar\",class:[`bg-${_vm.color}-500`, {'absolute top-0': _vm.indeterminate}, {'rounded-full': _vm.rounded}],style:({width: `${_vm.percentage}%`}),attrs:{\"role\":\"progressbar\",\"aria-valuenow\":_vm.percentage,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}},[_c('span',{staticClass:\"flex items-center h-full\"},[_vm._t(\"default\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"w-full bg-gray-200 h-2 relative overflow-hidden\"\r\n    :class=\"[{'rounded-full': rounded}, { indeterminate: indeterminate}]\"\r\n  >\r\n    <div\r\n      class=\"h-full progressbar\"\r\n      :class=\"[`bg-${color}-500`, {'absolute top-0': indeterminate}, {'rounded-full': rounded}]\"\r\n      role=\"progressbar\"\r\n      :style=\"{width: `${percentage}%`}\"\r\n      :aria-valuenow=\"percentage\"\r\n      aria-valuemin=\"0\"\r\n      aria-valuemax=\"100\"\r\n    >\r\n      <span class=\"flex items-center h-full\">\r\n        <slot></slot>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  inheritAttrs: false,\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      default: \"teal\"\r\n    },\r\n    percentage: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    rounded: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    indeterminate: Boolean\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n@keyframes progress-indeterminate {\r\n  0% {\r\n    width: 30%;\r\n    left: -40%;\r\n  }\r\n  60% {\r\n    left: 100%;\r\n    width: 100%;\r\n  }\r\n  to {\r\n    left: 100%;\r\n    width: 0;\r\n  }\r\n}\r\n.progressbar {\r\n  transition: width 0.25s ease;\r\n}\r\n.indeterminate .progressbar {\r\n  animation: progress-indeterminate 1.4s ease infinite;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarraProgreso.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarraProgreso.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarraProgreso.vue?vue&type=template&id=55df656c&scoped=true&\"\nimport script from \"./BarraProgreso.vue?vue&type=script&lang=js&\"\nexport * from \"./BarraProgreso.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BarraProgreso.vue?vue&type=style&index=0&id=55df656c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55df656c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"mr-10 -mt-3 sm:mr-0 sm:ml-4 sm:mt-0 w-full font-titulo\" :class=\"{'sm:ml-1 sm:mt-18': tipo =='Diagnostico', 'sm:-ml-1': tipo =='Ficha'}\">        \r\n        <p class=\"text-gray-800 font-titulo mt-2 mb-1 sm:text-sm sm:mb-4\"\r\n        :class=\"{'sm:ml-1 sm:mt-2 -mb-1 mt-4 ml-12 w-20': tipo =='Diagnostico', 'ml-5 mb-2 mt-6 lg:ml-73 sm:-ml-48 sm:-mb-1' : tipo == 'Ficha', 'sm:-mt-16' :$route.params.tipoVista == 'Editar'}\">IMAGENES</p>\r\n        <div v-if=\"reporteDataInsertada\" class=\"sm:-ml-4\" :class=\"{'w-75 ml-4 mr-4 mt-4 sm:w-auto border border-white -mb-4 sm:-mt-18' : tipo == 'Diagnostico', \r\n            'w-75 ml-1 sm:ml-10 sm:w-66 sm:-mb-10' : tipo == 'Ficha', 'w-1/3 ml-5 sm:ml-1 sm:w-66 sm:mb-10 lg:ml-73' :$route.params.tipoVista == 'Editar' }\">\r\n            <div class=\"inline-flex h-40 border border-gray-400 rounded-lg w-full sm:w-66\" :class=\"{'sm:w-66 mt-0 sm:mt-1 sm:-ml-1': tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-4': tipo =='Ficha'}\" v-if=\"!cargandoImagen\">\r\n                <div class=\"w-2/3 grid grid-cols-2 p-2 gap-4 overflow-auto\" :class=\"{'grid-cols-2': tipo == 'Actividades', 'grid-cols-1': tipo == 'Diagnostico', 'grid-cols-1': tipo == 'Ficha' }\">                                                                                                                \r\n                    <div class=\"relative border \" v-for=\"(item) in arrayImagenes\" :key=\"item.name\">\r\n                        <span @click=\"eliminar_imagen(item.name)\" class=\"absolute border rounded-full top-0 right-0\">\r\n                            <img  src=\"../assets/img/close.png\" class=\"w-4 cursor-pointer \" />\r\n                        </span>   \r\n                        <div class=\"p-2 mx-aut\">      \r\n                            <lazy-image v-if=\"item.imgbase.length < 200\" :src=\"`${item.imgbase}`\" :img-class=\"['w-32', 'h-32']\" placeholder=\"../assets/img/load.gif\"/>     \r\n                            <lazy-image v-else :src=\"`data:image/jpeg;base64,${item.imgbase}`\" :img-class=\"['w-32', 'h-32']\" placeholder=\"../assets/img/load.gif\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/3 border-2 relative border-gray-600 inline-block border-dashed text-center rounded-lg\"\r\n                    :class=\"{'' : tipo == 'Diagnostico'}\">\r\n                    <div class=\"sm:-mt-4\">\r\n                        <input @change=\"recibir_imagenes\" :disabled=\"anularcarga\" type=\"file\" multiple class=\"h-40 w-full inset-0 absolute opacity-0 cursor-pointer\" :class=\"{'cursor-not-allowed': anularcarga}\">\r\n                        <!-- <img src=\"../assets/img/more.png\" class=\"p-5 w-auto mx-auto h-32 sm:w-10 sm:h-10 sm:p-1 sm:mt-16\" :class=\"{'sm:h-16 sm:w-16': tipo =='Diagnostico' || tipo == 'Ficha'}\" alt/> -->\r\n                        <font-awesome-icon icon=\"fa-solid fa-plus\" class=\"p-5 w-auto text-center flex h-32 xl:ml-8 xl:-mt-6 xl:-mb-6 sm:w-10 sm:h-10 sm:p-1 sm:mt-16 text-blue-800\" :class=\"{'sm:h-16 sm:w-16': tipo =='Diagnostico' || tipo == 'Ficha'}\"/>\r\n                        <span class=\"text-sm text-gray-500 sm:hidden\">Agregar imagenes</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\" text-center font-serif text-xs h-40 border border-gray-400 rounded-lg w-full sm:w-66\" :class=\"{'sm:w-auto mt-0 sm:mt-2 sm:ml-1 sm:mr-1': tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-3': tipo =='Ficha'}\" v-else>\r\n                <div class=\"mt-5\">                \r\n                    <div class=\"p-10\">\r\n                        <p class=\"mb-2\">Cargando imagen</p>\r\n                        <BarraProgreso :color=\"'blue'\" :percentage=\"progress\" ></BarraProgreso>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <span class=\"text-gray-500 text-sm border border-white sm:-mt-6 sm:ml-0 sm:w-32\">{{ num }}/{{ limiteFotos }} (Máximo {{ limiteFotos }} fotografías)</span>     \r\n        </div> \r\n        <div v-else :class=\"{'w-1/3 ml-5 lg:ml-73' : tipo == 'Diagnostico', 'w-1/3 ml-5 sm:ml-48 lg:ml-73' :tipo == 'Ficha'}\">\r\n            <button class=\"inline-flex h-40 border border-gray-400 bg-gray-300 rounded-lg w-full sm:w-66\" :class=\"{'bg-gray-400' : reporteDataInsertada}\">\r\n                <div class=\"w-2/3 grid p-2 gap-4 overflow-auto bg-gray-300\"></div>\r\n                <div class=\"w-1/3 border-2 relative border-gray-600 bg-gray-300 inline-block border-dashed text-center rounded-lg sm:h-40\">\r\n                    <button class=\"bg-gray-300\" :disabled=\"reporteDataInsertada\" :class=\"{'' : tipo == 'Diagnostico'}\">\r\n                        <img src=\"../assets/img/more.png\" class=\"p-5 w-auto mx-auto h-31 sm:w-10 sm:h-10 sm:p-1 sm:mt-16\" :class=\"{'sm:h-10 sm:mb-16' : tipo == 'Diagnostico'}\"/>\r\n                        <span class=\"text-sm text-gray-500 mb-0 sm:hidden\">Agregar imagenes</span>\r\n                    </button>\r\n                </div>\r\n            </button>\r\n            <p class=\"-mt-1 text-1xl sm:text-sm  text-red-700\" v-if=\"tipo == 'Diagnostico'\" :class=\"{'text-center mb-4' :tipo == 'Diag'}\">Primero debe enviar la información del Reporte</p>\r\n            <p class=\"mt-1 text-sm text-center text-red-700\" v-else>Para agregar imagenes primero debe crear el reporte</p>\r\n        </div>       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ServiceImagenes from '../services/ImagenesService'\r\nimport BarraProgreso from '../components/BarraProgreso'\r\nconst API = process.env.VUE_APP_URL_API_PRODUCCION\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n    props:{\r\n        referenceNumber: {\r\n            type: String,\r\n            default: () => ''\r\n        },\r\n        tipo: {\r\n            type: String,\r\n            default: () => 'Actividades'\r\n        },\r\n        reporteDataInsertada: {\r\n            type: Boolean,\r\n            default: () => false\r\n        },\r\n        maximofotosanexo:{\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        referenciaAnexo:{\r\n            type: String,\r\n            default: () => ''\r\n        },\r\n        subversionAnexo:{\r\n            type: Boolean,\r\n            default: () => false\r\n        },\r\n        editar:{\r\n            type: Boolean,\r\n            default: () => false\r\n        },\r\n    },\r\n    components: {\r\n        BarraProgreso\r\n    },\r\n    data(){\r\n        return{\r\n            arrayImagenes: [],\r\n            cargandoImagen: false,\r\n            progress: 20,\r\n            //Imagene Timer\r\n            seconds: 6,\r\n            countdown: 5,\r\n            expires_in: null,\r\n            interval: null,\r\n            limiteFotos: 0,\r\n            rand: 1,\r\n            anularcarga:false\r\n        }\r\n    },\r\n    destroyed(){\r\n        this.arrayImagenes = []           \r\n        clearInterval(this.interval);            \r\n    },\r\n    beforeMount() { \r\n        if(this.tipo == 'Anexo'){\r\n            setTimeout(()=>{\r\n            let urlImgPaths = ''\r\n            this.limiteFotos = this.maximofotosanexo\r\n            let nombreimg = [];               \r\n            urlImgPaths = `${API}/ReporteFotografico/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n            console.log(urlImgPaths)\r\n            this.$http.get(urlImgPaths).then((response) => \r\n                {\r\n                    console.log(response.data);\r\n                    response.data.forEach(element => { \r\n                        nombreimg.push(element)\r\n                        let urlImgDescarga = `${API}/ReporteFotografico/EquipoNuevo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        if(response.status != 404){                         \r\n                                    let newArrayImg = []                      \r\n                                    nombreimg.forEach(item => {\r\n                                        newArrayImg.push({\r\n                                            \"name\": item, \r\n                                            \"imgbase\": `${urlImgDescarga}/${item}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n                                        })\r\n                                    })\r\n                            this.arrayImagenes = newArrayImg\r\n                            if(this.arrayImagenes.length == this.limiteFotos){\r\n                                console.log(this.arrayImagenes.length)\r\n                                console.log(this.limiteFotos)\r\n                                this.anularcarga = true\r\n                            }else{\r\n                                this.anularcarga = false\r\n                            } \r\n                        } \r\n                             \r\n                   });\r\n                   \r\n/*                    response.data.forEach(element => { \r\n                       nombreimg.push(element)\r\n                   });\r\n                    console.log(response);\r\n                    console.log(nombreimg);\r\n                    nombreimg.forEach(element => {\r\n                    this.$http.get(urlImgPaths)\r\n                        .then((response)=>{\r\n                            let urlImgDescarga = `${API}/ReporteFotografico/EquipoNuevo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${element}/${this.referenciaAnexo}`\r\n                            if(response.status != 404){                          \r\n                                    let newArrayImg = []                      \r\n                                    response.data.forEach(item => {\r\n                                        newArrayImg.push({\r\n                                            \"name\": item, \r\n                                            \"imgbase\": `${urlImgDescarga}`\r\n                                        })\r\n                                    })\r\n                                    this.arrayImagenes = newArrayImg                                       \r\n                                }    \r\n                        }) \r\n                    }); */\r\n                    // if (response.data.length == 0)\r\n                    //    this.$emit('bloquear-boton-diagnostico', true)  \r\n                });\r\n            },2000)\r\n        }       \r\n        else{\r\n            setTimeout(() => {               \r\n            let urlImgPaths = ''                                \r\n            if(this.tipo == 'Actividades'){\r\n                this.limiteFotos = 36\r\n                urlImgPaths = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n            }\r\n            else if(this.tipo == 'Diagnostico'){\r\n                this.limiteFotos = 4                \r\n                urlImgPaths = `${API}/DiagnosticoFalla/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n            }\r\n            else if(this.tipo == 'Anexo'){\r\n                this.limiteFotos = this.maximofotosanexo                \r\n                urlImgPaths = `${API}/ReporteFotografico/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n            }\r\n            else{\r\n                this.limiteFotos = 4                                \r\n                urlImgPaths = `${API}/FichaTecnicaAtencion/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n            }            \r\n            this.$http.get(urlImgPaths)\r\n                .then((response) => {                                              \r\n                    let urlImgDescarga = ''\r\n                    if(this.tipo == 'Actividades')\r\n                        urlImgDescarga = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                    else if(this.tipo == 'Diagnostico'){\r\n                        urlImgDescarga = `${API}/DiagnosticoFalla/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                    }\r\n                    else{\r\n                        urlImgDescarga = `${API}/FichaTecnicaAtencion/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`   \r\n                    }\r\n                    if(response.status != 404){                          \r\n                        let newArrayImg = []                      \r\n                        response.data.forEach(item => {\r\n                            newArrayImg.push({\r\n                                \"name\": item, \r\n                                \"imgbase\": `${urlImgDescarga}/${item}`\r\n                            })\r\n                        })\r\n                        this.arrayImagenes = newArrayImg                                       \r\n                    }    \r\n                })                \r\n            }, 500)\r\n        }         \r\n    },\r\n    computed:{\r\n        num (){\r\n            return this.arrayImagenes.length\r\n        }\r\n    },\r\n    methods: {\r\n        recibir_imagenes: async function (e){  \r\n            this.$emit('bloquear-boton-diagnostico', true)                    \r\n            await this.enviar_imagenes(e)\r\n            if(this.arrayImagenes.length == this.limiteFotos){\r\n                console.log(this.arrayImagenes.length)\r\n                console.log(this.limiteFotos)\r\n                this.anularcarga = true\r\n            }else{\r\n                this.anularcarga = false\r\n            } \r\n            this.cargandoImagen = true            \r\n            this.countdown = moment.utc(this.seconds).format('HH:mm:ss');\r\n            this.expires_in = this.seconds;\r\n            this._setInterval()                               \r\n        },\r\n        _setInterval: function() {\r\n            this.interval = setInterval(() => {\r\n                if(this.expires_in === 1){\r\n                    this.progress = 20\r\n                    this.cargandoImagen = false\r\n                    this.$emit('bloquear-boton-diagnostico', false)\r\n                }\r\n                else if (this.expires_in === 0) {                    \r\n                    clearInterval(this.interval);\r\n                } else {\r\n                    this.expires_in -= 1;\r\n                    this.progress += 15\r\n                    this.countdown = moment.utc(this.expires_in * 1000).subtract(1, 'seconds').format('HH:mm:ss');\r\n                }\r\n            }, 1000);\r\n        },\r\n        enviar_imagenes: async function(value){                                                 \r\n            let boolValidacion = this.arrayImagenes.some(item => item.name.split('-')[0] != this.referenceNumber) \r\n            let objGetImagen = ''\r\n            if(boolValidacion ==     true || this.arrayImagenes.length == 0){                                                 \r\n                let rutaInsertImagenes = {};\r\n                if(this.tipo == 'Actividades'){\r\n                    rutaInsertImagenes = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                    objGetImagen = { rutaGetImagen: `${API}/ReporteFotografico/MantenimientoPreventivo/Images`, tipo: 1 }                    \r\n                }\r\n                else if (this.tipo == 'ConcentradoDTC'){\r\n                        this.limiteFotos = 100\r\n                        rutaInsertImagenes = `${API}/dtcData/EquipoDañado/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/dtcData/EquipoDañado/Images`, tipo: 4}                        \r\n                }\r\n                else if (this.tipo == 'Anexo'){\r\n                        if(this.editar == true){    \r\n                            this.subversionAnexo = true\r\n                        }\r\n                        this.limiteFotos = this.maximofotosanexo\r\n                        rutaInsertImagenes = `${API}/ReporteFotografico/EquipoNuevo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/ReporteFotografico/EquipoNuevo/Images`, tipo: 5}\r\n                }\r\n                else{                    \r\n                    if(this.tipo == 'Diagnostico'){                        \r\n                        rutaInsertImagenes = `${API}/DiagnosticoFalla/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/DiagnosticoFalla/Images`, tipo: 2 }\r\n                    }\r\n                    else{\r\n                        rutaInsertImagenes = `${API}/FichaTecnicaAtencion/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/FichaTecnicaAtencion/Images`, tipo: 3 }\r\n                    }\r\n                }                                 \r\n                for(let imagenes of value.target.files){                      \r\n                    if(this.arrayImagenes.length + 1 <= this.limiteFotos){                                                          \r\n                        let formData = new FormData();\r\n                        if(this.tipo != 'ConcentradoDTC')\r\n                            formData.append(\"image\", imagenes);\r\n                        else{\r\n                            let objPlaza = this.$store.state.Login.cookiesUser.plazasUsuario.find(plaza => plaza.refereciaPlaza = this.referenceNumber.split('-')[0])                            \r\n                            formData.append(\"id\", this.referenceNumber);\r\n                            formData.append(\"plaza\", objPlaza.plazaNombre);\r\n                            formData.append(\"image\",imagenes);  \r\n                        }\r\n                        if(imagenes.type == 'image/png' || imagenes.type == 'image/jpeg'){                        \r\n                            await this.$http.post(rutaInsertImagenes, formData)\r\n                                .then((response) => {                                                                                                   \r\n                                    this.arrayImagenes = ServiceImagenes.obtener_array_imagenes_agregadas(response.data, this.arrayImagenes, objGetImagen,this.subversionAnexo,this.referenciaAnexo)\r\n                                })                                \r\n                        }  \r\n                        else{\r\n                            this.$notify.warning({\r\n                                title: \"Error!\",\r\n                                msg: `SOLO PUEDE SUBIR IMAGENES.`,\r\n                                position: \"bottom right\",\r\n                                styles: {\r\n                                    height: 100,\r\n                                    width: 500,\r\n                                },\r\n                            }); \r\n                        }                  \r\n                    }                      \r\n                }                                \r\n            }                 \r\n        },\r\n        eliminar_imagen(nombreImagen){                \r\n            if(this.arrayImagenes.length > 1){                 \r\n                if(nombreImagen.split('_')[0] == this.referenceNumber){\r\n                    let urlDeleteImg = ''\r\n                    if(this.tipo == 'Actividades'){                        \r\n                        urlDeleteImg = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}`\r\n                    }\r\n                    else if(this.tipo == 'Diagnostico'){                               \r\n                        urlDeleteImg = `${API}/DiagnosticoFalla/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}`\r\n                    }\r\n                    else if(this.tipo == 'Anexo'){\r\n                        this.anularcarga = false\r\n                        if(this.editar == true){\r\n                            this.subversionAnexo = true\r\n                        }\r\n                        urlDeleteImg = `${API}/ReporteFotografico/EquipoNuevo/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}/${this.referenciaAnexo}/${this.subversionAnexo}`       \r\n            \r\n                    }\r\n                    else{                                           \r\n                        urlDeleteImg = `${API}/FichaTecnicaAtencion/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}`\r\n                    }\r\n                    this.$http.get(urlDeleteImg)\r\n                        .then(() => {                                                                 \r\n                            this.$notify.success({\r\n                                title: \"Ok!\",\r\n                                msg: `SE ELIMINO LA IMAGEN CORRECTAMENTE.`,\r\n                                position: \"bottom right\",\r\n                                styles: { height: 100, width: 500 },\r\n                            });                                                                                                           \r\n                        })                    \r\n                }        \r\n                this.$nextTick(() => {                                     \r\n                    let arrayIMG = this.arrayImagenes.filter(imagen => imagen.name != nombreImagen)\r\n                    this.arrayImagenes = []\r\n                    this.arrayImagenes = arrayIMG                    \r\n                })               \r\n            }\r\n            else{\r\n                this.$notify.warning({\r\n                    title: \"Ok!\",\r\n                    msg: `SIEMPRE DEBE TENER MINIMO UNA FOTO.`,\r\n                    position: \"bottom right\",\r\n                    styles: { height: 100, width: 500 },\r\n                });  \r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagenesGenericas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagenesGenericas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImagenesGenericas.vue?vue&type=template&id=b08d637a&\"\nimport script from \"./ImagenesGenericas.vue?vue&type=script&lang=js&\"\nexport * from \"./ImagenesGenericas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CrearHeaderPreventivo.vue?vue&type=style&index=0&id=6d255506&prod&lang=css&\""],"sourceRoot":""}