{"version":3,"sources":["webpack:///./src/components/BarraProgreso.vue?3dba","webpack:///./src/views/Correctivo/Concentrados/ConcentradoGMMEP.vue?e5c6","webpack:///./src/components/ModalGenerico.vue","webpack:///src/components/ModalGenerico.vue","webpack:///./src/components/ModalGenerico.vue?7f0b","webpack:///./src/components/ModalGenerico.vue?ebdd","webpack:///./src/components/ModalGenerico.vue?7033","webpack:///./src/views/Correctivo/Concentrados/ConcentradoGMMEP.vue","webpack:///src/views/Correctivo/Concentrados/ConcentradoGMMEP.vue","webpack:///./src/views/Correctivo/Concentrados/ConcentradoGMMEP.vue?6133","webpack:///./src/views/Correctivo/Concentrados/ConcentradoGMMEP.vue?2b42","webpack:///./src/components/ImagenesGenericas.vue","webpack:///./src/components/BarraProgreso.vue","webpack:///src/components/BarraProgreso.vue","webpack:///./src/components/BarraProgreso.vue?8d88","webpack:///./src/components/BarraProgreso.vue?8497","webpack:///src/components/ImagenesGenericas.vue","webpack:///./src/components/ImagenesGenericas.vue?a1f0","webpack:///./src/components/ImagenesGenericas.vue?29f6"],"names":["render","_vm","this","_c","_self","attrs","showing","staticClass","_t","_e","staticRenderFns","props","required","type","watch","value","document","methods","component","modalSubirSellado","objInsertEscaneado","tipoEscaneado","on","limpiar_componete_escaneado","carruselModal","arrayImagenesCarrusel","$event","subirImgModal","require","datosImg","referenceNumber","subirImg","_v","class","modalCambiarStatus","_s","dtcEdit","directives","name","rawName","statusEdit","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","tipoUsuario","motivoCambio","limite","domProps","composing","restante","editar_status_dtc","modalActualizar","infoAcrualizar","actualizar_componentes_dtc","filtro_GMEEPA","todos","lista_DTC_Filtrada","loadingTabla","opticones_select_acciones","text","key","formatoFecha","acciones_mapper","totalPages","total","perPage","currentPage","hasMorePages","showMore","modalCambiarstatusGerencia","dtcstattusgerencia","confirmarstatugerencia","cancelarstatusgerencia","components","Carrusel","HeaderGenerico","AgregarImg","PdfEscaneado","TablaGenerica","Pagination","Modal","data","infoDTC","rollId","filtroVista","pdfSelladoBool","bandera","dtcImg","pdfSellado","page","fechaFiltro","buscarGMMEP","plazaFiltro","estatus","plazaidsquare","beforeMount","then","prueba","catch","computed","setTimeout","ServiceReportPDF","clousure_pdf_fotografico","path","query","referenceNumberFinishDiagnostic","console","item","title","accionCss","img","filtroOpciones","rowUpdate","msg","position","styles","height","width","guardar_palabra_busqueda","array_filtrado","info","abrirCarrusel","technicalSheetReference","array","find","pathImagesDF","array_img","filtro_dtc","ServiceFiltrosDTC","listaFiltrada","limpiar_filtros","itemRow","plaza","fecha","referencia","tipo","$route","params","tipoVista","reporteDataInsertada","cargandoImagen","progress","_l","arrayImagenes","eliminar_imagen","imgbase","length","anularcarga","recibir_imagenes","num","limiteFotos","rounded","indeterminate","color","style","percentage","inheritAttrs","default","maximofotosanexo","referenciaAnexo","subversionAnexo","editar","BarraProgreso","seconds","countdown","expires_in","interval","rand","destroyed","clearInterval","urlImgPaths","response","nombreimg","newArrayImg","urlImgDescarga","_setInterval","enviar_imagenes","boolValidacion","objGetImagen","rutaInsertImagenes","rutaGetImagen","imagenes","formData","objPlaza","nombreImagen","urlDeleteImg"],"mappings":"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AnC,MAAA,YACAU,eACA,mBACAE,YACAtF,oBACA2F,kFACAC,wBACAC,QAAAC,WAAAC,aAEA,gCACA,aAEAnB,OAAA,sCAEA1B,uBAvNA,WAwNA,2BACA,oCAGAJ,SA5NA,SA4NAqB,GAAA,WACA,2BACA,YACA,mBACA,mBAAAc,wBAAAC,OAAA,4BACA,qBACA,iDACA,0DACA,mFACA,qJACAR,MAAA,YACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,qBAEAC,OAAA,uCAEA,qFAGA3C,MAlPA,WAkPA,WACA,2BACA,oBACA,oBACA,oBACA,gBACA,iDACA,0DACA,qJACAyC,MAAA,YACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,qBAEAC,OAAA,YACA,gBACA,uBAIA5C,cAxQA,SAwQA8E,EAAAC,EAAAC,EAAAzC,GAAA,WACA,2BACA,mBACA,mBACA,mBACA,eACA,iDACA,0DACA,sCACA,uBACA,mFAGA,mFACA,+LACAG,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,0KACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,6KACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,yKACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAKA,mFACA,oNACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,uNACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,mNACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAKA,mFACA,kMACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,8LACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAKA,mFACA,iMACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAKA,mFACA,sNACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,2OACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,wOACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAIA,mFACA,4OACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,sBAKA,oFACA,gQACAF,MAAA,YACA,4BACA,wBACA,sBACA,CACA,yBACAC,uBAAA,+CACA,yCACA,yCACA,sBAGAC,OAAA,YACA,yBACA,wBACA,yBCp0BwX,I,wBCQpX3F,EAAY,eACd,EACAlB,EACAU,GACA,EACA,KACA,KACA,MAIa,aAAAQ,E,2DCnBXlB,G,UAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,yDAAyD0B,MAAM,CAAC,mBAA+B,eAAX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","file":"js/chunk-18c656d0.2657c57a.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarraProgreso.vue?vue&type=style&index=0&id=55df656c&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConcentradoGMMEP.vue?vue&type=style&index=0&id=1d66912b&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Transition',{attrs:{\"name\":\"fade\"}},[(_vm.showing)?_c('div',{staticClass:\"fixed inset-0 w-full h-screen flex items-center justify-center fondomodal\"},[_c('div',{staticClass:\"relative w-full max-w-2xl bg-white shadow-lg rounded-lg p-8\"},[_vm._t(\"default\")],2)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<Transition name=\"fade\">\r\n  <div v-if=\"showing\" class=\"fixed inset-0 w-full h-screen flex items-center justify-center fondomodal\">\r\n      <div class=\"relative w-full max-w-2xl bg-white shadow-lg rounded-lg p-8\">\r\n           <slot />\r\n      </div>\r\n  </div>\r\n</Transition>\r\n</template>\r\n \r\n<script>\r\nexport default {\r\nprops: {\r\n      showing: {\r\n          required: true,\r\n          type: Boolean\r\n      }\r\n  },\r\nwatch: {\r\n    showing(value) {\r\n      if (value) {\r\n        return document.querySelector('body').classList.add('overflow-hidden');\r\n      }\r\n      document.querySelector('body').classList.remove('overflow-hidden');\r\n      \r\n    }\r\n  },\r\nmethods: {\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fondomodal{\r\n    background: rgba(0, 0, 0, 0.5);\r\n}\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: all 0.4s;\r\n}\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalGenerico.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalGenerico.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalGenerico.vue?vue&type=template&id=12b313b0&scoped=true&\"\nimport script from \"./ModalGenerico.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalGenerico.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalGenerico.vue?vue&type=style&index=0&id=12b313b0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12b313b0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalGenerico.vue?vue&type=style&index=0&id=12b313b0&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"flex justify-center -mt-6\"},[_c('div',{staticClass:\"flex-col p-8\"},[_c('PdfEscaneado',{attrs:{\"abrirModal\":_vm.modalSubirSellado,\"objInsert\":_vm.objInsertEscaneado,\"tipoReporte\":_vm.tipoEscaneado},on:{\"limpiar-componente-escaneado\":_vm.limpiar_componete_escaneado}}),_c('div',{staticClass:\"sticky inset-0\"},[(_vm.carruselModal)?_c('div',{staticClass:\"carruselGMMEP\"},[_c('div',{staticClass:\"justify-center text-center block\"},[_c('Carrusel',{attrs:{\"arrayImagenes\":_vm.arrayImagenesCarrusel},on:{\"cerrar-modal-carrusel\":function($event){_vm.carruselModal = false, _vm.arrayImagenesCarrusel = []}}})],1)]):_vm._e()]),_c('div',{staticClass:\"sticky inset-0\"},[(_vm.subirImgModal)?_c('div',{staticClass:\"rounded-lg border max-w-2xl h-44 justify-center absolute inset-x-0 bg-white mx-auto border-gray-400 shadow-2xl mt-66\"},[_c('button',{staticClass:\"ml-74 mt-1 -mb-10 justify-end sm:ml-66\",on:{\"click\":function($event){_vm.subirImgModal = false}}},[_c('img',{staticClass:\"justify-center\",attrs:{\"src\":require(\"../../../assets/img/close.png\"),\"width\":\"30\",\"height\":\"30\"}})]),_c('div',{staticClass:\"mt-1 ml-4 mr-4 -mb-10\"},[_c('AgregarImg',{attrs:{\"reporteDataInsertada\":true,\"tipo\":'ConcentradoDTC',\"referenceNumber\":_vm.datosImg.referenceNumber}})],1),_c('div',{staticClass:\"justify-center flex mt-5 sm:mt-8\"},[_c('button',{staticClass:\"botonIconCrear m-4\",on:{\"click\":_vm.subirImg}},[_vm._v(\"Subir\")])])]):_vm._e()]),_c('div',{staticClass:\"sticky inset-0\",class:{'modal-container': _vm.modalCambiarStatus}},[(_vm.modalCambiarStatus)?_c('div',{staticClass:\"rounded-lg justify-center absolute inset-x-0 md:w-69 lg:w-69 xl:w-69 mx-auto px-12 py-1 sm:p-2 mt-48 sm:-mt-32\"},[_c('div',{staticClass:\"rounded-lg border bg-white border-gray-700 px-12 py-10 shadow-2xl\"},[_c('p',{staticClass:\"text-gray-900 font-thin text-md\"},[_vm._v(\"Seguro que quieres cambiar el estatus de la referencia \"),_c('b',{staticClass:\"font-bold\"},[_vm._v(_vm._s(_vm.dtcEdit.referenceNumber))])]),_c('div',[_c('div',{staticClass:\"mt-5\"},[_c('p',{staticClass:\"mb-1 sm:text-sm\"},[_vm._v(\"Status DTC\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.statusEdit),expression:\"statusEdit\"}],staticClass:\"w-full is_valid\",attrs:{\"type\":\"text\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.statusEdit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Selecionar...\")]),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"Inconcluso\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"Concluido\")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"Sellado\")]),(_vm.tipoUsuario == 10)?_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\"GMMEP\")]):_vm._e()])]),_c('div',{staticClass:\"mt-5\"},[_c('p',{staticClass:\"mb-1 sm:text-sm\"},[_vm._v(\"Motivo del Cambio\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.motivoCambio),expression:\"motivoCambio\"}],staticClass:\"appearance-none block bg-grey-lighter container mx-auto text-grey-darker is_valid border-black rounded-lg py-4 mb-0 h-24 placeholder-gray-500 border\",attrs:{\"placeholder\":\"Motivo del Cambio\",\"maxlength\":_vm.limite},domProps:{\"value\":(_vm.motivoCambio)},on:{\"input\":function($event){if($event.target.composing)return;_vm.motivoCambio=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"text-gray-500\"},[_vm._v(_vm._s(_vm.restante)+\"/300\")])])]),_c('div',{staticClass:\"justify-center flex mt-5\"},[_c('button',{staticClass:\"botonIconCrear m-4\",on:{\"click\":_vm.editar_status_dtc}},[_vm._v(\"Aceptar\")]),_c('button',{staticClass:\"botonIconCancelar m-4\",on:{\"click\":function($event){_vm.modalCambiarStatus = false, _vm.statusEdit = '', _vm.motivoCambio =''}}},[_vm._v(\"Cancelar\")])])])]):_vm._e()]),_c('div',{staticClass:\"sticky inset-0 font-titulo\",class:{'modal-container': _vm.modalActualizar}},[(_vm.modalActualizar)?_c('div',{staticClass:\"carruselGMMEP h-62 mt-64\"},[_c('div',{staticClass:\"justify-center text-center block\"},[_c('p',{staticClass:\"mt-10 text-black text-2xl font-bold sm:ml-6 sm:-mt-6\"},[_vm._v(\"Advertencia\")]),_c('p',{staticClass:\"w-69 ml-24 sm:ml-0 sm:w-full text-justify\"},[_vm._v(\"Se van a Actualizar los componentes requeridos del DTC con Referencia \"+_vm._s(_vm.infoAcrualizar.referenceNumber))])]),_c('div',{staticClass:\"mt-12 flex justify-center\"},[_c('button',{staticClass:\"botonIconCrear font-boton\"},[_c('span',{on:{\"click\":_vm.actualizar_componentes_dtc}},[_vm._v(\"Aceptar\")])]),_c('button',{staticClass:\"botonIconCancelar font-boton\",on:{\"click\":function($event){_vm.modalActualizar = false}}},[_c('span',{},[_vm._v(\"Cancelar\")])])])]):_vm._e()]),_c('HeaderGenerico',{attrs:{\"titulo\":'Concentrado GMMEP',\"tipo\":'GMMEP'},on:{\"filtro_GMEEP\":_vm.filtro_GMEEPA,\"filtrar-todos_GMEEP\":_vm.todos}}),_c('div',{staticClass:\"mt-4\"},[_c('TablaGenerica',{attrs:{\"listaDataTable\":_vm.lista_DTC_Filtrada,\"loadingTabla\":_vm.loadingTabla,\"validarAcciones\":_vm.opticones_select_acciones,\"normalheaderKey\":[{text: 'Numero Referencia', key: 'referenceNumber'},{text: 'Fecha Elaboracion', key: 'elaborationDate', formatoFecha: true},{text: 'Fecha Siniestro', key: 'sinisterDate', formatoFecha: true},{text: 'Registro Sistema', key: 'dateStamp', formatoFecha: true},{text: 'Folio', key: 'failureNumber'},{text: 'N° Reporte', key:'reportNumber'},{text: 'N° Siniestro', key: 'sinisterNumber'},{text: 'Fecha Falla', key: 'failureDate',formatoFecha: true},{text: 'Acciones', key: 'Acciones'}],\"movilHeaderKey\":[{text: 'Numero Referencia', key: 'referenceNumber'},{text: 'Fecha Elaboracion', key: 'elaborationDate', formatoFecha: true},{text: 'Acciones', key: 'Acciones'}]},on:{\"acciones-mapper\":_vm.acciones_mapper}})],1),_c('div',{staticClass:\"mt-20\"},[_c('Pagination',{attrs:{\"total-pages\":_vm.totalPages,\"total\":_vm.total,\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"has-more-pages\":_vm.hasMorePages},on:{\"pagechanged\":_vm.showMore}})],1)],1)]),_c('Modal',{attrs:{\"showing\":_vm.modalCambiarstatusGerencia},on:{\"close\":function($event){_vm.modalCambiarstatusGerencia = false}}},[_c('p',{staticClass:\"text-gray-800 font-thing text-xl text-center\"},[_vm._v(\"Estas seguro de pasar a gerencia el DTC con referencia\")]),_c('p',{staticClass:\"text-gray-900 font-bold text-xl text-center\"},[_vm._v(_vm._s(this.dtcstattusgerencia.referenceNumber))]),_c('div',{staticClass:\"justify-center flex mt-5\"},[_c('button',{staticClass:\"botonIconCrear font-titulo font-bold m-4\",on:{\"click\":function($event){return _vm.confirmarstatugerencia(_vm.dtcstattusgerencia)}}},[_vm._v(\"Confirmar\")]),_c('button',{staticClass:\"botonIconCancelar m-4\",on:{\"click\":function($event){return _vm.cancelarstatusgerencia()}}},[_vm._v(\"Cancelar\")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>    \r\n    <div class=\"flex justify-center -mt-6\">\r\n      <div class=\"flex-col p-8\"> \r\n        <PdfEscaneado \r\n          @limpiar-componente-escaneado=\"limpiar_componete_escaneado\" \r\n          :abrirModal=\"modalSubirSellado\" \r\n          :objInsert=\"objInsertEscaneado\" \r\n          :tipoReporte=\"tipoEscaneado\"\r\n        ></PdfEscaneado>                           \r\n        <!--/////////////////////////////////////////////////////////////////////\r\n        ////                         MODAL CARRUSEL                        /////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <div class=\"sticky inset-0\">\r\n          <div v-if=\"carruselModal\" class=\"carruselGMMEP\">          \r\n            <div class=\"justify-center text-center block\">            \r\n                <Carrusel \r\n                  @cerrar-modal-carrusel=\"carruselModal = false, arrayImagenesCarrusel = []\" \r\n                  :arrayImagenes=\"arrayImagenesCarrusel\"\r\n                ></Carrusel>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--/////////////////////////////////////////////////////////////////////\r\n        ////                    MODAL SUBIR IMAGENES                        /////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <div class=\"sticky inset-0\">\r\n          <div v-if=\"subirImgModal\" class=\"rounded-lg border max-w-2xl h-44 justify-center absolute inset-x-0 bg-white mx-auto border-gray-400 shadow-2xl mt-66\">          \r\n            <button @click=\"subirImgModal = false\" class=\"ml-74 mt-1 -mb-10 justify-end sm:ml-66\">\r\n              <img src=\"../../../assets/img/close.png\" class=\"justify-center\" width=\"30\" height=\"30\"/></button>\r\n            <div class=\"mt-1 ml-4 mr-4 -mb-10\">\r\n              <AgregarImg \r\n                :reporteDataInsertada=\"true\" \r\n                :tipo=\"'ConcentradoDTC'\" \r\n                :referenceNumber=\"datosImg.referenceNumber\"\r\n              >\r\n              </AgregarImg>\r\n            </div>\r\n            <div class=\"justify-center flex mt-5 sm:mt-8\">\r\n              <button @click=\"subirImg\" class=\"botonIconCrear m-4\">Subir</button>\r\n            </div>\r\n          </div>\r\n        </div> \r\n    <!--////////////////////////////////////////////////////////////////////\r\n        ////                      MODAL CAMBIAR STATUS                   //////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <div class=\"sticky inset-0\" :class=\"{'modal-container': modalCambiarStatus}\">\r\n          <div v-if=\"modalCambiarStatus\" class=\"rounded-lg justify-center absolute inset-x-0 md:w-69 lg:w-69 xl:w-69 mx-auto px-12 py-1 sm:p-2 mt-48 sm:-mt-32\">\r\n            <div class=\"rounded-lg border bg-white border-gray-700 px-12 py-10 shadow-2xl\">\r\n              <p class=\"text-gray-900 font-thin text-md\">Seguro que quieres cambiar el estatus de la referencia <b class=\"font-bold\">{{ dtcEdit.referenceNumber }}</b></p>\r\n              <div>\r\n                <div class=\"mt-5\">\r\n                  <p class=\"mb-1 sm:text-sm\">Status DTC</p>\r\n                  <select v-model=\"statusEdit\" class=\"w-full is_valid\" type=\"text\">\r\n                    <option value=\"\">Selecionar...</option>     \r\n                    <option value=\"1\">Inconcluso</option>  \r\n                    <option value=\"2\">Concluido</option>                                                                  \r\n                    <option value=\"3\">Sellado</option>                                                                                                                               \r\n                    <option v-if=\"tipoUsuario == 10\" value=\"4\">GMMEP</option>\r\n                  </select> \r\n                </div>\r\n                <div class=\"mt-5\">\r\n                  <p class=\"mb-1 sm:text-sm\">Motivo del Cambio</p>\r\n                  <textarea v-model=\"motivoCambio\" class=\"appearance-none block bg-grey-lighter container mx-auto text-grey-darker is_valid border-black rounded-lg py-4 mb-0 h-24 placeholder-gray-500 border\" placeholder=\"Motivo del Cambio\" v-bind:maxlength=\"limite\"/>\r\n                  <span class=\"text-gray-500\">{{ restante }}/300</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"justify-center flex mt-5\">\r\n                <button @click=\"editar_status_dtc\" class=\"botonIconCrear m-4\">Aceptar</button>\r\n                <button @click=\"modalCambiarStatus = false, statusEdit = '', motivoCambio =''\" class=\"botonIconCancelar m-4\">Cancelar</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--/////////////////////////////////////////////////////////////////////\r\n        ////                         MODAL ACTUALIZAR                      /////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <div class=\"sticky inset-0 font-titulo\" :class=\"{'modal-container': modalActualizar}\">\r\n          <div v-if=\"modalActualizar\" class=\"carruselGMMEP h-62 mt-64\">          \r\n            <div class=\"justify-center text-center block\">    \r\n              <p class=\"mt-10 text-black text-2xl font-bold sm:ml-6 sm:-mt-6\">Advertencia</p>        \r\n              <p class=\"w-69 ml-24 sm:ml-0 sm:w-full text-justify\">Se van a Actualizar los componentes requeridos del DTC con Referencia {{ infoAcrualizar.referenceNumber }}</p> \r\n            </div>\r\n            <div class=\"mt-12 flex justify-center\">\r\n                <button class=\"botonIconCrear font-boton\"><span class=\"\" @click=\"actualizar_componentes_dtc\">Aceptar</span></button>\r\n                <button class=\"botonIconCancelar font-boton\" @click=\"modalActualizar = false\"><span class=\"\">Cancelar</span></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--/////////////////////////////////////////////////////////////////////\r\n        /////                    FILTROS DE NAVEGACION                      ////\r\n        ////////////////////////////////////////////////////////////////////-->   \r\n        <HeaderGenerico \r\n          @filtro_GMEEP=\"filtro_GMEEPA\"\r\n          @filtrar-todos_GMEEP=\"todos\" \r\n          :titulo=\"'Concentrado GMMEP'\" \r\n          :tipo=\"'GMMEP'\"\r\n        >\r\n        </HeaderGenerico>  \r\n    <!--/////////////////////////////////////////////////////////////////////\r\n        /////                    TABLA GMMEP                            ////\r\n        ////////////////////////////////////////////////////////////////////-->    \r\n        <div class=\"mt-4\">\r\n          <TablaGenerica  \r\n            @acciones-mapper=\"acciones_mapper\"              \r\n            :listaDataTable=\"lista_DTC_Filtrada\"\r\n            :loadingTabla=\"loadingTabla\"\r\n            :validarAcciones=\"opticones_select_acciones\"\r\n            :normalheaderKey=\"[{text: 'Numero Referencia', key: 'referenceNumber'},{text: 'Fecha Elaboracion', key: 'elaborationDate', formatoFecha: true},{text: 'Fecha Siniestro', key: 'sinisterDate', formatoFecha: true},{text: 'Registro Sistema', key: 'dateStamp', formatoFecha: true},{text: 'Folio', key: 'failureNumber'},{text: 'N° Reporte', key:'reportNumber'},{text: 'N° Siniestro', key: 'sinisterNumber'},{text: 'Fecha Falla', key: 'failureDate',formatoFecha: true},{text: 'Acciones', key: 'Acciones'}]\"\r\n            :movilHeaderKey=\"[{text: 'Numero Referencia', key: 'referenceNumber'},{text: 'Fecha Elaboracion', key: 'elaborationDate', formatoFecha: true},{text: 'Acciones', key: 'Acciones'}]\"\r\n        >\r\n        </TablaGenerica>\r\n        </div>       \r\n        <div class=\"mt-20\">\r\n          <Pagination\r\n          :total-pages=\"totalPages\" \r\n          :total=\"total\"\r\n          :per-page=\"perPage\" \r\n          :current-page=\"currentPage\"\r\n          :has-more-pages=\"hasMorePages\" \r\n          @pagechanged=\"showMore\"\r\n        ></Pagination> \r\n        </div>\r\n        </div>  \r\n    </div>\r\n     <!--////////////////////////////////////////////////////////////////////\r\n        ////                      MODAL CAMBIAR STATUS ANEXO               //////\r\n        ////////////////////////////////////////////////////////////////////-->\r\n        <Modal :showing=\"modalCambiarstatusGerencia\" @close=\"modalCambiarstatusGerencia = false\">\r\n              <p class=\"text-gray-800 font-thing text-xl text-center\">Estas seguro de pasar a gerencia el DTC con referencia</p>\r\n              <p class=\"text-gray-900 font-bold text-xl text-center\">{{this.dtcstattusgerencia.referenceNumber}}</p>\r\n              <div class=\"justify-center flex mt-5\">\r\n                <button @click=\"confirmarstatugerencia(dtcstattusgerencia)\" class=\"botonIconCrear font-titulo font-bold m-4\">Confirmar</button>\r\n                <button @click=\"cancelarstatusgerencia()\" class=\"botonIconCancelar m-4\">Cancelar</button>\r\n              </div>\r\n      </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\nconst API = process.env.VUE_APP_URL_API_PRODUCCION\r\nimport ServiceFiltrosDTC from \"../../../services/FiltrosDTCServices\"\r\nimport ServiceReportPDF from \"../../../services/ReportesPDFService\"\r\nimport Carrusel from \"../../../components/Carrusel\";\r\nimport HeaderGenerico from \"../../../components/Header/HeaderGenerico\";\r\nimport AgregarImg from \"../../../components/ImagenesGenericas\"\r\nimport PdfEscaneado from '../../../components/PdfEscaneado.vue'\r\nimport TablaGenerica from '../../../components/TablaGenerica.vue'\r\nimport Pagination from '../../../components/Pagination.vue'\r\nimport Modal from \"../../../components/ModalGenerico.vue\";\r\n\r\nexport default {\r\n  name: \"ConcentradoGMMEP\",\r\n  components: {    \r\n    Carrusel,\r\n    HeaderGenerico,\r\n    AgregarImg,\r\n    PdfEscaneado,\r\n    TablaGenerica,\r\n    Pagination,\r\n    Modal\r\n  },\r\n/////////////////////////////////////////////////////////////////////\r\n////                      DATA                                    ////\r\n/////////////////////////////////////////////////////////////////////\r\ndata: function (){\r\n    return {      \r\n      infoDTC:[],        \r\n      arrayImagenesCarrusel: [],          \r\n      rollId: true,\r\n      lista_DTC_Filtrada: [],            \r\n      filtroVista: true,\r\n      pdfSelladoBool: true,\r\n      subirImgModal: false,\r\n      loadingTabla: true,\r\n      modalCambiarStatus: false,\r\n      bandera:false,\r\n      carruselModal: false,      \r\n      motivoCambio:\"\",\r\n      statusEdit: \"\",\r\n      limite:300,\r\n      dtcEdit: {},\r\n      dtcImg: {},\r\n      datosImg:{},        \r\n      pdfSellado:'',\r\n      modalActualizar: false,\r\n      infoAcrualizar:{},\r\n      value:'',\r\n      modalSubirSellado: false,\r\n      objInsertEscaneado: {},\r\n      tipoEscaneado: 'GMMEP', \r\n      //Data de la paginacion \r\n      page: 1,//pagina en la que quieres iniciar la vista\r\n      totalPages: 0,//total de paginas\r\n      total: 10,//numero de resultados a mostrar\r\n      perPage: 10,//no se ocupa\r\n      currentPage: 1,//pagina actual\r\n      hasMorePages: true,// tener más paginas\r\n      fechaFiltro: '',\r\n      buscarGMMEP:'',\r\n      plazaFiltro:'',\r\n      estatus:'',\r\n      plazaidsquare: {},\r\n      tipoUsuario: 0,\r\n      modalCambiarstatusGerencia:false,\r\n      dtcstattusgerencia:{}\r\n    }\r\n  },\r\n/////////////////////////////////////////////////////////////////////\r\n////                       CICLOS DE VIDA                        ////\r\n/////////////////////////////////////////////////////////////////////\r\nbeforeMount: function () {\r\n  let rol = this.$store.state.Login.cookiesUser.rollId\r\n  if( rol == 7){\r\n    this.rollId = false\r\n  }\r\n  this.tipoUsuario = this.$store.state.Login.cookiesUser.rollId\r\n  let userId = this.$store.state.Login.cookiesUser.userId\r\n  let clavePlaza = this.$store.state.Login.plazaSelecionada.refereciaPlaza\r\n  this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/null/null/null`)\r\n  .then((response) => {\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n  }) \r\n  .catch((error) =>{ \r\n    if(error.status == 404){\r\n      this.loadingTable = false \r\n    }\r\n  })    \r\n},\r\n/////////////////////////////////////////////////////////////////////\r\n////                       COMPUTADOS                            ////\r\n/////////////////////////////////////////////////////////////////////\r\ncomputed:{\r\n    restante(){\r\n        return  this.motivoCambio.length\r\n    }\r\n},\r\n/////////////////////////////////////////////////////////////////////\r\n////                           METODOS                           ////\r\n/////////////////////////////////////////////////////////////////////\r\nmethods:{\r\n  acciones_mapper({ acciones, itemRow }){\r\n    let clousure_pdf_fotografico = () => {\r\n      if (this.tipoUsuario != 4 && this.tipoUsuario != 8) {\r\n        setTimeout(()=>{ ServiceReportPDF.generar_pdf_fotografico_correctivo(itemRow.referenceNumber)},1000)\r\n      }\r\n    }    \r\n    if(acciones.title == 'Bajar DTC Sin Firma'){      \r\n      ServiceReportPDF.generar_pdf_correctivo(itemRow.referenceNumber, 1, false, itemRow.adminId)\r\n      clousure_pdf_fotografico()\r\n    }                \r\n    if(acciones.title == 'Bajar DTC Firmado'){\r\n      ServiceReportPDF.generar_pdf_correctivo(itemRow.referenceNumber, 2, false, itemRow.adminId)\r\n      clousure_pdf_fotografico()\r\n    }\r\n    if(acciones.title == 'Bajar DTC Sellado'){      \r\n      ServiceReportPDF.generar_pdf_correctivo(itemRow.referenceNumber, 3, false)\r\n      clousure_pdf_fotografico()\r\n    }\r\n    if(acciones.title == 'Terminar Diagnostico'){      \r\n      this.$router.push({ path: '/Correctivo/PreDTC/Crear/DiagnosticoDeFalla',query: { referenceNumberFinishDiagnostic: itemRow.referenceNumber }})\r\n    }\r\n    if(acciones.title == 'Cambiar Estatus'){      \r\n      this.modalCambiarStatus = true; this.dtcEdit = itemRow;\r\n    }\r\n    if(acciones.title == 'Actualizar Componentes'){      \r\n      this.modalActualizar = true; this.infoAcrualizar = itemRow;        \r\n    }\r\n    if(acciones.title == 'Subir DTC Sellado'){      \r\n      this.tipoEscaneado = 'GMMEP'\r\n      this.modalSubirSellado = true\r\n      this.objInsertEscaneado = {\r\n          referenceNumber: itemRow.referenceNumber\r\n      }\r\n    }\r\n    if(acciones.title == 'Pasar a Gerencia'){\r\n      this.modalCambiarstatusGerencia = true\r\n      this.dtcstattusgerencia = itemRow\r\n      console.log(this.dtcstattusgerencia)\r\n    }\r\n         \r\n  },\r\n  opticones_select_acciones(item){\r\n    const options= [                \r\n      { title: 'Bajar DTC Firmado', accionCss: 'terminar', img: 'fa-solid fa-file-arrow-down' }, //0\r\n      { title: 'Terminar Diagnostico', accionCss: 'terminar', img: 'fa-solid fa-file-circle-plus' },//1\r\n      { title: 'Cambiar Estatus', accionCss: 'editar', img: 'fa-solid fa-arrow-right-arrow-left' },//2\r\n      { title: 'Bajar DTC Sellado', accionCss: 'terminar', img: 'fa-solid fa-file-arrow-down' },//3\r\n      { title: 'Subir DTC Sellado', accionCss: 'terminar', img: 'fa-solid fa-file-arrow-up' },//4\r\n      { title: 'Actualizar Componentes', accionCss: 'editar', img: 'fa-solid fa-file-pen' },//5\r\n      { title: 'Bajar DTC Sin Firma',accionCss: 'terminar', img: 'fa-solid fa-file-arrow-down' },//6\r\n      { title: 'Pasar a Gerencia',accionCss: 'terminar', img: 'fa-solid fa-file-invoice-dollar' },//7\r\n    ]\r\n    let filtroOpciones = []\r\n    if(this.tipoUsuario == 8 || this.tipoUsuario == 4){\r\n      filtroOpciones.push(options[6])\r\n    }\r\n    if (this.tipoUsuario != 4 && this.tipoUsuario != 8) {\r\n      filtroOpciones.push(options[0])\r\n    }\r\n    if(item.statusId >= 3 && !item.escaneadobool){\r\n      filtroOpciones.push(options[3])\r\n    }\r\n    if(this.tipoUsuario != 7 && this.tipoUsuario != 4 && this.tipoUsuario != 8 && item.escaneadobool){\r\n      filtroOpciones.push(options[4])\r\n    }\r\n    if(item.technicalSheetReference == '--' && this.tipoUsuario == 1){\r\n      filtroOpciones.push(options[1])   \r\n    }\r\n    if (this.tipoUsuario == 1 && !item.escaneadobool && item.statusId >= 3) {\r\n      filtroOpciones.push(options[4])\r\n    }\r\n    if(this.tipoUsuario == 1){\r\n      filtroOpciones.push(options[5])\r\n    }\r\n    if(this.tipoUsuario == 4 || this.tipoUsuario == 8 || this.tipoUsuario == 10){\r\n      filtroOpciones.push(options[2])\r\n    }\r\n    if(item.statusId < 5 && (this.tipoUsuario == 4 || this.tipoUsuario == 8 || this.tipoUsuario == 10)){\r\n      filtroOpciones.push(options[7])\r\n    }\r\n    return filtroOpciones\r\n  },  \r\n  limpiar_componete_escaneado: function(){\r\n    this.modalSubirSellado = false\r\n    this.loadingTabla = true                \r\n    setTimeout(()=>{                             \r\n      let indexRowUpdate = this.lista_DTC_Filtrada.findIndex(item => item.referenceNumber == this.objInsertEscaneado.referenceNumber)\r\n      let rowUpdate = Object.assign(this.lista_DTC_Filtrada[indexRowUpdate])\r\n      rowUpdate['confirmpdf'] = true; rowUpdate['escaneadobool'] = false;\r\n      this.lista_DTC_Filtrada.splice(indexRowUpdate, 1, rowUpdate) \r\n      this.objInsertEscaneado = {}\r\n      this.loadingTabla = false            \r\n    },500)    \r\n  },\r\n  actualizar_componentes_dtc: function(){\r\n    let clavePlaza = this.infoAcrualizar.referenceNumber.split('-')[0] \r\n    let userId = this.$store.state.Login.cookiesUser.userId\r\n    this.modalActualizar = false; this.loadingTabla = true;\r\n    this.$http.post(`${API}/Component/updateInventory/${clavePlaza}/${this.infoAcrualizar.referenceNumber}/${userId}`)\r\n    .then(()=>{\r\n      this.loadingTabla = false;\r\n      this.$notify.success({\r\n        title: \"Ok!\",\r\n        class: \"font-titulo\",\r\n        msg: `DTC CON REFERENCIA ${this.infoAcrualizar.referenceNumber} ACTUALIZADO CORRECTAMENTE.`,\r\n        position: \"bottom right\",\r\n        styles: { height: 100, width: 500 }});\r\n    })    \r\n  },\r\n  guardar_palabra_busqueda: function(newPalabra){  \r\n    if (newPalabra != \"\") {   \r\n      this.lista_DTC_Filtrada = [] \r\n      this.loadingTabla = true\r\n      setTimeout(async () => {\r\n        let array_filtrado = this.infoDTC.filter(item => {\r\n          return item.referenceNumber.toUpperCase().includes(newPalabra.toUpperCase())\r\n        })       \r\n        this.lista_DTC_Filtrada = array_filtrado;\r\n        this.loadingTabla = false\r\n      },1000)\r\n    }\r\n    else{\r\n      this.lista_DTC_Filtrada = this.infoDTC\r\n    }\r\n  },  \r\n  subirImg: async function (){\r\n    this.subirImgModal = false\r\n    let info = this.$store.getters['Login/GET_USEER_ID_PLAZA_ID']      \r\n    await this.$store.dispatch('DTC/BUSCAR_LISTA_DTC', info)\r\n    this.infoDTC =  this.$store.getters[\"DTC/GET_LISTA_DTC\"](this.filtroVista);  \r\n    this.lista_DTC_Filtrada = this.infoDTC\r\n  },\r\n  abrirCarrusel : async function ({ technicalSheetReference }){       \r\n    let array = this.$store.state.DTC.listaInfoDTC\r\n      .find(item => item.dtcView.technicalSheetReference == technicalSheetReference).pathImagesDF\r\n      .map(imgData => {        \r\n        return {\r\n          \"fileName\": imgData, \r\n          \"image\": `${API}/DiagnosticoFalla/Images/${technicalSheetReference.split('-')[0]}/${technicalSheetReference}/${imgData}`\r\n        }\r\n      })        \r\n    this.arrayImagenesCarrusel = { array_img: array, referenceNumber: technicalSheetReference };  \r\n    this.carruselModal = true                                                                   \r\n  },\r\n  editar_status_dtc: function (){    \r\n    this.modalCambiarStatus = false\r\n    this.loadingTabla = true\r\n    let user = this.$store.getters['Login/GET_USEER_ID_PLAZA_ID']    \r\n    let objeActualizado = { \"referenceNumber\": this.dtcEdit.referenceNumber, \"statusId\": parseInt(this.statusEdit), \"userId\": user.idUser, \"comment\": this.motivoCambio }        \r\n    if(this.statusEdit != '' && this.motivoCambio != ''){         \r\n      this.$http.post(`${API}/Pdf/ActualizarDtcAdministratores/${this.dtcEdit.referenceNumber.split('-')[0]}`, objeActualizado)\r\n      .then(() => { \r\n        this.todos()                         \r\n        this.infoDTC = this.lista_DTC_Filtrada              \r\n        this.statusEdit = ''; this.motivoCambio = '';  this.dtcEdit = '';\r\n        this.loadingTabla = false\r\n      }) \r\n    }\r\n    else {\r\n      this.$notify.warning({\r\n        title: \"Ups!\",\r\n        msg: `NO SE HA LLENADO LOS CAMPOS.`,\r\n        position: \"bottom right\",\r\n        styles: { height: 100, width: 500 },\r\n      });\r\n      this.loadingTabla = false\r\n      this.lista_DTC_Filtrada = this.infoDtc\r\n    }\r\n  },  \r\n  filtro_dtc: async function (objFiltro) {     \r\n    if( objFiltro.plazaFiltro != '' || objFiltro.fechaFiltro != '' || objFiltro.referenciaFiltro != ''){      \r\n      this.lista_DTC_Filtrada = []\r\n      this.loadingTabla = true    \r\n      setTimeout(async () => {\r\n        let listaFiltrada = await ServiceFiltrosDTC.filtrarDTC(this.filtroVista, objFiltro.plazaFiltro, objFiltro.fechaFiltro, objFiltro.referenciaFiltro, undefined, false, undefined)    \r\n        this.$nextTick().then(() => {      \r\n            this.lista_DTC_Filtrada = listaFiltrada            \r\n            this.loadingTabla = false\r\n        }) \r\n      },1000)\r\n    }  \r\n    else{\r\n      this.$notify.warning({\r\n        title: \"Ups!\",\r\n        msg: `NO SE HA LLENADO NINGUN CAMPO PARA FILTRAR.`,\r\n        position: \"bottom right\",\r\n        styles: { height: 100, width: 500 },\r\n      });\r\n    }\r\n  },\r\n  limpiar_filtros: function() {             \r\n    this.modalLoading = true                            \r\n    this.$nextTick().then(() => {             \r\n      this.lista_DTC_Filtrada = this.infoDTC\r\n    })           \r\n  },\r\n  confirmarstatugerencia(itemRow){\r\n    let user = this.$store.getters['Login/GET_USEER_ID_PLAZA_ID']   \r\n      let objeActualizado = { \"referenceNumber\": itemRow.referenceNumber, \"statusId\": 5, \"userId\": user.idUser, \"comment\": \"Cambiado por Gerencia\" }\r\n      this.$http.post(`${API}/Pdf/ActualizarDtcAdministratores/${itemRow.referenceNumber.split('-')[0]}`, objeActualizado)\r\n      .then((response) =>{\r\n        console.log(response)\r\n        this.$notify.success({\r\n        title: \"Ok!\",\r\n        class: \"font-titulo\",\r\n        msg: `DTC CON REFERENCIA ${itemRow.referenceNumber} ACTUALIZADO CORRECTAMENTE.`,\r\n        position: \"bottom right\",\r\n        styles: { height: 100, width: 500 }\r\n        });\r\n        this.modalCambiarstatusGerencia = false\r\n        this.todos();\r\n        }\r\n      ).catch((error) => console.log(error))\r\n  },\r\n  cancelarstatusgerencia(){\r\n    this.dtcstattusgerencia = {}\r\n    this.modalCambiarstatusGerencia = false\r\n  },\r\n  //Metodos paginacion\r\n  showMore(page) {\r\n    this.lista_DTC_Filtrada = [];\r\n    this.page = page;\r\n    this.currentPage = page;  \r\n    this.$router.push({path: 'ConcentradoGMMEP', query: { 'Pagina': page, 'nameFilter': null } })\r\n    this.loadingTable = true\r\n    let userId = this.$store.state.Login.cookiesUser.userId\r\n    let clavePlaza = this.$store.state.Login.plazaSelecionada.refereciaPlaza\r\n    if(this.fechaFiltro == '' && this.buscarGMMEP == '' && this.plazaFiltro == '' && this.estatus == ''){\r\n        this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/null/null/null`)\r\n        .then((response) => {\r\n          let prueba = response.data.result.rows\r\n          prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n          this.totalPages = response.data.result.numeroPaginas\r\n          this.currentPage = response.data.result.paginaActual\r\n          this.loadingTable = false\r\n        }) \r\n        .catch(() => this.loadingTable = false) \r\n    }else{\r\n      this.filtro_GMEEPA(this.plazaFiltro,this.fechaFiltro,this.buscarGMMEP,this.estatus);\r\n    }\r\n  },\r\n  todos(){\r\n        this.lista_DTC_Filtrada = []\r\n        this.fechaFiltro = ''\r\n        this.buscarGMMEP = ''\r\n        this.plazaFiltro = ''\r\n        this.estatus = ''\r\n        let userId = this.$store.state.Login.cookiesUser.userId\r\n        let clavePlaza = this.$store.state.Login.plazaSelecionada.refereciaPlaza\r\n        this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/null/null/null`)\r\n        .then((response) => {\r\n            let prueba = response.data.result.rows\r\n            prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n            this.totalPages = response.data.result.numeroPaginas\r\n            this.currentPage = response.data.result.paginaActual\r\n            this.loadingTable = false\r\n        }) \r\n        .catch((error) =>{ \r\n           if(error.status == 404){\r\n              this.loadingTable = false \r\n            }\r\n        }) \r\n  },\r\n  filtro_GMEEPA(plaza,fecha,referencia,estatus){\r\n    this.lista_DTC_Filtrada = []\r\n    this.plazaFiltro = plaza;\r\n    this.fechaFiltro = fecha;\r\n    this.buscarGMMEP = referencia;\r\n    this.estatus = estatus;\r\n    let userId = this.$store.state.Login.cookiesUser.userId\r\n    let clavePlaza = this.$store.state.Login.plazaSelecionada.refereciaPlaza\r\n    let plazas = this.$store.state.Login.listaPlazas\r\n    if(this.plazaFiltro != ''){\r\n      this.plazaidsquare = plazas.find(e => e.squareCatalogId == this.plazaFiltro)\r\n    }\r\n    //Filtros 1 parametro\r\n    if(this.plazaFiltro != '' && this.fechaFiltro == '' && this.buscarGMMEP == '' && this.estatus == ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/null/null/null`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n          this.lista_DTC_Filtrada = []\r\n          this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n          }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro == '' && this.fechaFiltro != '' && this.buscarGMMEP == '' && this.estatus == ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/null/null/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n          }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro == '' && this.fechaFiltro == '' && this.buscarGMMEP != '' && this.estatus == ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/${this.buscarGMMEP}/null/null`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n          this.lista_DTC_Filtrada = []\r\n          this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro == '' && this.fechaFiltro == '' && this.buscarGMMEP == '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/null/${this.estatus}/null`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }   \r\n    // Filtros 2 Parametros plaza\r\n    else if(this.plazaFiltro != '' && this.fechaFiltro != '' && this.buscarGMMEP == '' && this.estatus == ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/null/null/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n          this.lista_DTC_Filtrada = []\r\n          this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro != '' && this.fechaFiltro == '' && this.buscarGMMEP != '' && this.estatus == ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/${this.buscarGMMEP}/null/null`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n            this.lista_DTC_Filtrada = []\r\n            this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro != '' && this.fechaFiltro == '' && this.buscarGMMEP == '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/null/${this.estatus}/null`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    //Filtros 2 parametros Fecha\r\n    else if(this.plazaFiltro == '' && this.fechaFiltro != '' && this.buscarGMMEP != '' && this.estatus == ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/${this.buscarGMMEP}/null/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n            this.lista_DTC_Filtrada = []\r\n            this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro == '' && this.fechaFiltro != '' && this.buscarGMMEP == '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/null/${this.estatus}/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n            this.lista_DTC_Filtrada = []\r\n            this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    //Filtros 2 parametros referencia\r\n    else if(this.plazaFiltro == '' && this.fechaFiltro == '' && this.buscarGMMEP != '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/${this.buscarGMMEP}/${this.estatus}/null`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }else{\r\n        let prueba = response.data.result.rows\r\n        prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n        this.totalPages = response.data.result.numeroPaginas\r\n        this.currentPage = response.data.result.paginaActual\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    //Filtros 3 parametros\r\n    else if(this.plazaFiltro == '' && this.fechaFiltro != '' && this.buscarGMMEP != '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/null/${this.buscarGMMEP}/${this.estatus}/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro != '' && this.fechaFiltro == '' && this.buscarGMMEP != '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/${this.buscarGMMEP}/${this.estatus}/null`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n          this.lista_DTC_Filtrada = []\r\n          this.loadingTable = false\r\n      }else{\r\n        let prueba = response.data.result.rows\r\n        prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n        this.totalPages = response.data.result.numeroPaginas\r\n        this.currentPage = response.data.result.paginaActual\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro != '' && this.fechaFiltro != '' && this.buscarGMMEP == '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/null/${this.estatus}/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n          this.lista_DTC_Filtrada = []\r\n          this.loadingTable = false\r\n      }else{\r\n        let prueba = response.data.result.rows\r\n        prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n        this.totalPages = response.data.result.numeroPaginas\r\n        this.currentPage = response.data.result.paginaActual\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    else if(this.plazaFiltro != '' && this.fechaFiltro != '' && this.buscarGMMEP != '' && this.estatus == ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/${this.buscarGMMEP}/null/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n            this.lista_DTC_Filtrada = []\r\n            this.loadingTable = false\r\n      }else{\r\n      let prueba = response.data.result.rows\r\n      prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n      this.totalPages = response.data.result.numeroPaginas\r\n      this.currentPage = response.data.result.paginaActual\r\n      this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n    //Filtro para cuando hay un parametro en especifico\r\n    else if(this.plazaFiltro != '' && this.fechaFiltro != '' && this.buscarGMMEP != '' && this.estatus != ''){\r\n      this.$http.get(`${API}/dtcData/GMMEP/${clavePlaza}/${this.page}/${this.total}/${userId}/null/null/${this.plazaidsquare.squareCatalogId}/${this.buscarGMMEP}/${this.estatus}/${this.fechaFiltro}`)\r\n      .then((response) => {\r\n      if (response.data.result.rows == null) {\r\n          this.lista_DTC_Filtrada = []\r\n          this.loadingTable = false\r\n      }else{\r\n        let prueba = response.data.result.rows\r\n        prueba.forEach(element => this.lista_DTC_Filtrada.push(element.dtcView));\r\n        this.totalPages = response.data.result.numeroPaginas\r\n        this.currentPage = response.data.result.paginaActual\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n      .catch((error) =>{ \r\n      if(error.response.status == 404){\r\n        this.lista_DTC_Filtrada = []\r\n        this.loadingTable = false\r\n      }\r\n      })\r\n    }\r\n  },\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.modal-container{\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100vh;\r\n  z-index: 1000;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConcentradoGMMEP.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConcentradoGMMEP.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConcentradoGMMEP.vue?vue&type=template&id=1d66912b&\"\nimport script from \"./ConcentradoGMMEP.vue?vue&type=script&lang=js&\"\nexport * from \"./ConcentradoGMMEP.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConcentradoGMMEP.vue?vue&type=style&index=0&id=1d66912b&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mr-10 -mt-3 sm:mr-0 sm:ml-4 sm:mt-0 w-full font-titulo\",class:{'sm:ml-1 sm:mt-18': _vm.tipo =='Diagnostico', 'sm:-ml-1': _vm.tipo =='Ficha'}},[_c('p',{staticClass:\"text-gray-800 font-titulo mt-2 mb-1 sm:text-sm sm:mb-4\",class:{'sm:ml-1 sm:mt-2 -mb-1 mt-4 ml-12 w-20': _vm.tipo =='Diagnostico', 'ml-5 mb-2 mt-6 lg:ml-73 sm:-ml-48 sm:-mb-1' : _vm.tipo == 'Ficha', 'sm:-mt-16' :_vm.$route.params.tipoVista == 'Editar'}},[_vm._v(\"IMAGENES\")]),(_vm.reporteDataInsertada)?_c('div',{staticClass:\"sm:-ml-4\",class:{'w-75 ml-4 mr-4 mt-4 sm:w-auto border border-white -mb-4 sm:-mt-18' : _vm.tipo == 'Diagnostico', \n        'w-75 ml-1 sm:ml-10 sm:w-66 sm:-mb-10' : _vm.tipo == 'Ficha', 'w-1/3 ml-5 sm:ml-1 sm:w-66 sm:mb-10 lg:ml-73' :_vm.$route.params.tipoVista == 'Editar' }},[(!_vm.cargandoImagen)?_c('div',{staticClass:\"inline-flex h-40 border border-gray-400 rounded-lg w-full sm:w-66\",class:{'sm:w-66 mt-0 sm:mt-1 sm:-ml-1': _vm.tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-4': _vm.tipo =='Ficha'}},[_c('div',{staticClass:\"w-2/3 grid grid-cols-2 p-2 gap-4 overflow-auto\",class:{'grid-cols-2': _vm.tipo == 'Actividades', 'grid-cols-1': _vm.tipo == 'Diagnostico', 'grid-cols-1': _vm.tipo == 'Ficha' }},_vm._l((_vm.arrayImagenes),function(item){return _c('div',{key:item.name,staticClass:\"relative border\"},[_c('span',{staticClass:\"absolute border rounded-full top-0 right-0\",on:{\"click\":function($event){return _vm.eliminar_imagen(item.name)}}},[_c('img',{staticClass:\"w-4 cursor-pointer\",attrs:{\"src\":require(\"../assets/img/close.png\")}})]),_c('div',{staticClass:\"p-2 mx-aut\"},[(item.imgbase.length < 200)?_c('lazy-image',{attrs:{\"src\":`${item.imgbase}`,\"img-class\":['w-32', 'h-32'],\"placeholder\":\"../assets/img/load.gif\"}}):_c('lazy-image',{attrs:{\"src\":`data:image/jpeg;base64,${item.imgbase}`,\"img-class\":['w-32', 'h-32'],\"placeholder\":\"../assets/img/load.gif\"}})],1)])}),0),_c('div',{staticClass:\"w-1/3 border-2 relative border-gray-600 inline-block border-dashed text-center rounded-lg\",class:{'' : _vm.tipo == 'Diagnostico'}},[_c('div',{staticClass:\"sm:-mt-4\"},[_c('input',{staticClass:\"h-40 w-full inset-0 absolute opacity-0 cursor-pointer\",class:{'cursor-not-allowed': _vm.anularcarga},attrs:{\"disabled\":_vm.anularcarga,\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.recibir_imagenes}}),_c('font-awesome-icon',{staticClass:\"p-5 w-auto text-center flex h-32 xl:ml-8 xl:-mt-6 xl:-mb-6 sm:w-10 sm:h-10 sm:p-1 sm:mt-16 text-blue-800\",class:{'sm:h-16 sm:w-16': _vm.tipo =='Diagnostico' || _vm.tipo == 'Ficha'},attrs:{\"icon\":\"fa-solid fa-plus\"}}),_c('span',{staticClass:\"text-sm text-gray-500 sm:hidden\"},[_vm._v(\"Agregar imagenes\")])],1)])]):_c('div',{staticClass:\"text-center font-serif text-xs h-40 border border-gray-400 rounded-lg w-full sm:w-66\",class:{'sm:w-auto mt-0 sm:mt-2 sm:ml-1 sm:mr-1': _vm.tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-3': _vm.tipo =='Ficha'}},[_c('div',{staticClass:\"mt-5\"},[_c('div',{staticClass:\"p-10\"},[_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Cargando imagen\")]),_c('BarraProgreso',{attrs:{\"color\":'blue',\"percentage\":_vm.progress}})],1)])]),_c('span',{staticClass:\"text-gray-500 text-sm border border-white sm:-mt-6 sm:ml-0 sm:w-32\"},[_vm._v(_vm._s(_vm.num)+\"/\"+_vm._s(_vm.limiteFotos)+\" (Máximo \"+_vm._s(_vm.limiteFotos)+\" fotografías)\")])]):_c('div',{class:{'w-1/3 ml-5 lg:ml-73' : _vm.tipo == 'Diagnostico', 'w-1/3 ml-5 sm:ml-48 lg:ml-73' :_vm.tipo == 'Ficha'}},[_c('button',{staticClass:\"inline-flex h-40 border border-gray-400 bg-gray-300 rounded-lg w-full sm:w-66\",class:{'bg-gray-400' : _vm.reporteDataInsertada}},[_c('div',{staticClass:\"w-2/3 grid p-2 gap-4 overflow-auto bg-gray-300\"}),_c('div',{staticClass:\"w-1/3 border-2 relative border-gray-600 bg-gray-300 inline-block border-dashed text-center rounded-lg sm:h-40\"},[_c('button',{staticClass:\"bg-gray-300\",class:{'' : _vm.tipo == 'Diagnostico'},attrs:{\"disabled\":_vm.reporteDataInsertada}},[_c('img',{staticClass:\"p-5 w-auto mx-auto h-31 sm:w-10 sm:h-10 sm:p-1 sm:mt-16\",class:{'sm:h-10 sm:mb-16' : _vm.tipo == 'Diagnostico'},attrs:{\"src\":require(\"../assets/img/more.png\")}}),_c('span',{staticClass:\"text-sm text-gray-500 mb-0 sm:hidden\"},[_vm._v(\"Agregar imagenes\")])])])]),(_vm.tipo == 'Diagnostico')?_c('p',{staticClass:\"-mt-1 text-1xl sm:text-sm text-red-700\",class:{'text-center mb-4' :_vm.tipo == 'Diag'}},[_vm._v(\"Primero debe enviar la información del Reporte\")]):_c('p',{staticClass:\"mt-1 text-sm text-center text-red-700\"},[_vm._v(\"Para agregar imagenes primero debe crear el reporte\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full bg-gray-200 h-2 relative overflow-hidden\",class:[{'rounded-full': _vm.rounded}, { indeterminate: _vm.indeterminate}]},[_c('div',{staticClass:\"h-full progressbar\",class:[`bg-${_vm.color}-500`, {'absolute top-0': _vm.indeterminate}, {'rounded-full': _vm.rounded}],style:({width: `${_vm.percentage}%`}),attrs:{\"role\":\"progressbar\",\"aria-valuenow\":_vm.percentage,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}},[_c('span',{staticClass:\"flex items-center h-full\"},[_vm._t(\"default\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"w-full bg-gray-200 h-2 relative overflow-hidden\"\r\n    :class=\"[{'rounded-full': rounded}, { indeterminate: indeterminate}]\"\r\n  >\r\n    <div\r\n      class=\"h-full progressbar\"\r\n      :class=\"[`bg-${color}-500`, {'absolute top-0': indeterminate}, {'rounded-full': rounded}]\"\r\n      role=\"progressbar\"\r\n      :style=\"{width: `${percentage}%`}\"\r\n      :aria-valuenow=\"percentage\"\r\n      aria-valuemin=\"0\"\r\n      aria-valuemax=\"100\"\r\n    >\r\n      <span class=\"flex items-center h-full\">\r\n        <slot></slot>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  inheritAttrs: false,\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      default: \"teal\"\r\n    },\r\n    percentage: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    rounded: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    indeterminate: Boolean\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n@keyframes progress-indeterminate {\r\n  0% {\r\n    width: 30%;\r\n    left: -40%;\r\n  }\r\n  60% {\r\n    left: 100%;\r\n    width: 100%;\r\n  }\r\n  to {\r\n    left: 100%;\r\n    width: 0;\r\n  }\r\n}\r\n.progressbar {\r\n  transition: width 0.25s ease;\r\n}\r\n.indeterminate .progressbar {\r\n  animation: progress-indeterminate 1.4s ease infinite;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarraProgreso.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarraProgreso.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarraProgreso.vue?vue&type=template&id=55df656c&scoped=true&\"\nimport script from \"./BarraProgreso.vue?vue&type=script&lang=js&\"\nexport * from \"./BarraProgreso.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BarraProgreso.vue?vue&type=style&index=0&id=55df656c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55df656c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"mr-10 -mt-3 sm:mr-0 sm:ml-4 sm:mt-0 w-full font-titulo\" :class=\"{'sm:ml-1 sm:mt-18': tipo =='Diagnostico', 'sm:-ml-1': tipo =='Ficha'}\">        \r\n        <p class=\"text-gray-800 font-titulo mt-2 mb-1 sm:text-sm sm:mb-4\"\r\n        :class=\"{'sm:ml-1 sm:mt-2 -mb-1 mt-4 ml-12 w-20': tipo =='Diagnostico', 'ml-5 mb-2 mt-6 lg:ml-73 sm:-ml-48 sm:-mb-1' : tipo == 'Ficha', 'sm:-mt-16' :$route.params.tipoVista == 'Editar'}\">IMAGENES</p>\r\n        <div v-if=\"reporteDataInsertada\" class=\"sm:-ml-4\" :class=\"{'w-75 ml-4 mr-4 mt-4 sm:w-auto border border-white -mb-4 sm:-mt-18' : tipo == 'Diagnostico', \r\n            'w-75 ml-1 sm:ml-10 sm:w-66 sm:-mb-10' : tipo == 'Ficha', 'w-1/3 ml-5 sm:ml-1 sm:w-66 sm:mb-10 lg:ml-73' :$route.params.tipoVista == 'Editar' }\">\r\n            <div class=\"inline-flex h-40 border border-gray-400 rounded-lg w-full sm:w-66\" :class=\"{'sm:w-66 mt-0 sm:mt-1 sm:-ml-1': tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-4': tipo =='Ficha'}\" v-if=\"!cargandoImagen\">\r\n                <div class=\"w-2/3 grid grid-cols-2 p-2 gap-4 overflow-auto\" :class=\"{'grid-cols-2': tipo == 'Actividades', 'grid-cols-1': tipo == 'Diagnostico', 'grid-cols-1': tipo == 'Ficha' }\">                                                                                                                \r\n                    <div class=\"relative border \" v-for=\"(item) in arrayImagenes\" :key=\"item.name\">\r\n                        <span @click=\"eliminar_imagen(item.name)\" class=\"absolute border rounded-full top-0 right-0\">\r\n                            <img  src=\"../assets/img/close.png\" class=\"w-4 cursor-pointer \" />\r\n                        </span>   \r\n                        <div class=\"p-2 mx-aut\">      \r\n                            <lazy-image v-if=\"item.imgbase.length < 200\" :src=\"`${item.imgbase}`\" :img-class=\"['w-32', 'h-32']\" placeholder=\"../assets/img/load.gif\"/>     \r\n                            <lazy-image v-else :src=\"`data:image/jpeg;base64,${item.imgbase}`\" :img-class=\"['w-32', 'h-32']\" placeholder=\"../assets/img/load.gif\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"w-1/3 border-2 relative border-gray-600 inline-block border-dashed text-center rounded-lg\"\r\n                    :class=\"{'' : tipo == 'Diagnostico'}\">\r\n                    <div class=\"sm:-mt-4\">\r\n                        <input @change=\"recibir_imagenes\" :disabled=\"anularcarga\" type=\"file\" multiple class=\"h-40 w-full inset-0 absolute opacity-0 cursor-pointer\" :class=\"{'cursor-not-allowed': anularcarga}\">\r\n                        <!-- <img src=\"../assets/img/more.png\" class=\"p-5 w-auto mx-auto h-32 sm:w-10 sm:h-10 sm:p-1 sm:mt-16\" :class=\"{'sm:h-16 sm:w-16': tipo =='Diagnostico' || tipo == 'Ficha'}\" alt/> -->\r\n                        <font-awesome-icon icon=\"fa-solid fa-plus\" class=\"p-5 w-auto text-center flex h-32 xl:ml-8 xl:-mt-6 xl:-mb-6 sm:w-10 sm:h-10 sm:p-1 sm:mt-16 text-blue-800\" :class=\"{'sm:h-16 sm:w-16': tipo =='Diagnostico' || tipo == 'Ficha'}\"/>\r\n                        <span class=\"text-sm text-gray-500 sm:hidden\">Agregar imagenes</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\" text-center font-serif text-xs h-40 border border-gray-400 rounded-lg w-full sm:w-66\" :class=\"{'sm:w-auto mt-0 sm:mt-2 sm:ml-1 sm:mr-1': tipo =='Diagnostico', 'sm:w-full mt-0 sm:mt-2 sm:ml-3': tipo =='Ficha'}\" v-else>\r\n                <div class=\"mt-5\">                \r\n                    <div class=\"p-10\">\r\n                        <p class=\"mb-2\">Cargando imagen</p>\r\n                        <BarraProgreso :color=\"'blue'\" :percentage=\"progress\" ></BarraProgreso>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <span class=\"text-gray-500 text-sm border border-white sm:-mt-6 sm:ml-0 sm:w-32\">{{ num }}/{{ limiteFotos }} (Máximo {{ limiteFotos }} fotografías)</span>     \r\n        </div> \r\n        <div v-else :class=\"{'w-1/3 ml-5 lg:ml-73' : tipo == 'Diagnostico', 'w-1/3 ml-5 sm:ml-48 lg:ml-73' :tipo == 'Ficha'}\">\r\n            <button class=\"inline-flex h-40 border border-gray-400 bg-gray-300 rounded-lg w-full sm:w-66\" :class=\"{'bg-gray-400' : reporteDataInsertada}\">\r\n                <div class=\"w-2/3 grid p-2 gap-4 overflow-auto bg-gray-300\"></div>\r\n                <div class=\"w-1/3 border-2 relative border-gray-600 bg-gray-300 inline-block border-dashed text-center rounded-lg sm:h-40\">\r\n                    <button class=\"bg-gray-300\" :disabled=\"reporteDataInsertada\" :class=\"{'' : tipo == 'Diagnostico'}\">\r\n                        <img src=\"../assets/img/more.png\" class=\"p-5 w-auto mx-auto h-31 sm:w-10 sm:h-10 sm:p-1 sm:mt-16\" :class=\"{'sm:h-10 sm:mb-16' : tipo == 'Diagnostico'}\"/>\r\n                        <span class=\"text-sm text-gray-500 mb-0 sm:hidden\">Agregar imagenes</span>\r\n                    </button>\r\n                </div>\r\n            </button>\r\n            <p class=\"-mt-1 text-1xl sm:text-sm  text-red-700\" v-if=\"tipo == 'Diagnostico'\" :class=\"{'text-center mb-4' :tipo == 'Diag'}\">Primero debe enviar la información del Reporte</p>\r\n            <p class=\"mt-1 text-sm text-center text-red-700\" v-else>Para agregar imagenes primero debe crear el reporte</p>\r\n        </div>       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ServiceImagenes from '../services/ImagenesService'\r\nimport BarraProgreso from '../components/BarraProgreso'\r\nconst API = process.env.VUE_APP_URL_API_PRODUCCION\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n    props:{\r\n        referenceNumber: {\r\n            type: String,\r\n            default: () => ''\r\n        },\r\n        tipo: {\r\n            type: String,\r\n            default: () => 'Actividades'\r\n        },\r\n        reporteDataInsertada: {\r\n            type: Boolean,\r\n            default: () => false\r\n        },\r\n        maximofotosanexo:{\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        referenciaAnexo:{\r\n            type: String,\r\n            default: () => ''\r\n        },\r\n        subversionAnexo:{\r\n            type: Boolean,\r\n            default: () => false\r\n        },\r\n        editar:{\r\n            type: Boolean,\r\n            default: () => false\r\n        },\r\n    },\r\n    components: {\r\n        BarraProgreso\r\n    },\r\n    data(){\r\n        return{\r\n            arrayImagenes: [],\r\n            cargandoImagen: false,\r\n            progress: 20,\r\n            //Imagene Timer\r\n            seconds: 6,\r\n            countdown: 5,\r\n            expires_in: null,\r\n            interval: null,\r\n            limiteFotos: 0,\r\n            rand: 1,\r\n            anularcarga:false\r\n        }\r\n    },\r\n    destroyed(){\r\n        this.arrayImagenes = []           \r\n        clearInterval(this.interval);            \r\n    },\r\n    beforeMount() { \r\n        if(this.tipo == 'Anexo'){\r\n            setTimeout(()=>{\r\n            let urlImgPaths = ''\r\n            this.limiteFotos = this.maximofotosanexo\r\n            let nombreimg = [];               \r\n            urlImgPaths = `${API}/ReporteFotografico/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n            console.log(urlImgPaths)\r\n            this.$http.get(urlImgPaths).then((response) => \r\n                {\r\n                    console.log(response.data);\r\n                    response.data.forEach(element => { \r\n                        nombreimg.push(element)\r\n                        let urlImgDescarga = `${API}/ReporteFotografico/EquipoNuevo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        if(response.status != 404){                         \r\n                                    let newArrayImg = []                      \r\n                                    nombreimg.forEach(item => {\r\n                                        newArrayImg.push({\r\n                                            \"name\": item, \r\n                                            \"imgbase\": `${urlImgDescarga}/${item}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n                                        })\r\n                                    })\r\n                            this.arrayImagenes = newArrayImg\r\n                            if(this.arrayImagenes.length == this.limiteFotos){\r\n                                console.log(this.arrayImagenes.length)\r\n                                console.log(this.limiteFotos)\r\n                                this.anularcarga = true\r\n                            }else{\r\n                                this.anularcarga = false\r\n                            } \r\n                        } \r\n                             \r\n                   });\r\n                   \r\n/*                    response.data.forEach(element => { \r\n                       nombreimg.push(element)\r\n                   });\r\n                    console.log(response);\r\n                    console.log(nombreimg);\r\n                    nombreimg.forEach(element => {\r\n                    this.$http.get(urlImgPaths)\r\n                        .then((response)=>{\r\n                            let urlImgDescarga = `${API}/ReporteFotografico/EquipoNuevo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${element}/${this.referenciaAnexo}`\r\n                            if(response.status != 404){                          \r\n                                    let newArrayImg = []                      \r\n                                    response.data.forEach(item => {\r\n                                        newArrayImg.push({\r\n                                            \"name\": item, \r\n                                            \"imgbase\": `${urlImgDescarga}`\r\n                                        })\r\n                                    })\r\n                                    this.arrayImagenes = newArrayImg                                       \r\n                                }    \r\n                        }) \r\n                    }); */\r\n                    // if (response.data.length == 0)\r\n                    //    this.$emit('bloquear-boton-diagnostico', true)  \r\n                });\r\n            },2000)\r\n        }       \r\n        else{\r\n            setTimeout(() => {               \r\n            let urlImgPaths = ''                                \r\n            if(this.tipo == 'Actividades'){\r\n                this.limiteFotos = 36\r\n                urlImgPaths = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n            }\r\n            else if(this.tipo == 'Diagnostico'){\r\n                this.limiteFotos = 4                \r\n                urlImgPaths = `${API}/DiagnosticoFalla/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n            }\r\n            else if(this.tipo == 'Anexo'){\r\n                this.limiteFotos = this.maximofotosanexo                \r\n                urlImgPaths = `${API}/ReporteFotografico/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n            }\r\n            else{\r\n                this.limiteFotos = 4                                \r\n                urlImgPaths = `${API}/FichaTecnicaAtencion/Images/GetPaths/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n            }            \r\n            this.$http.get(urlImgPaths)\r\n                .then((response) => {                                              \r\n                    let urlImgDescarga = ''\r\n                    if(this.tipo == 'Actividades')\r\n                        urlImgDescarga = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                    else if(this.tipo == 'Diagnostico'){\r\n                        urlImgDescarga = `${API}/DiagnosticoFalla/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                    }\r\n                    else{\r\n                        urlImgDescarga = `${API}/FichaTecnicaAtencion/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`   \r\n                    }\r\n                    if(response.status != 404){                          \r\n                        let newArrayImg = []                      \r\n                        response.data.forEach(item => {\r\n                            newArrayImg.push({\r\n                                \"name\": item, \r\n                                \"imgbase\": `${urlImgDescarga}/${item}`\r\n                            })\r\n                        })\r\n                        this.arrayImagenes = newArrayImg                                       \r\n                    }    \r\n                })                \r\n            }, 500)\r\n        }         \r\n    },\r\n    computed:{\r\n        num (){\r\n            return this.arrayImagenes.length\r\n        }\r\n    },\r\n    methods: {\r\n        recibir_imagenes: async function (e){  \r\n            this.$emit('bloquear-boton-diagnostico', true)                    \r\n            await this.enviar_imagenes(e)\r\n            if(this.arrayImagenes.length == this.limiteFotos){\r\n                console.log(this.arrayImagenes.length)\r\n                console.log(this.limiteFotos)\r\n                this.anularcarga = true\r\n            }else{\r\n                this.anularcarga = false\r\n            } \r\n            this.cargandoImagen = true            \r\n            this.countdown = moment.utc(this.seconds).format('HH:mm:ss');\r\n            this.expires_in = this.seconds;\r\n            this._setInterval()                               \r\n        },\r\n        _setInterval: function() {\r\n            this.interval = setInterval(() => {\r\n                if(this.expires_in === 1){\r\n                    this.progress = 20\r\n                    this.cargandoImagen = false\r\n                    this.$emit('bloquear-boton-diagnostico', false)\r\n                }\r\n                else if (this.expires_in === 0) {                    \r\n                    clearInterval(this.interval);\r\n                } else {\r\n                    this.expires_in -= 1;\r\n                    this.progress += 15\r\n                    this.countdown = moment.utc(this.expires_in * 1000).subtract(1, 'seconds').format('HH:mm:ss');\r\n                }\r\n            }, 1000);\r\n        },\r\n        enviar_imagenes: async function(value){                                                 \r\n            let boolValidacion = this.arrayImagenes.some(item => item.name.split('-')[0] != this.referenceNumber) \r\n            let objGetImagen = ''\r\n            if(boolValidacion ==     true || this.arrayImagenes.length == 0){                                                 \r\n                let rutaInsertImagenes = {};\r\n                if(this.tipo == 'Actividades'){\r\n                    rutaInsertImagenes = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                    objGetImagen = { rutaGetImagen: `${API}/ReporteFotografico/MantenimientoPreventivo/Images`, tipo: 1 }                    \r\n                }\r\n                else if (this.tipo == 'ConcentradoDTC'){\r\n                        this.limiteFotos = 100\r\n                        rutaInsertImagenes = `${API}/dtcData/EquipoDañado/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/dtcData/EquipoDañado/Images`, tipo: 4}                        \r\n                }\r\n                else if (this.tipo == 'Anexo'){\r\n                        if(this.editar == true){    \r\n                            this.subversionAnexo = true\r\n                        }\r\n                        this.limiteFotos = this.maximofotosanexo\r\n                        rutaInsertImagenes = `${API}/ReporteFotografico/EquipoNuevo/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${this.referenciaAnexo}/${this.subversionAnexo}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/ReporteFotografico/EquipoNuevo/Images`, tipo: 5}\r\n                }\r\n                else{                    \r\n                    if(this.tipo == 'Diagnostico'){                        \r\n                        rutaInsertImagenes = `${API}/DiagnosticoFalla/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/DiagnosticoFalla/Images`, tipo: 2 }\r\n                    }\r\n                    else{\r\n                        rutaInsertImagenes = `${API}/FichaTecnicaAtencion/Images/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}`\r\n                        objGetImagen = { rutaGetImagen: `${API}/FichaTecnicaAtencion/Images`, tipo: 3 }\r\n                    }\r\n                }                                 \r\n                for(let imagenes of value.target.files){                      \r\n                    if(this.arrayImagenes.length + 1 <= this.limiteFotos){                                                          \r\n                        let formData = new FormData();\r\n                        if(this.tipo != 'ConcentradoDTC')\r\n                            formData.append(\"image\", imagenes);\r\n                        else{\r\n                            let objPlaza = this.$store.state.Login.cookiesUser.plazasUsuario.find(plaza => plaza.refereciaPlaza = this.referenceNumber.split('-')[0])                            \r\n                            formData.append(\"id\", this.referenceNumber);\r\n                            formData.append(\"plaza\", objPlaza.plazaNombre);\r\n                            formData.append(\"image\",imagenes);  \r\n                        }\r\n                        if(imagenes.type == 'image/png' || imagenes.type == 'image/jpeg'){                        \r\n                            await this.$http.post(rutaInsertImagenes, formData)\r\n                                .then((response) => {                                                                                                   \r\n                                    this.arrayImagenes = ServiceImagenes.obtener_array_imagenes_agregadas(response.data, this.arrayImagenes, objGetImagen,this.subversionAnexo,this.referenciaAnexo)\r\n                                })                                \r\n                        }  \r\n                        else{\r\n                            this.$notify.warning({\r\n                                title: \"Error!\",\r\n                                msg: `SOLO PUEDE SUBIR IMAGENES.`,\r\n                                position: \"bottom right\",\r\n                                styles: {\r\n                                    height: 100,\r\n                                    width: 500,\r\n                                },\r\n                            }); \r\n                        }                  \r\n                    }                      \r\n                }                                \r\n            }                 \r\n        },\r\n        eliminar_imagen(nombreImagen){                \r\n            if(this.arrayImagenes.length > 1){                 \r\n                if(nombreImagen.split('_')[0] == this.referenceNumber){\r\n                    let urlDeleteImg = ''\r\n                    if(this.tipo == 'Actividades'){                        \r\n                        urlDeleteImg = `${API}/ReporteFotografico/MantenimientoPreventivo/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}`\r\n                    }\r\n                    else if(this.tipo == 'Diagnostico'){                               \r\n                        urlDeleteImg = `${API}/DiagnosticoFalla/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}`\r\n                    }\r\n                    else if(this.tipo == 'Anexo'){\r\n                        this.anularcarga = false\r\n                        if(this.editar == true){\r\n                            this.subversionAnexo = true\r\n                        }\r\n                        urlDeleteImg = `${API}/ReporteFotografico/EquipoNuevo/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}/${this.referenciaAnexo}/${this.subversionAnexo}`       \r\n            \r\n                    }\r\n                    else{                                           \r\n                        urlDeleteImg = `${API}/FichaTecnicaAtencion/Images/DeleteImg/${this.referenceNumber.split('-')[0]}/${this.referenceNumber}/${nombreImagen}`\r\n                    }\r\n                    this.$http.get(urlDeleteImg)\r\n                        .then(() => {                                                                 \r\n                            this.$notify.success({\r\n                                title: \"Ok!\",\r\n                                msg: `SE ELIMINO LA IMAGEN CORRECTAMENTE.`,\r\n                                position: \"bottom right\",\r\n                                styles: { height: 100, width: 500 },\r\n                            });                                                                                                           \r\n                        })                    \r\n                }        \r\n                this.$nextTick(() => {                                     \r\n                    let arrayIMG = this.arrayImagenes.filter(imagen => imagen.name != nombreImagen)\r\n                    this.arrayImagenes = []\r\n                    this.arrayImagenes = arrayIMG                    \r\n                })               \r\n            }\r\n            else{\r\n                this.$notify.warning({\r\n                    title: \"Ok!\",\r\n                    msg: `SIEMPRE DEBE TENER MINIMO UNA FOTO.`,\r\n                    position: \"bottom right\",\r\n                    styles: { height: 100, width: 500 },\r\n                });  \r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagenesGenericas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagenesGenericas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImagenesGenericas.vue?vue&type=template&id=b08d637a&\"\nimport script from \"./ImagenesGenericas.vue?vue&type=script&lang=js&\"\nexport * from \"./ImagenesGenericas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}